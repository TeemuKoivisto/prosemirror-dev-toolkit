(this["webpackJsonpexample-app"]=this["webpackJsonpexample-app"]||[]).push([[0],{224:function(t,e,n){},225:function(t,e,n){},226:function(t,e,n){},227:function(t,e,n){},228:function(t,e,n){"use strict";n.r(e);var r,o,i,s=n(0),a=n(36),c=n(44),u=n(5),l=n(13),f=n(71),h=n(10),d=n(14),p=n(3);function v(t){var e=t.className;return Object(p.jsx)(y,{className:e,children:Object(p.jsxs)(b,{children:[Object(p.jsx)(x,{to:"/",exact:!0,activeClassName:"current",children:"Front page"}),Object(p.jsx)(x,{to:"/dev-tools",exact:!0,activeClassName:"current",children:"Dev tools"})]})})}var g,m,y=d.a.div(r||(r=Object(l.a)(["\n  background: var(--color-primary);\n  box-shadow: 0 0 2px 2px rgba(0,0,0,0.18);\n  padding: 1rem;\n"]))),b=d.a.nav(o||(o=Object(l.a)(["\n  align-items: center;\n  color: #fff;\n  display: flex;\n"]))),x=Object(d.a)(c.b)(i||(i=Object(l.a)(["\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  font-size: 1rem;\n  padding: 0.5rem 1rem;\n  text-decoration: none;\n  transition: 0.2s hover;\n  &:hover {\n    text-decoration: underline;\n  }\n  &.current {\n    font-weight: 600;\n  }\n"]))),w=["component"],$=function(t){var e,n=t.component,r=Object(f.a)(t,w);return Object(p.jsx)(u.b,Object(h.a)(Object(h.a)({},r),{},{render:(e=n,function(t){return Object(p.jsxs)(k,{children:[Object(p.jsx)(v,Object(h.a)({},t)),Object(p.jsx)(_,{children:Object(p.jsx)(e,Object(h.a)({},t))})]})})}))},k=d.a.div(g||(g=Object(l.a)(["\n  min-height: 100vh;\n"]))),_=d.a.main(m||(m=Object(l.a)(["\n  margin: 40px auto 0 auto;\n  max-width: 680px;\n  padding-bottom: 20px;\n  @media only screen and (max-width: 720px) {\n    margin: 40px 20px 0 20px;\n    padding-bottom: 20px;\n  }\n"]))),j=n(45),O=n(95),S=n.n(O),C=n(2),E=n(96),M=n(101),T=n(24),R=n(102),A=new(n(1).i)({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){var e=t;return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(t){var e=t.attrs;return["img",{src:e.src,alt:e.alt,title:e.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},marks:{link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){var e=t;return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(t){var e=t.attrs;return["a",{href:e.href,title:e.title},0]}},italic:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},bold:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return["strong",0]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}}}),N=n(18),q=function t(){Object(j.a)(this,t),this.values=[{1:[1,2,3]},{a:"hello"},1]},P=new C.e("example-plugin");function I(t,e){var n=new Map(t.changedNodesMap.entries());e.changedNodesMap.forEach((function(t,e){return n.set(e,t)}));var r=new Set(t.changedNodesTypesSet.values());return e.changedNodesTypesSet.forEach((function(t){return r.add(t)})),{tr:e.tr,changedNodesMap:n,changedNodesTypesSet:r}}var D=function(){return new C.d({key:P,state:{init:function(t,e){return{decorationSet:T.b.empty,exampleMap:new Map([["a",1],["b",{x:[1,2]}]]),exampleSet:new Set([document.createElement("div"),document.createElement("span")]),exampleClasses:[new q,new q],trackedTrs:[],joined:{tr:e.tr,changedNodesMap:new Map,changedNodesTypesSet:new Set}}},apply:function(t,e,n,r){var o=function(t,e){var n=new Map,r=new Set;return(t.steps||[]).forEach((function(t){var o=t.to,i=t.from,s=t.slice,a=s.size||0,c=i===o,u=!c&&0!==a,l=c?"insert":u?"replace":"delete";(u||!c&&0===a)&&e.nodesBetween(i,o,(function(t,e){if(!n.has(t))return n.set(t,{pos:e,operation:l}),r.add(t.type),!0})),(c||u)&&s.content.descendants((function(t,e){n.set(t,{pos:e,operation:l}),r.add(t.type)}))})),{tr:t,changedNodesMap:n,changedNodesTypesSet:r}}(t,n.doc);return t.getMeta("appendedTransaction")?Object(h.a)(Object(h.a)({},e),{},{trackedTrs:[].concat(Object(N.a)(e.trackedTrs),[o]),joined:I(e.joined,o)}):Object(h.a)(Object(h.a)({},e),{},{trackedTrs:[o],joined:o})}},props:{decorations:function(t){return this.getState(t).decorationSet}}})};n(224),n(225),n(226);function B(t){var e=t.className,n=void 0===e?"":e,r=Object(s.useRef)(null),o=Object(s.useRef)(null);function i(e){if(o.current){var n=o.current.state.apply(e);o.current.updateState(n),t.onEdit&&t.onEdit(n)}}return Object(s.useLayoutEffect)((function(){var e=C.b.create({schema:A,plugins:Object(R.a)({schema:A}).concat(D())}),n=r.current;return n&&(o.current=function(t,e){return new T.c({mount:t},{state:e,dispatchTransaction:i})}(n,e),t.onEditorReady&&(null===t||void 0===t||t.onEditorReady(o.current))),function(){var t;null===(t=o.current)||void 0===t||t.destroy()}}),[]),Object(p.jsx)("div",{id:"example-editor",ref:r,className:n})}var z,F=function t(e){var n=this;if(Object(j.a)(this,t),this.view=void 0,this.currentEditorState=void 0,this.localStorageKey=void 0,this.setEditorView=function(t){if(n.view=t,n.currentEditorState){var e=C.b.fromJSON({schema:n.view.state.schema,plugins:n.view.state.plugins},n.currentEditorState);n.view.updateState(e)}},this.syncCurrentEditorState=function(){var t=n.view.state.toJSON();localStorage.setItem(n.localStorageKey,JSON.stringify(t))},this.localStorageKey=e,"undefined"!==typeof window){var r=localStorage.getItem(this.localStorageKey);if(r&&null!==r&&r.length>0){var o=JSON.parse(r);this.currentEditorState=o}}};function L(t){var e=t.useDevTools,n=Object(s.useMemo)((function(){return new F(e?"dev-tools":"dev-toolkit")}),[e]),r=Object(s.useMemo)((function(){return S()(n.syncCurrentEditorState,250)}),[n.syncCurrentEditorState]);return Object(p.jsx)(B,{onEdit:function(){r()},onEditorReady:function(t){n.setEditorView(t),e?Object(M.a)(t):Object(E.a)(t,{devToolsExpanded:!0,buttonPosition:"bottom-left"})}})}function U(){return Object(p.jsxs)(V,{children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:Object(p.jsx)("a",{href:"https://github.com/TeemuKoivisto/prosemirror-dev-toolkit",children:"prosemirror-dev-toolkit"})}),Object(p.jsx)("p",{children:"Github repo"}),Object(p.jsx)("p",{children:"An example React app with ProseMirror editor that uses dev-toolkit."})]}),Object(p.jsx)(L,{})]})}var J,V=d.a.div(z||(z=Object(l.a)(["\n\n"])));function K(){return Object(p.jsxs)(G,{children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:Object(p.jsx)("a",{href:"https://github.com/d4rkr00t/prosemirror-dev-tools",children:"Original prosemirror-dev-tools"})}),Object(p.jsx)("p",{children:Object(p.jsx)("a",{href:"https://github.com/d4rkr00t/prosemirror-dev-tools",children:"Github repo"})})]}),Object(p.jsx)(L,{useDevTools:!0})]})}var G=d.a.div(J||(J=Object(l.a)(["\n\n"]))),H=function(){return Object(p.jsx)(c.a,{basename:"/prosemirror-dev-toolkit",children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)($,{exact:!0,path:"/",component:U}),Object(p.jsx)($,{exact:!0,path:"/dev-tools",component:K}),Object(p.jsx)(u.a,{to:"/"})]})})};n(227);Object(a.render)(Object(p.jsx)(H,{}),document.getElementById("root"))},96:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return _i}));var r=n(18);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var c={exports:{}};!function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}(c);var u,l=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(c.exports);function f(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(){}function x(t,e){for(var n in e)t[n]=e[n];return t}function w(t){return t()}function $(){return Object.create(null)}function k(t){t.forEach(w)}function _(t){return"function"==typeof t}function j(t,e){return t!=t?e==e:t!==e||t&&"object"===y(t)||"function"==typeof t}function O(t){if(null==t)return b;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=t.subscribe.apply(t,n);return o.unsubscribe?function(){return o.unsubscribe()}:o}function S(t){var e;return O(t,(function(t){return e=t}))(),e}function C(t,e,n){t.$$.on_destroy.push(O(e,n))}function E(t,e,n,r){if(t){var o=M(t,e,n,r);return t[0](o)}}function M(t,e,n,r){return t[1]&&r?x(n.ctx.slice(),t[1](r(e))):n.ctx}function T(t,e,n,r){if(t[2]&&r){var o=t[2](r(n));if(void 0===e.dirty)return o;if("object"===y(o)){for(var i=[],s=Math.max(e.dirty.length,o.length),a=0;a<s;a+=1)i[a]=e.dirty[a]|o[a];return i}return e.dirty|o}return e.dirty}function R(t,e,n,r,o,i){if(o){var s=M(e,n,r,i);t.p(s,o)}}function A(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function N(t){var e={};for(var n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function q(t,e){var n={};for(var r in e=new Set(e),t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function P(t){return null==t?"":t}function I(t,e){t.appendChild(e)}function D(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode.removeChild(t)}function z(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function F(t){return document.createElement(t)}function L(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function U(t){return document.createTextNode(t)}function J(){return U(" ")}function V(){return U("")}function K(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function G(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function H(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:G(t,r,e[r])}function W(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function Y(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Z(t,e,n){t.classList[n?"add":"remove"](e)}function X(t){u=t}function tt(){if(!u)throw new Error("Function called outside component initialization");return u}function et(t){tt().$$.on_mount.push(t)}function nt(t,e){tt().$$.context.set(t,e)}function rt(t){return tt().$$.context.get(t)}function ot(t,e){var n=this,r=t.$$.callbacks[e.type];r&&r.slice().forEach((function(t){return t.call(n,e)}))}var it=[],st=[],at=[],ct=[],ut=Promise.resolve(),lt=!1;function ft(t){at.push(t)}var ht=!1,dt=new Set;function pt(){if(!ht){ht=!0;do{for(var t=0;t<it.length;t+=1){var e=it[t];X(e),vt(e.$$)}for(X(null),it.length=0;st.length;)st.pop()();for(var n=0;n<at.length;n+=1){var r=at[n];dt.has(r)||(dt.add(r),r())}at.length=0}while(it.length);for(;ct.length;)ct.pop()();lt=!1,ht=!1,dt.clear()}}function vt(t){if(null!==t.fragment){t.update(),k(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ft)}}var gt,mt=new Set;function yt(){gt={r:0,c:[],p:gt}}function bt(){gt.r||k(gt.c),gt=gt.p}function xt(t,e){t&&t.i&&(mt.delete(t),t.i(e))}function wt(t,e,n,r){if(t&&t.o){if(mt.has(t))return;mt.add(t),gt.c.push((function(){mt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function $t(t){t&&t.c()}function kt(t,e,n,r){var o=t.$$,i=o.fragment,s=o.on_mount,a=o.on_destroy,c=o.after_update;i&&i.m(e,n),r||ft((function(){var e=s.map(w).filter(_);a?a.push.apply(a,g(e)):k(e),t.$$.on_mount=[]})),c.forEach(ft)}function _t(t,e){var n=t.$$;null!==n.fragment&&(k(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(t,e){-1===t.$$.dirty[0]&&(it.push(t),lt||(lt=!0,ut.then(pt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ot(t,e,n,r,o,i,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],c=u;X(t);var l=t.$$={fragment:null,ctx:null,props:i,update:b,not_equal:o,bound:$(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:$(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(l.root);var f=!1;if(l.ctx=n?n(t,e.props||{},(function(e,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return l.ctx&&o(l.ctx[e],l.ctx[e]=r)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](r),f&&jt(t,e)),n})):[],l.update(),f=!0,k(l.before_update),l.fragment=!!r&&r(l.ctx),e.target){if(e.hydrate){var h=Y(e.target);l.fragment&&l.fragment.l(h),h.forEach(B)}else l.fragment&&l.fragment.c();e.intro&&xt(t.$$.fragment),kt(t,e.target,e.anchor,e.customElement),pt()}X(c)}var St=function(){function t(){o(this,t)}var e,n;return e=t,(n=[{key:"$destroy",value:function(){_t(this,1),this.$destroy=b}},{key:"$on",value:function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}},{key:"$set",value:function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}])&&m(e.prototype,n),t}();function Ct(t,e){return nt(t,e)}function Et(t){return rt(t)}function Mt(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}function Tt(t){var e,n,r,o,i,s,a,c,u,l,f,h,d,p,g,m,y,x,w,$,k,_,j,O;return{c:function(){e=F("button"),n=L("svg"),r=L("title"),o=U("prosemirror"),i=L("desc"),s=U("Created using Figma"),a=L("use"),c=L("use"),u=L("use"),l=L("use"),f=L("use"),h=L("use"),d=L("use"),p=L("defs"),g=L("path"),m=L("path"),y=L("path"),x=L("path"),w=L("path"),$=L("path"),k=L("path"),W(a,"xlink:href","#a"),G(a,"transform","matrix(2 0 0 2 118 116)"),G(a,"fill","#FFF"),W(c,"xlink:href","#b"),G(c,"transform","rotate(16 59.054 420.192) scale(2)"),G(c,"fill","#FFF"),W(u,"xlink:href","#c"),G(u,"transform","matrix(2 0 0 2 154.024 141.58)"),G(u,"fill","#363755"),W(l,"xlink:href","#d"),G(l,"transform","matrix(2 0 0 2 220 334.8)"),G(l,"fill","#FFF"),W(f,"xlink:href","#e"),G(f,"transform","matrix(2 0 0 2 218.826 262.052)"),G(f,"fill","#363755"),W(h,"xlink:href","#f"),G(h,"transform","matrix(2 0 0 2 197.108 184.998)"),G(h,"fill","#FFF"),W(d,"xlink:href","#g"),G(d,"transform","matrix(2 0 0 2 221.8 216)"),G(d,"fill","#363755"),G(g,"id","a"),G(g,"d","M73.5 0C32.859 0 0 32.859 0 73.5S32.859 147 73.5 147 147 114.141 147 73.5 114.069 0 73.5\n        0z"),G(m,"id","b"),G(m,"d","M193.601 107.116c0-13.376 8.238-23.91\n        20.619-31.153-2.244-7.447-5.19-14.6-8.824-21.32-13.886\n        3.633-25.12-1.799-34.568-11.26-9.449-9.437-12.344-20.672-8.709-34.571A111.362 111.362 0 0 0\n        140.799 0c-7.243 12.37-20.339 20.594-33.689 20.594-13.363\n        0-26.446-8.225-33.701-20.594A110.888 110.888 0 0 0 52.1 8.812c3.634 13.9.753 25.134-8.721\n        34.57-9.436 9.462-20.67 14.894-34.569 11.26A112.178 112.178 0 0 0 0 75.963c12.369 7.243\n        20.593 17.777 20.593 31.153 0 13.352-8.224 26.448-20.593 33.704a113.338 113.338 0 0 0 8.811\n        21.321c13.899-3.634 25.133-.752 34.569 8.697 9.448 9.462 12.355 20.696 8.721 34.57a112.653\n        112.653 0 0 0 21.32 8.837c7.243-12.407 20.338-20.619 33.702-20.619 13.35 0 26.446 8.225\n        33.701 20.619a114.22 114.22 0 0 0 21.32-8.837c-3.634-13.874-.752-25.108 8.709-34.57\n        9.449-9.437 20.683-14.869 34.569-11.26a112.343 112.343 0 0 0\n        8.823-21.321c-12.406-7.256-20.644-17.789-20.644-31.141zm-86.491 46.57c-25.732\n        0-46.58-20.849-46.58-46.57 0-25.733 20.86-46.595 46.58-46.595 25.732 0 46.567 20.875 46.567\n        46.595 0 25.734-20.835 46.57-46.567 46.57z"),G(y,"id","c"),G(y,"d","M98.088 49.91c-6.9 83.9 10.8 103.401 10.8 103.401s-55.1\n        5.499-82.7-13.401c-30.5-20.9-26-67.5-25.9-94.6.1-28.4 25.6-45.8 49.9-45.3 29.1.5 50.2 21.6\n        47.9 49.9z"),G(x,"id","d"),G(x,"d","M.1.1c12.2 33.3 22.5 42.7 40 55.2 25.3 18 36.6 17.5 76.3 41C78.1 60.3 30.8 45.7 0 0l.1.1z"),G(w,"id","e"),G(w,"d","M.687 36.474c3 13.3 17.9 29.9 30.4 41.6 24.8 23.2 42 22.4 86\n        54.7-18.2-51.8-18.8-62-43.5-106.1-24.7-44-67.6-20.3-67.6-20.3s-8.4 16.6-5.3 29.9v.2z"),G($,"id","f"),G($,"d","M38.346 11.5s-4-11.6-18-11.5c-30 .2-28.8 52.1 16.9 52 39.6-.1 39.2-49.4\n        16.1-49.6-10.2-.2-15 9.1-15 9.1z"),G(k,"id","g"),G(k,"d","M26.5 15c10.8 0 2 14.9-.6 20.9-1.8-8.4-10.2-20.9.6-20.9zM10.2.1C4.6.1 0 4.6 0 10.3c0 5.6\n        4.5 10.2 10.2 10.2 5.6 0 10.2-4.5 10.2-10.2C20.4 4.7 15.9.1 10.2.1zM40.7 0c-4.8 0-8.8\n        4.5-8.8 10.2 0 5.6 3.9 10.2 8.8 10.2 4.8 0 8.8-4.5 8.8-10.2C49.5 4.6 45.6 0 40.7 0z"),G(n,"width","530"),G(n,"height","530"),G(n,"viewBox","0 0 530 530"),G(n,"xmlns","http://www.w3.org/2000/svg"),G(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),G(n,"class","svelte-d6qgv8"),G(e,"class",_=P("floating-btn ".concat(t[0]))+" svelte-d6qgv8")},m:function(v,b){D(v,e,b),I(e,n),I(n,r),I(r,o),I(n,i),I(i,s),I(n,a),I(n,c),I(n,u),I(n,l),I(n,f),I(n,h),I(n,d),I(n,p),I(p,g),I(p,m),I(p,y),I(p,x),I(p,w),I(p,$),I(p,k),j||(O=K(e,"click",t[1]),j=!0)},p:function(t,n){1&v(n,1)[0]&&_!==(_=P("floating-btn ".concat(t[0]))+" svelte-d6qgv8")&&G(e,"class",_)},i:b,o:b,d:function(t){t&&B(e),j=!1,O()}}}function Rt(t,e,n){var r=e.buttonPosition;return t.$$set=function(t){"buttonPosition"in t&&n(0,r=t.buttonPosition)},[r,function(e){ot.call(this,t,e)}]}Mt(".hidden.svelte-d6qgv8.svelte-d6qgv8{display:none;visibility:hidden}.floating-btn.svelte-d6qgv8.svelte-d6qgv8{background:var(--color-blue-bg);border:0;border-radius:50%;box-shadow:0 0 30px rgba(34, 34, 34, 0.3);cursor:pointer;position:fixed;padding:6px;transition:opacity 0.3s;-webkit-transition:opacity 0.3s;z-index:99999}.floating-btn.bottom-right.svelte-d6qgv8.svelte-d6qgv8{bottom:16px;right:16px}.floating-btn.bottom-left.svelte-d6qgv8.svelte-d6qgv8{bottom:16px;left:16px}.floating-btn.top-right.svelte-d6qgv8.svelte-d6qgv8{top:16px;right:16px}.floating-btn.top-left.svelte-d6qgv8.svelte-d6qgv8{top:16px;left:16px}.floating-btn.svelte-d6qgv8.svelte-d6qgv8:hover{opacity:0.7}.floating-btn.svelte-d6qgv8>svg.svelte-d6qgv8{display:block;width:34px;height:34px;position:relative}");var At=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Rt,Tt,j,{buttonPosition:0}),r}return n}();function Nt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pt=[];function It(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,r=new Set;function o(n){if(j(t,n)&&(t=n,e)){var o,i=!Pt.length,s=Nt(r);try{for(s.s();!(o=s.n()).done;){var a=o.value;a[1](),Pt.push(a,t)}}catch(t){s.e(t)}finally{s.f()}if(i){for(var c=0;c<Pt.length;c+=2)Pt[c][0](Pt[c+1]);Pt.length=0}}}function i(e){o(e(t))}function s(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,a=[i,s];return r.add(a),1===r.size&&(e=n(o)||b),i(t),function(){r.delete(a),0===r.size&&(e(),e=null)}}return{set:o,update:i,subscribe:s}}function Dt(t,e,n){var r,o=!Array.isArray(t),i=o?[t]:t,s=e.length<2;return r=function(t){var n=!1,r=[],a=0,c=b,u=function(){if(!a){c();var n=e(o?r[0]:r,t);s?t(n):c=_(n)?n:b}},l=i.map((function(t,e){return O(t,(function(t){r[e]=t,a&=~(1<<e),n&&u()}),(function(){a|=1<<e}))}));return n=!0,u(),function(){k(l),c()}},{subscribe:It(n,r).subscribe}}var Bt=It([]),zt=It(),Ft=It(),Lt="undefined"!=typeof window?localStorage.getItem("__prosemirror-dev-toolkit__snapshots"):null;if(Lt&&Lt.length>0)try{var Ut=JSON.parse(Lt);Bt.set(Ut)}catch(o){console.error("Corrupted snapshots values in localStorage",o)}function Jt(t,e){var n=Object.getPrototypeOf(t.state).constructor.create({schema:t.state.schema,plugins:t.state.plugins,doc:t.state.schema.nodeFromJSON(e)});t.updateState(n)}function Vt(t){Bt.update((function(e){return e.map((function(e){return e.timestamp===t.timestamp?t:e}))}))}function Kt(t){var e=document.createElement("a"),n=new Blob([JSON.stringify(t.doc)],{type:"application/json"});e.href=URL.createObjectURL(n),e.download="".concat(t.name,".json"),e.click()}function Gt(t){Bt.update((function(e){return e.filter((function(e){return e.timestamp!==t.timestamp}))}));var e=S(zt);(null==e?void 0:e.timestamp)===t.timestamp&&zt.set(void 0)}function Ht(t){var e,n,r,o,i,s,a,c,u,l,f,h,d,p,g,m,y,x,w,$;return{c:function(){e=F("ul"),n=F("li"),(r=F("button")).textContent="STATE",o=J(),i=F("li"),(s=F("button")).textContent="HISTORY",a=J(),c=F("li"),(u=F("button")).textContent="PLUGINS",l=J(),f=F("li"),(h=F("button")).textContent="SCHEMA",d=J(),p=F("li"),(g=F("button")).textContent="STRUCTURE",m=J(),y=F("li"),(x=F("button")).textContent="SNAPSHOTS",G(r,"class","svelte-uy9g7w"),Z(r,"active","state"===t[0]),G(s,"class","svelte-uy9g7w"),Z(s,"active","history"===t[0]),G(u,"class","svelte-uy9g7w"),Z(u,"active","plugins"===t[0]),G(h,"class","svelte-uy9g7w"),Z(h,"active","schema"===t[0]),G(g,"class","svelte-uy9g7w"),Z(g,"active","structure"===t[0]),G(x,"class","svelte-uy9g7w"),Z(x,"active","snapshots"===t[0]),G(e,"class","tabs-menu svelte-uy9g7w")},m:function(v,b){D(v,e,b),I(e,n),I(n,r),I(e,o),I(e,i),I(i,s),I(e,a),I(e,c),I(c,u),I(e,l),I(e,f),I(f,h),I(e,d),I(e,p),I(p,g),I(e,m),I(e,y),I(y,x),w||($=[K(r,"click",t[2]),K(s,"click",t[3]),K(u,"click",t[4]),K(h,"click",t[5]),K(g,"click",t[6]),K(x,"click",t[7])],w=!0)},p:function(t,e){var n=v(e,1)[0];1&n&&Z(r,"active","state"===t[0]),1&n&&Z(s,"active","history"===t[0]),1&n&&Z(u,"active","plugins"===t[0]),1&n&&Z(h,"active","schema"===t[0]),1&n&&Z(g,"active","structure"===t[0]),1&n&&Z(x,"active","snapshots"===t[0])},i:b,o:b,d:function(t){t&&B(e),w=!1,k($)}}}function Wt(t,e,n){var r=e.active,o=e.onClickTab;return t.$$set=function(t){"active"in t&&n(0,r=t.active),"onClickTab"in t&&n(1,o=t.onClickTab)},[r,o,function(){return o("state")},function(){return o("history")},function(){return o("plugins")},function(){return o("schema")},function(){return o("structure")},function(){return o("snapshots")}]}Bt.subscribe((function(t){"undefined"!=typeof window&&localStorage.setItem("__prosemirror-dev-toolkit__snapshots",JSON.stringify(t))})),Mt("ul.svelte-uy9g7w{display:flex;list-style:none;margin:0;overflow-x:scroll;padding:0}button.svelte-uy9g7w{background:transparent;border:0;border-bottom:2px solid transparent;color:var(--color-white);cursor:pointer;height:100%;padding:1em}button.svelte-uy9g7w:hover{background:rgba(255, 255, 255, 0.05)}button.active.svelte-uy9g7w{border-bottom:2px solid var(--color-red-light)}");var Yt=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Wt,Ht,j,{active:0,onClickTab:1}),r}return n}();function Qt(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=Qt(o.content,i.content,n+1);if(null!=a)return a}n+=o.nodeSize}else n+=o.nodeSize}}function Zt(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var s=t.child(--o),a=e.child(--i),c=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){for(var u=0,l=Math.min(s.text.length,a.text.length);u<l&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var f=Zt(s.content,a.content,n-1,r-1);if(f)return f}n-=c,r-=c}else n-=c,r-=c}}var Xt=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},te={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Xt.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,o,i)&&a.content.size){var u=s+1;a.nodesBetween(Math.max(0,t-u),Math.min(a.content.size,e-u),n,r+u)}s=c}},Xt.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},Xt.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+="function"==typeof r?r(s):r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},Xt.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new Xt(r,this.size+t.size)},Xt.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new Xt(n,r)},Xt.prototype.cutByIndex=function(t,e){return t==e?Xt.empty:0==t&&e==this.content.length?this:new Xt(this.content.slice(t,e))},Xt.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new Xt(r,o)},Xt.prototype.addToStart=function(t){return new Xt([t].concat(this.content),this.size+t.nodeSize)},Xt.prototype.addToEnd=function(t){return new Xt(this.content.concat(t),this.size+t.nodeSize)},Xt.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},te.firstChild.get=function(){return this.content.length?this.content[0]:null},te.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},te.childCount.get=function(){return this.content.length},Xt.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},Xt.prototype.maybeChild=function(t){return this.content[t]},Xt.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},Xt.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),Qt(this,t,e)},Xt.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),Zt(this,t,e,n)},Xt.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return ne(0,t);if(t==this.size)return ne(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?ne(n+1,o):ne(n,r);r=o}},Xt.prototype.toString=function(){return"<"+this.toStringInner()+">"},Xt.prototype.toStringInner=function(){return this.content.join(", ")},Xt.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},Xt.fromJSON=function(t,e){if(!e)return Xt.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Xt(e.map(t.nodeFromJSON))},Xt.fromArray=function(t){if(!t.length)return Xt.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new Xt(e||t,n)},Xt.from=function(t){if(!t)return Xt.empty;if(t instanceof Xt)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Xt([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Xt.prototype,te);var ee={index:0,offset:0};function ne(t,e){return ee.index=t,ee.offset=e,ee}function re(t,e){if(t===e)return!0;if(!t||"object"!=y(t)||!e||"object"!=y(e))return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!re(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!re(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}Xt.empty=new Xt([],0);var oe=function(t,e){this.type=t,this.attrs=e};function ie(t){var e=Error.call(this,t);return e.__proto__=ie.prototype,e}oe.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},oe.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},oe.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},oe.prototype.eq=function(t){return this==t||this.type==t.type&&re(this.attrs,t.attrs)},oe.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},oe.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},oe.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},oe.setFrom=function(t){if(!t||0==t.length)return oe.none;if(t instanceof oe)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},oe.none=[],ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie.prototype.name="ReplaceError";var se=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},ae={size:{configurable:!0}};function ce(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),c=a.index,u=a.offset;if(i==e||s.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(ce(s.content,e-i-1,n-i-1)))}function ue(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var c=ue(a.content,e-s-1,n);return c&&t.replaceChild(i,a.copy(c))}function le(t,e,n){if(n.openStart>t.depth)throw new ie("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ie("Inconsistent open depths");return fe(t,e,n,0)}function fe(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=fe(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var a=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(Xt.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return ge(i,me(t,a.start,a.end,e,r))}var c=t.parent,u=c.content;return ge(c,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}return ge(i,ye(t,e,r))}function he(t,e){if(!e.type.compatibleContent(t.type))throw new ie("Cannot join "+e.type.name+" onto "+t.type.name)}function de(t,e,n){var r=t.node(n);return he(r,e.node(n)),r}function pe(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ve(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(pe(t.nodeAfter,r),i++));for(var a=i;a<s;a++)pe(o.child(a),r);e&&e.depth==n&&e.textOffset&&pe(e.nodeBefore,r)}function ge(t,e){if(!t.type.validContent(e))throw new ie("Invalid content for node "+t.type.name);return t.copy(e)}function me(t,e,n,r,o){var i=t.depth>o&&de(t,e,o+1),s=r.depth>o&&de(n,r,o+1),a=[];return ve(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(he(i,s),pe(ge(i,me(t,e,n,r,o+1)),a)):(i&&pe(ge(i,ye(t,e,o+1)),a),ve(e,n,o,a),s&&pe(ge(s,ye(n,r,o+1)),a)),ve(r,null,o,a),new Xt(a)}function ye(t,e,n){var r=[];return ve(null,t,n,r),t.depth>n&&pe(ge(de(t,e,n+1),ye(t,e,n+1)),r),ve(e,null,n,r),new Xt(r)}ae.size.get=function(){return this.content.size-this.openStart-this.openEnd},se.prototype.insertAt=function(t,e){var n=ue(this.content,t+this.openStart,e,null);return n&&new se(n,this.openStart,this.openEnd)},se.prototype.removeBetween=function(t,e){return new se(ce(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},se.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},se.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},se.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},se.fromJSON=function(t,e){if(!e)return se.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new se(Xt.fromJSON(t,e.content),n,r)},se.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new se(t,n,r)},Object.defineProperties(se.prototype,ae),se.empty=new se(Xt.empty,0,0);var be=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},xe={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};be.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},xe.parent.get=function(){return this.node(this.depth)},xe.doc.get=function(){return this.node(0)},be.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},be.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},be.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},be.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},be.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},be.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},be.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},xe.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},xe.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},xe.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},be.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},be.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return oe.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},be.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},be.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},be.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new _e(this,t,n)},be.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},be.prototype.max=function(t){return t.pos>this.pos?t:this},be.prototype.min=function(t){return t.pos<this.pos?t:this},be.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},be.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,c=s.offset,u=o-c;if(n.push(i,a,r+c),!u)break;if((i=i.child(a)).isText)break;o=u-1,r+=c+1}return new be(e,n,o)},be.resolveCached=function(t,e){for(var n=0;n<we.length;n++){var r=we[n];if(r.pos==e&&r.doc==t)return r}var o=we[$e]=be.resolve(t,e);return $e=($e+1)%ke,o},Object.defineProperties(be.prototype,xe);var we=[],$e=0,ke=12,_e=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},je={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};je.start.get=function(){return this.$from.before(this.depth+1)},je.end.get=function(){return this.$to.after(this.depth+1)},je.parent.get=function(){return this.$from.node(this.depth)},je.startIndex.get=function(){return this.$from.index(this.depth)},je.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(_e.prototype,je);var Oe=Object.create(null),Se=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||Xt.empty,this.marks=r||oe.none},Ce={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Ce.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},Ce.childCount.get=function(){return this.content.childCount},Se.prototype.child=function(t){return this.content.child(t)},Se.prototype.maybeChild=function(t){return this.content.maybeChild(t)},Se.prototype.forEach=function(t){this.content.forEach(t)},Se.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},Se.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},Ce.textContent.get=function(){return this.textBetween(0,this.content.size,"")},Se.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},Ce.firstChild.get=function(){return this.content.firstChild},Ce.lastChild.get=function(){return this.content.lastChild},Se.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},Se.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},Se.prototype.hasMarkup=function(t,e,n){return this.type==t&&re(this.attrs,e||t.defaultAttrs||Oe)&&oe.sameSet(this.marks,n||oe.none)},Se.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},Se.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},Se.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},Se.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return se.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new se(a,r.depth-i,o.depth-i)},Se.prototype.replace=function(t,e,n){return le(this.resolve(t),this.resolve(e),n)},Se.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},Se.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},Se.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},Se.prototype.resolve=function(t){return be.resolveCached(this,t)},Se.prototype.resolveNoCache=function(t){return be.resolve(this,t)},Se.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},Ce.isBlock.get=function(){return this.type.isBlock},Ce.isTextblock.get=function(){return this.type.isTextblock},Ce.inlineContent.get=function(){return this.type.inlineContent},Ce.isInline.get=function(){return this.type.isInline},Ce.isText.get=function(){return this.type.isText},Ce.isLeaf.get=function(){return this.type.isLeaf},Ce.isAtom.get=function(){return this.type.isAtom},Se.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),function(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}(this.marks,t)},Se.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},Se.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=Xt.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},Se.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},Se.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},Se.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=oe.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!oe.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},Se.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},Se.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=Xt.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(Se.prototype,Ce);var Ee=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Me={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Ee.parse=function(t,e){var n=new Te(t,e);if(null==n.next)return Ee.empty;var r=Ae(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];Be(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new Ee(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(De);i.next.push(o[s],e[a.join(",")]||n(a))}return i}(Be(t,0))}(function(t){var e=[[]];return o(function t(e,i){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,i))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],i);if(s==e.exprs.length-1)return a;o(a,i=n())}else{if("star"==e.type){var c=n();return r(i,c),o(t(e.expr,c),c),[r(c)]}if("plus"==e.type){var u=n();return o(t(e.expr,i),u),o(t(e.expr,u),u),[r(u)]}if("opt"==e.type)return[r(i)].concat(t(e.expr,i));if("range"==e.type){for(var l=i,f=0;f<e.min;f++){var h=n();o(t(e.expr,l),h),l=h}if(-1==e.max)o(t(e.expr,l),l);else for(var d=e.min;d<e.max;d++){var p=n();r(l,p),o(t(e.expr,l),p),l=p}return[r(l)]}if("name"==e.type)return[r(i,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var c=o.next[a],u=o.next[a+1];s.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},Ee.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},Ee.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},Me.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},Me.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},Ee.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},Ee.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return Xt.from(s.map((function(t){return t.createAndFill()})));for(var c=0;c<i.next.length;c+=2){var u=i.next[c],l=i.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(l)){r.push(l);var f=o(l,s.concat(u));if(f)return f}}}(this,[])},Ee.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},Ee.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var c=o.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},Me.edgeCount.get=function(){return this.next.length>>1},Ee.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},Ee.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(Ee.prototype,Me),Ee.empty=new Ee(!0);var Te=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},Re={next:{configurable:!0}};function Ae(t){var e=[];do{e.push(Ne(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Ne(t){var e=[];do{e.push(qe(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function qe(t){for(var e=function(t){if(t.eat("(")){var e=Ae(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}return 0==o.length&&t.err("No node type or group '"+e+"' found"),o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=Ie(t,e)}return e}function Pe(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function Ie(t,e){var n=Pe(t),r=n;return t.eat(",")&&(r="}"!=t.next?Pe(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function De(t,e){return e-t}function Be(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,c=s.to;a||-1!=n.indexOf(c)||e(c)}}(e),n.sort(De)}Re.next.get=function(){return this.tokens[this.pos]},Te.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},Te.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(Te.prototype,Re);var ze=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=function(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new Le(t[n]);return e}(n.attrs),this.defaultAttrs=function(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},Fe={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Fe.isInline.get=function(){return!this.isBlock},Fe.isTextblock.get=function(){return this.isBlock&&this.inlineContent},Fe.isLeaf.get=function(){return this.contentMatch==Ee.empty},Fe.isAtom.get=function(){return this.isLeaf||this.spec.atom},ze.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},ze.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},ze.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:function(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}(this.attrs,t)},ze.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Se(this,this.computeAttrs(t),Xt.from(e),oe.setFrom(n))},ze.prototype.createChecked=function(t,e,n){if(e=Xt.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new Se(this,this.computeAttrs(t),e,oe.setFrom(n))},ze.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=Xt.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(Xt.empty,!0);return o?new Se(this,t,e.append(o),oe.setFrom(n)):null},ze.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},ze.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},ze.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},ze.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:oe.empty:t},ze.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new ze(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(ze.prototype,Fe);var Le=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},Ue={isRequired:{configurable:!0}};Ue.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(Le.prototype,Ue);var Je={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ve={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ke={ol:!0,ul:!0};function Ge(t){return(t?1:0)|("full"===t?2:0)}var He=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=oe.none,this.pendingMarks=r,this.stashMarks=[]};He.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(Xt.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},He.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=Xt.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(Xt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},He.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},He.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):Qe(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},He.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Je.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var We=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=Ge(e.preserveWhitespace)|(n?4:0);r=o?new He(o.type,o.attrs,oe.none,oe.none,!0,e.topMatch||o.type.contentMatch,i):new He(n?null:t.schema.topNodeType,null,oe.none,oe.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},Ye={top:{configurable:!0},currentPos:{configurable:!0}};function Qe(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[];return function t(n){i.push(n);for(var r=0;r<n.edgeCount;r++){var o=n.edge(r),s=o.type,a=o.next;if(s==e)return!0;if(i.indexOf(a)<0&&t(a))return!0}}(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}Ye.top.get=function(){return this.nodes[this.open]},We.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){for(var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},We.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},We.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();Ke.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&Ke.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:Ve.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,a=this.needsBlock;if(Je.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,o,!1===o.consuming?n:null)},We.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},We.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},We.prototype.readStyles=function(t){var e=oe.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},We.prototype.addElementByRule=function(t,e,n){var r,o,i,s=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,r)}r&&(this.sync(a),this.open--),i&&this.removePendingMark(i,a)},We.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&Je.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},We.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},We.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},We.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},We.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:Ge(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new He(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},We.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},We.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},We.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},Ye.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},We.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},We.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},We.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++)null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)},We.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},We.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1);return function t(s,a){for(;s>=0;s--){var c=n[s];if(""==c){if(s==n.length-1||0==s)continue;for(;a>=i;a--)if(t(s-1,a))return!0;return!1}var u=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!u||u.name!=c&&-1==u.groups.indexOf(c))return!1;a--}return!0}(n.length-1,this.open)},We.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},We.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},We.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(We.prototype,Ye);var Ze=function(t,e){this.nodes=t||{},this.marks=e||{}};function Xe(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function tn(t){return t.document||window.document}Ze.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=tn(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var c=t.marks[s++],u=r.serializeMark(c,t.isInline,e);u&&(i.push(c,o),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(r.serializeNodeInner(t,e))})),n},Ze.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=Ze.renderSpec(tn(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},Ze.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},Ze.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&Ze.renderSpec(tn(n),r(t,e))},Ze.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],c=1;if(a&&"object"==y(a)&&null==a.nodeType&&!Array.isArray(a))for(var u in c=2,a)if(null!=a[u]){var l=u.indexOf(" ");l>0?s.setAttributeNS(u.slice(0,l),u.slice(l+1),a[u]):s.setAttribute(u,a[u])}for(var f=c;f<e.length;f++){var h=e[f];if(0===h){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var d=Ze.renderSpec(t,h,n),p=d.dom,v=d.contentDOM;if(s.appendChild(p),v){if(i)throw new RangeError("Multiple content holes");i=v}}return{dom:s,contentDOM:i}},Ze.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ze(this.nodesFromSchema(t),this.marksFromSchema(t)))},Ze.nodesFromSchema=function(t){var e=Xe(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Ze.marksFromSchema=function(t){return Xe(t.marks)};var en=function(t,e){var n,r,o,i,s,a;for(r=(e=e||{}).indent_size||4,o=e.indent_char||" ",s=e.brace_style||"collapse",i=0==e.max_char?1/0:e.max_char||70,a=e.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],n=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}},this.get_content=function(){for(var t="",e=[],n=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(t,this.Utils.whitespace))e.length&&(n=!0),this.line_char_count--;else{if(n){if(this.line_char_count>=this.max_char){e.push("\n");for(var r=0;r<this.indent_level;r++)e.push(this.indent_string);this.line_char_count=0}else e.push(" "),this.line_char_count++;n=!1}e.push(t)}}return e.length?e.join(""):""},this.get_contents_to=function(t){if(this.pos==this.input.length)return["","TK_EOF"];var e="",n=new RegExp("</"+t+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),o=r?r.index:this.input.length;return this.pos<o&&(e=this.input.substring(this.pos,o),this.pos=o),e},this.record_tag=function(t){this.tags[t+"count"]?(this.tags[t+"count"]++,this.tags[t+this.tags[t+"count"]]=this.indent_level):(this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level),this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!==e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[e+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1==this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.get_tag=function(){var t,e,n="",r=[],o=!1;do{if(this.pos>=this.input.length)return r.length?r.join(""):["","TK_EOF"];n=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(n,this.Utils.whitespace)?(o=!0,this.line_char_count--):("'"!==n&&'"'!==n||r[1]&&"!"===r[1]||(n+=this.get_unformatted(n),o=!0),"="===n&&(o=!1),r.length&&"="!==r[r.length-1]&&">"!==n&&o&&(this.line_char_count>=this.max_char?(this.print_newline(!1,r),this.line_char_count=0):(r.push(" "),this.line_char_count++),o=!1),"<"===n&&(t=this.pos-1),r.push(n))}while(">"!==n);var i,s=r.join("");i=-1!=s.indexOf(" ")?s.indexOf(" "):s.indexOf(">");var c=s.substring(1,i).toLowerCase();if("/"===s.charAt(s.length-2)||this.Utils.in_array(c,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===c)this.record_tag(c),this.tag_type="SCRIPT";else if("style"===c)this.record_tag(c),this.tag_type="STYLE";else if(this.Utils.in_array(c,a)){var u=this.get_unformatted("</"+c+">",s);r.push(u),t>0&&this.Utils.in_array(this.input.charAt(t-1),this.Utils.whitespace)&&r.splice(0,0,this.input.charAt(t-1)),e=this.pos-1,this.Utils.in_array(this.input.charAt(e+1),this.Utils.whitespace)&&r.push(this.input.charAt(e+1)),this.tag_type="SINGLE"}else"!"===c.charAt(0)?-1!=c.indexOf("[if")?(-1!=s.indexOf("!IE")&&(u=this.get_unformatted("--\x3e",s),r.push(u)),this.tag_type="START"):-1!=c.indexOf("[endif")?(this.tag_type="END",this.unindent()):-1!=c.indexOf("[cdata[")?(u=this.get_unformatted("]]>",s),r.push(u),this.tag_type="SINGLE"):(u=this.get_unformatted("--\x3e",s),r.push(u),this.tag_type="SINGLE"):("/"===c.charAt(0)?(this.retrieve_tag(c.substring(1)),this.tag_type="END"):(this.record_tag(c),this.tag_type="START"),this.Utils.in_array(c,this.Utils.extra_liners)&&this.print_newline(!0,this.output));return r.join("")},this.get_unformatted=function(t,e){if(e&&-1!=e.toLowerCase().indexOf(t))return"";var n="",r="",o=!0;do{if(this.pos>=this.input.length)return r;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!o){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n",this.line_char_count=0;continue}}r+=n,this.line_char_count++,o=!0}while(-1==r.toLowerCase().indexOf(t));return r},this.get_token=function(){var t;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var e=this.last_token.substr(7);return"string"!=typeof(t=this.get_contents_to(e))?t:[t,"TK_"+e]}return"CONTENT"===this.current_mode?"string"!=typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(t=this.get_tag())?t:[t,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(t){return(t=this.indent_level+t||0)<1?"":Array(t+1).join(this.indent_string)},this.printer=function(t,e,n,r,o){this.input=t||"",this.output=[],this.indent_character=e,this.indent_string="",this.indent_size=n,this.brace_style=o,this.indent_level=0,this.max_char=r,this.line_char_count=0;for(var i=0;i<this.indent_size;i++)this.indent_string+=this.indent_character;this.print_newline=function(t,e){if(this.line_char_count=0,e&&e.length){if(!t)for(;this.Utils.in_array(e[e.length-1],this.Utils.whitespace);)e.pop();e.push("\n");for(var n=0;n<this.indent_level;n++)e.push(this.indent_string)}},this.print_token=function(t){this.output.push(t)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this},n.printer(t,o,r,i,s);;){var c=n.get_token();if(n.token_text=c[0],n.token_type=c[1],"TK_EOF"===n.token_type)break;switch(n.token_type){case"TK_TAG_START":n.print_newline(!1,n.output),n.print_token(n.token_text),n.indent(),n.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===n.last_token&&""===n.last_text){var u=n.token_text.match(/\w+/)[0],l=n.output[n.output.length-1].match(/<\s*(\w+)/);null!==l&&l[1]===u||n.print_newline(!0,n.output)}n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var f=n.token_text.match(/^\s*<([a-z]+)/i);f&&n.Utils.in_array(f[1],a)||n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_CONTENT":""!==n.token_text&&n.print_token(n.token_text),n.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==n.token_text){n.output.push("\n");var h=n.token_text;if("TK_SCRIPT"==n.token_type)var d="function"==typeof js_beautify&&js_beautify;else"TK_STYLE"==n.token_type&&(d="function"==typeof css_beautify&&css_beautify);if("keep"==e.indent_scripts)var p=0;else p="separate"==e.indent_scripts?-n.indent_level:1;var v=n.get_full_indent(p);if(d)h=d(h.replace(/^\s*/,v),e);else{var g=h.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(n.indent_string).length-1,m=n.get_full_indent(p-g);h=h.replace(/^\s*/,v).replace(/\r\n|\r|\n/g,"\n"+m).replace(/\s*$/,"")}h&&(n.print_token(h),n.print_newline(!0,n.output))}n.current_mode="TAG"}n.last_token=n.token_type,n.last_text=n.token_text}return n.output.join("")},nn={exports:{}},rn=function(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}(Object.freeze({__proto__:null}));!function(t,e){e=e&&e.hasOwnProperty("default")?e.default:e;var n="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(t){return y(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":y(t)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(r):void 0},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+y(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==y(e)&&"function"!=typeof e?t:e},c=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},l=function(){function t(e){r(this,t),this.selfOptions=e||{},this.pipes={}}return o(t,[{key:"options",value:function(t){return t&&(this.selfOptions=t),this.selfOptions}},{key:"pipe",value:function(t,e){var n=e;if("string"==typeof t){if(void 0===n)return this.pipes[t];this.pipes[t]=n}if(t&&t.name){if((n=t).processor===this)return n;this.pipes[n.name]=n}return n.processor=this,n}},{key:"process",value:function(t,e){var n=t;n.options=this.options();for(var r=e||t.pipe||"default",o=void 0,i=void 0;r;)void 0!==n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof r&&(r=this.pipe(r)),r.process(n),i=n,o=r,r=null,n&&n.next&&(n=n.next,r=i.nextPipe||n.pipe||o);return n.hasResult?n.result:void 0}}]),t}(),f=function(){function t(e){r(this,t),this.name=e,this.filters=[]}return o(t,[{key:"process",value:function(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,r=this.filters.length,o=t,i=0;i<r;i++){var s=this.filters[i];if(e&&this.log("filter: "+s.filterName),s(o),"object"===(void 0===o?"undefined":n(o))&&o.exiting){o.exiting=!1;break}}!o.next&&this.resultCheck&&this.resultCheck(o)}},{key:"log",value:function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)}},{key:"append",value:function(){var t;return(t=this.filters).push.apply(t,arguments),this}},{key:"prepend",value:function(){var t;return(t=this.filters).unshift.apply(t,arguments),this}},{key:"indexOf",value:function(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++)if(this.filters[e].filterName===t)return e;throw new Error("filter not found: "+t)}},{key:"list",value:function(){return this.filters.map((function(t){return t.filterName}))}},{key:"after",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e+1,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"before",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"replace",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,1),Array.prototype.splice.apply(this.filters,n),this}},{key:"remove",value:function(t){var e=this.indexOf(t);return this.filters.splice(e,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(t){if(!1!==t){if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var n=new Error(e.name+" failed");throw n.noResult=!0,n}},this}}else this.resultCheck=null}}]),t}(),h=function(){function t(){r(this,t)}return o(t,[{key:"setResult",value:function(t){return this.result=t,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(t,e){return"string"==typeof t||t instanceof f?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this}},{key:"push",value:function(t,e){return t.parent=this,void 0!==e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this}}]),t}(),d="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array};function p(t){if("object"!==(void 0===t?"undefined":n(t)))return t;if(null===t)return null;if(d(t))return t.map(p);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return function(t){var e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}(t);var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=p(t[r]));return e}var v=function(t){function e(t,n){r(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.left=t,o.right=n,o.pipe="diff",o}return s(e,t),o(e,[{key:"setResult",value:function(t){if(this.options.cloneDiffValues&&"object"===(void 0===t?"undefined":n(t))){var e="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:p;"object"===n(t[0])&&(t[0]=e(t[0])),"object"===n(t[1])&&(t[1]=e(t[1]))}return h.prototype.setResult.apply(this,arguments)}}]),e}(h),g=function(t){function e(t,n){r(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.left=t,o.delta=n,o.pipe="patch",o}return s(e,t),e}(h),m=function(t){function e(t){r(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.delta=t,n.pipe="reverse",n}return s(e,t),e}(h),b="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},x=function(t){if(t.left!==t.right)if(void 0!==t.left)if(void 0!==t.right){if("function"==typeof t.left||"function"==typeof t.right)throw new Error("functions are not supported");t.leftType=null===t.left?"null":n(t.left),t.rightType=null===t.right?"null":n(t.right),t.leftType===t.rightType&&"boolean"!==t.leftType&&"number"!==t.leftType?("object"===t.leftType&&(t.leftIsArray=b(t.left)),"object"===t.rightType&&(t.rightIsArray=b(t.right)),t.leftIsArray===t.rightIsArray?t.left instanceof RegExp&&(t.right instanceof RegExp?t.setResult([t.left.toString(),t.right.toString()]).exit():t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()}else t.setResult([t.left,0,0]).exit();else{if("function"==typeof t.right)throw new Error("functions are not supported");t.setResult([t.right]).exit()}else t.setResult(void 0).exit()};x.filterName="trivial";var w=function(t){if(void 0!==t.delta){if(t.nested=!b(t.delta),!t.nested)if(1!==t.delta.length)if(2!==t.delta.length)3===t.delta.length&&0===t.delta[2]&&t.setResult(void 0).exit();else{if(t.left instanceof RegExp){var e=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(e)return void t.setResult(new RegExp(e[1],e[2])).exit()}t.setResult(t.delta[1]).exit()}else t.setResult(t.delta[0]).exit()}else t.setResult(t.left).exit()};w.filterName="trivial";var $=function(t){void 0!==t.delta?(t.nested=!b(t.delta),t.nested||(1!==t.delta.length?2!==t.delta.length?3===t.delta.length&&0===t.delta[2]&&t.setResult([t.delta[0]]).exit():t.setResult([t.delta[1],t.delta[0]]).exit():t.setResult([t.delta[0],0,0]).exit())):t.setResult(t.delta).exit()};function k(t){if(t&&t.children){for(var e=t.children.length,n=void 0,r=t.result,o=0;o<e;o++)void 0!==(n=t.children[o]).result&&((r=r||{})[n.childName]=n.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()}}function _(t){if(!t.leftIsArray&&"object"===t.leftType){var e=void 0,n=void 0,r=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(r&&!r(e,t)||(n=new v(t.left[e],t.right[e]),t.push(n,e)));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(r&&!r(e,t)||void 0===t.left[e]&&(n=new v(void 0,t.right[e]),t.push(n,e)));t.children&&0!==t.children.length?t.exit():t.setResult(void 0).exit()}}$.filterName="trivial",k.filterName="collectChildren",_.filterName="objects";var j=function(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new g(t.left[e],t.delta[e]),t.push(n,e);t.exit()}};j.filterName="objects";var O=function(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,r=0;r<e;r++)n=t.children[r],Object.prototype.hasOwnProperty.call(t.left,n.childName)&&void 0===n.result?delete t.left[n.childName]:t.left[n.childName]!==n.result&&(t.left[n.childName]=n.result);t.setResult(t.left).exit()}};O.filterName="collectChildren";var S=function(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new m(t.delta[e]),t.push(n,e);t.exit()}};function C(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,r={},o=0;o<e;o++)r[(n=t.children[o]).childName]!==n.result&&(r[n.childName]=n.result);t.setResult(r).exit()}}S.filterName="objects",C.filterName="collectChildren";var E=function(t,e,n,r){return t[n]===e[r]},M=function(t,e,n,r){var o=r||{},i=function(t,e,n,r){var o=t.length,i=e.length,s=void 0,a=void 0,c=[o+1];for(s=0;s<o+1;s++)for(c[s]=[i+1],a=0;a<i+1;a++)c[s][a]=0;for(c.match=n,s=1;s<o+1;s++)for(a=1;a<i+1;a++)n(t,e,s-1,a-1,r)?c[s][a]=c[s-1][a-1]+1:c[s][a]=Math.max(c[s-1][a],c[s][a-1]);return c}(t,e,n||E,o),s=function(t,e,n,r){for(var o=e.length,i=n.length,s={sequence:[],indices1:[],indices2:[]};0!==o&&0!==i;)t.match(e,n,o-1,i-1,r)?(s.sequence.unshift(e[o-1]),s.indices1.unshift(o-1),s.indices2.unshift(i-1),--o,--i):t[o][i-1]>t[o-1][i]?--i:--o;return s}(i,t,e,o);return"string"==typeof t&&"string"==typeof e&&(s.sequence=s.sequence.join("")),s},T="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},R="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]===e)return r;return-1};function A(t,e,r,o,i){var s=t[r],a=e[o];if(s===a)return!0;if("object"!==(void 0===s?"undefined":n(s))||"object"!==(void 0===a?"undefined":n(a)))return!1;var c=i.objectHash;if(!c)return i.matchByPosition&&r===o;var u=void 0,l=void 0;return"number"==typeof r?(i.hashCache1=i.hashCache1||[],void 0===(u=i.hashCache1[r])&&(i.hashCache1[r]=u=c(s,r))):u=c(s),void 0!==u&&("number"==typeof o?(i.hashCache2=i.hashCache2||[],void 0===(l=i.hashCache2[o])&&(i.hashCache2[o]=l=c(a,o))):l=c(a),void 0!==l&&u===l)}var N=function(t){if(t.leftIsArray){var e={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},n=0,r=0,o=void 0,i=void 0,s=void 0,a=t.left,c=t.right,u=a.length,l=c.length,f=void 0;for(u>0&&l>0&&!e.objectHash&&"boolean"!=typeof e.matchByPosition&&(e.matchByPosition=!function(t,e,n,r){for(var o=0;o<n;o++)for(var i=t[o],s=0;s<r;s++){var a=e[s];if(o!==s&&i===a)return!0}}(a,c,u,l));n<u&&n<l&&A(a,c,n,n,e);)o=n,f=new v(t.left[o],t.right[o]),t.push(f,o),n++;for(;r+n<u&&r+n<l&&A(a,c,u-1-r,l-1-r,e);)i=u-1-r,s=l-1-r,f=new v(t.left[i],t.right[s]),t.push(f,s),r++;var h=void 0;if(n+r!==u)if(n+r!==l){delete e.hashCache1,delete e.hashCache2;var d=a.slice(n,u-r),p=c.slice(n,l-r),g=M(d,p,A,e),m=[];for(h=h||{_t:"a"},o=n;o<u-r;o++)R(g.indices1,o-n)<0&&(h["_"+o]=[a[o],0,0],m.push(o));var y=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(y=!1);var b=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(b=!0);var x=m.length;for(o=n;o<l-r;o++){var w=R(g.indices2,o-n);if(w<0){var $=!1;if(y&&x>0)for(var k=0;k<x;k++)if(A(d,p,(i=m[k])-n,o-n,e)){h["_"+i].splice(1,2,o,3),b||(h["_"+i][0]=""),s=o,f=new v(t.left[i],t.right[s]),t.push(f,s),m.splice(k,1),$=!0;break}$||(h[o]=[c[o]])}else i=g.indices1[w]+n,s=g.indices2[w]+n,f=new v(t.left[i],t.right[s]),t.push(f,s)}t.setResult(h).exit()}else{for(h=h||{_t:"a"},o=n;o<u-r;o++)h["_"+o]=[a[o],0,0];t.setResult(h).exit()}else{if(u===l)return void t.setResult(void 0).exit();for(h=h||{_t:"a"},o=n;o<l-r;o++)h[o]=[c[o]];t.setResult(h).exit()}}};N.filterName="arrays";var q=function(t,e){return t-e},P=function(t){return function(e,n){return e[t]-n[t]}},I=function(t){if(t.nested&&"a"===t.delta._t){var e=void 0,n=void 0,r=t.delta,o=t.left,i=[],s=[],a=[];for(e in r)if("_t"!==e)if("_"===e[0]){if(0!==r[e][2]&&3!==r[e][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+r[e][2]);i.push(parseInt(e.slice(1),10))}else 1===r[e].length?s.push({index:parseInt(e,10),value:r[e][0]}):a.push({index:parseInt(e,10),delta:r[e]});for(e=(i=i.sort(q)).length-1;e>=0;e--){var c=r["_"+(n=i[e])],u=o.splice(n,1)[0];3===c[2]&&s.push({index:c[1],value:u})}var l=(s=s.sort(P("index"))).length;for(e=0;e<l;e++){var f=s[e];o.splice(f.index,0,f.value)}var h=a.length,d=void 0;if(h>0)for(e=0;e<h;e++){var p=a[e];d=new g(t.left[p.index],p.delta),t.push(d,p.index)}t.children?t.exit():t.setResult(t.left).exit()}};I.filterName="arrays";var D=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,r=0;r<e;r++)n=t.children[r],t.left[n.childName]=n.result;t.setResult(t.left).exit()}};D.filterName="arraysCollectChildren";var B=function(t){if(t.nested){if("a"===t.delta._t){var e=void 0,n=void 0;for(e in t.delta)"_t"!==e&&(n=new m(t.delta[e]),t.push(n,e));t.exit()}}else 3===t.delta[2]&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),3]).exit())};B.filterName="arrays";var z=function(t,e,n){if("string"==typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(T(n)&&0===n[2])return"_"+e;var r=+e;for(var o in t){var i=t[o];if(T(i))if(3===i[2]){var s=parseInt(o.substr(1),10),a=i[1];if(a===+e)return s;s<=r&&a>r?r++:s>=r&&a<r&&r--}else 0===i[2]?parseInt(o.substr(1),10)<=r&&r++:1===i.length&&o<=r&&r--}return r};function F(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,r={_t:"a"},o=0;o<e;o++){var i=(n=t.children[o]).newName;void 0===i&&(i=z(t.delta,n.childName,n.result)),r[i]!==n.result&&(r[i]=n.result)}t.setResult(r).exit()}}F.filterName="arraysCollectChildren";var L=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};L.filterName="dates";var U=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var n=-1;e.prototype.diff_main=function(t,e,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var i=n,s=this.diff_commonPrefix(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var c=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var u=this.diff_compute_(t,e,i,o);return a&&u.unshift([0,a]),c&&u.push([0,c]),this.diff_cleanupMerge(u),u},e.prototype.diff_compute_=function(t,e,r,o){var i;if(!t)return[[1,e]];if(!e)return[[n,t]];var s=t.length>e.length?t:e,a=t.length>e.length?e:t,c=s.indexOf(a);if(-1!=c)return i=[[1,s.substring(0,c)],[0,a],[1,s.substring(c+a.length)]],t.length>e.length&&(i[0][0]=i[2][0]=n),i;if(1==a.length)return[[n,t],[1,e]];var u=this.diff_halfMatch_(t,e);if(u){var l=u[0],f=u[1],h=u[2],d=u[3],p=u[4],v=this.diff_main(l,h,r,o),g=this.diff_main(f,d,r,o);return v.concat([[0,p]],g)}return r&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,o):this.diff_bisect_(t,e,o)},e.prototype.diff_lineMode_=function(t,e,r){t=(f=this.diff_linesToChars_(t,e)).chars1,e=f.chars2;var o=f.lineArray,i=this.diff_main(t,e,!1,r);this.diff_charsToLines_(i,o),this.diff_cleanupSemantic(i),i.push([0,""]);for(var s=0,a=0,c=0,u="",l="";s<i.length;){switch(i[s][0]){case 1:c++,l+=i[s][1];break;case n:a++,u+=i[s][1];break;case 0:if(a>=1&&c>=1){i.splice(s-a-c,a+c),s=s-a-c;for(var f,h=(f=this.diff_main(u,l,!1,r)).length-1;h>=0;h--)i.splice(s,0,f[h]);s+=f.length}c=0,a=0,u="",l=""}s++}return i.pop(),i},e.prototype.diff_bisect_=function(t,e,r){for(var o=t.length,i=e.length,s=Math.ceil((o+i)/2),a=s,c=2*s,u=new Array(c),l=new Array(c),f=0;f<c;f++)u[f]=-1,l[f]=-1;u[a+1]=0,l[a+1]=0;for(var h=o-i,d=h%2!=0,p=0,v=0,g=0,m=0,y=0;y<s&&!((new Date).getTime()>r);y++){for(var b=-y+p;b<=y-v;b+=2){for(var x=a+b,w=(O=b==-y||b!=y&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-b;O<o&&w<i&&t.charAt(O)==e.charAt(w);)O++,w++;if(u[x]=O,O>o)v+=2;else if(w>i)p+=2;else if(d&&(_=a+h-b)>=0&&_<c&&-1!=l[_]&&O>=(k=o-l[_]))return this.diff_bisectSplit_(t,e,O,w,r)}for(var $=-y+g;$<=y-m;$+=2){for(var k,_=a+$,j=(k=$==-y||$!=y&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-$;k<o&&j<i&&t.charAt(o-k-1)==e.charAt(i-j-1);)k++,j++;if(l[_]=k,k>o)m+=2;else if(j>i)g+=2;else if(!d){var O;if((x=a+h-$)>=0&&x<c&&-1!=u[x]&&(w=a+(O=u[x])-x,O>=(k=o-k)))return this.diff_bisectSplit_(t,e,O,w,r)}}}return[[n,t],[1,e]]},e.prototype.diff_bisectSplit_=function(t,e,n,r,o){var i=t.substring(0,n),s=e.substring(0,r),a=t.substring(n),c=e.substring(r),u=this.diff_main(i,s,!1,o),l=this.diff_main(a,c,!1,o);return u.concat(l)},e.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function o(t){for(var e="",o=0,i=-1,s=n.length;i<t.length-1;){-1==(i=t.indexOf("\n",o))&&(i=t.length-1);var a=t.substring(o,i+1);o=i+1,(r.hasOwnProperty?r.hasOwnProperty(a):void 0!==r[a])?e+=String.fromCharCode(r[a]):(e+=String.fromCharCode(s),r[a]=s,n[s++]=a)}return e}return n[0]="",{chars1:o(t),chars2:o(e),lineArray:n}},e.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],o=[],i=0;i<r.length;i++)o[i]=e[r.charCodeAt(i)];t[n][1]=o.join("")}},e.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o},e.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o},e.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var o=Math.min(n,r);if(t==e)return o;for(var i=0,s=1;;){var a=t.substring(o-s),c=e.indexOf(a);if(-1==c)return i;s+=c,0!=c&&t.substring(o-s)!=e.substring(0,s)||(i=s,s++)}},e.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var o=this;function i(t,e,n){for(var r,i,s,a,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,l="";-1!=(u=e.indexOf(c,u+1));){var f=o.diff_commonPrefix(t.substring(n),e.substring(u)),h=o.diff_commonSuffix(t.substring(0,n),e.substring(0,u));l.length<h+f&&(l=e.substring(u-h,u)+e.substring(u,u+f),r=t.substring(0,n-h),i=t.substring(n+f),s=e.substring(0,u-h),a=e.substring(u+f))}return 2*l.length>=t.length?[r,i,s,a,l]:null}var s,a,c,u,l,f=i(n,r,Math.ceil(n.length/4)),h=i(n,r,Math.ceil(n.length/2));return f||h?(s=h?f&&f[4].length>h[4].length?f:h:f,t.length>e.length?(a=s[0],c=s[1],u=s[2],l=s[3]):(u=s[0],l=s[1],a=s[2],c=s[3]),[a,c,u,l,s[4]]):null},e.prototype.diff_cleanupSemantic=function(t){for(var e=!1,r=[],o=0,i=null,s=0,a=0,c=0,u=0,l=0;s<t.length;)0==t[s][0]?(r[o++]=s,a=u,c=l,u=0,l=0,i=t[s][1]):(1==t[s][0]?u+=t[s][1].length:l+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,l)&&(t.splice(r[o-1],0,[n,i]),t[r[o-1]+1][0]=1,o--,s=--o>0?r[o-1]:-1,a=0,c=0,u=0,l=0,i=null,e=!0)),s++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),s=1;s<t.length;){if(t[s-1][0]==n&&1==t[s][0]){var f=t[s-1][1],h=t[s][1],d=this.diff_commonOverlap_(f,h),p=this.diff_commonOverlap_(h,f);d>=p?(d>=f.length/2||d>=h.length/2)&&(t.splice(s,0,[0,h.substring(0,d)]),t[s-1][1]=f.substring(0,f.length-d),t[s+1][1]=h.substring(d),s++):(p>=f.length/2||p>=h.length/2)&&(t.splice(s,0,[0,f.substring(0,p)]),t[s-1][0]=1,t[s-1][1]=h.substring(0,h.length-p),t[s+1][0]=n,t[s+1][1]=f.substring(p),s++),s++}s++}},e.prototype.diff_cleanupSemanticLossless=function(t){function n(t,n){if(!t||!n)return 6;var r=t.charAt(t.length-1),o=n.charAt(0),i=r.match(e.nonAlphaNumericRegex_),s=o.match(e.nonAlphaNumericRegex_),a=i&&r.match(e.whitespaceRegex_),c=s&&o.match(e.whitespaceRegex_),u=a&&r.match(e.linebreakRegex_),l=c&&o.match(e.linebreakRegex_),f=u&&t.match(e.blanklineEndRegex_),h=l&&n.match(e.blanklineStartRegex_);return f||h?5:u||l?4:i&&!a&&c?3:a||c?2:i||s?1:0}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){var o=t[r-1][1],i=t[r][1],s=t[r+1][1],a=this.diff_commonSuffix(o,i);if(a){var c=i.substring(i.length-a);o=o.substring(0,o.length-a),i=c+i.substring(0,i.length-a),s=c+s}for(var u=o,l=i,f=s,h=n(o,i)+n(i,s);i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var d=n(o,i)+n(i,s);d>=h&&(h=d,u=o,l=i,f=s)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=l,f?t[r+1][1]=f:(t.splice(r+1,1),r--))}r++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,r=[],o=0,i=null,s=0,a=!1,c=!1,u=!1,l=!1;s<t.length;)0==t[s][0]?(t[s][1].length<this.Diff_EditCost&&(u||l)?(r[o++]=s,a=u,c=l,i=t[s][1]):(o=0,i=null),u=l=!1):(t[s][0]==n?l=!0:u=!0,i&&(a&&c&&u&&l||i.length<this.Diff_EditCost/2&&a+c+u+l==3)&&(t.splice(r[o-1],0,[n,i]),t[r[o-1]+1][0]=1,o--,i=null,a&&c?(u=l=!0,o=0):(s=--o>0?r[o-1]:-1,u=l=!1),e=!0)),s++;e&&this.diff_cleanupMerge(t)},e.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,r=0,o=0,i=0,s="",a="";r<t.length;)switch(t[r][0]){case 1:i++,a+=t[r][1],r++;break;case n:o++,s+=t[r][1],r++;break;case 0:o+i>1?(0!==o&&0!==i&&(0!==(e=this.diff_commonPrefix(a,s))&&(r-o-i>0&&0==t[r-o-i-1][0]?t[r-o-i-1][1]+=a.substring(0,e):(t.splice(0,0,[0,a.substring(0,e)]),r++),a=a.substring(e),s=s.substring(e)),0!==(e=this.diff_commonSuffix(a,s))&&(t[r][1]=a.substring(a.length-e)+t[r][1],a=a.substring(0,a.length-e),s=s.substring(0,s.length-e))),0===o?t.splice(r-i,o+i,[1,a]):0===i?t.splice(r-o,o+i,[n,s]):t.splice(r-o-i,o+i,[n,s],[1,a]),r=r-o-i+(o?1:0)+(i?1:0)+1):0!==r&&0==t[r-1][0]?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,o=0,s="",a=""}""===t[t.length-1][1]&&t.pop();var c=!1;for(r=1;r<t.length-1;)0==t[r-1][0]&&0==t[r+1][0]&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),c=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),c=!0)),r++;c&&this.diff_cleanupMerge(t)},e.prototype.diff_xIndex=function(t,e){var r,o=0,i=0,s=0,a=0;for(r=0;r<t.length&&(1!==t[r][0]&&(o+=t[r][1].length),t[r][0]!==n&&(i+=t[r][1].length),!(o>e));r++)s=o,a=i;return t.length!=r&&t[r][0]===n?a:a+(e-s)},e.prototype.diff_prettyHtml=function(t){for(var e=[],r=/&/g,o=/</g,i=/>/g,s=/\n/g,a=0;a<t.length;a++){var c=t[a][0],u=t[a][1].replace(r,"&amp;").replace(o,"&lt;").replace(i,"&gt;").replace(s,"&para;<br>");switch(c){case 1:e[a]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case n:e[a]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:e[a]="<span>"+u+"</span>"}}return e.join("")},e.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},e.prototype.diff_text2=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]!==n&&(e[r]=t[r][1]);return e.join("")},e.prototype.diff_levenshtein=function(t){for(var e=0,r=0,o=0,i=0;i<t.length;i++){var s=t[i][0],a=t[i][1];switch(s){case 1:r+=a.length;break;case n:o+=a.length;break;case 0:e+=Math.max(r,o),r=0,o=0}}return e+Math.max(r,o)},e.prototype.diff_toDelta=function(t){for(var e=[],r=0;r<t.length;r++)switch(t[r][0]){case 1:e[r]="+"+encodeURI(t[r][1]);break;case n:e[r]="-"+t[r][1].length;break;case 0:e[r]="="+t[r][1].length}return e.join("\t").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(t,e){for(var r=[],o=0,i=0,s=e.split(/\t/g),a=0;a<s.length;a++){var c=s[a].substring(1);switch(s[a].charAt(0)){case"+":try{r[o++]=[1,decodeURI(c)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+c);var l=t.substring(i,i+=u);"="==s[a].charAt(0)?r[o++]=[0,l]:r[o++]=[n,l];break;default:if(s[a])throw new Error("Invalid diff operation in diff_fromDelta: "+s[a])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return r},e.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},e.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),o=this;function i(t,r){var i=t/e.length,s=Math.abs(n-r);return o.Match_Distance?i+s/o.Match_Distance:s?1:i}var s=this.Match_Threshold,a=t.indexOf(e,n);-1!=a&&(s=Math.min(i(0,a),s),-1!=(a=t.lastIndexOf(e,n+e.length))&&(s=Math.min(i(0,a),s)));var c,u,l=1<<e.length-1;a=-1;for(var f,h=e.length+t.length,d=0;d<e.length;d++){for(c=0,u=h;c<u;)i(d,n+u)<=s?c=u:h=u,u=Math.floor((h-c)/2+c);h=u;var p=Math.max(1,n-u+1),v=Math.min(n+u,t.length)+e.length,g=Array(v+2);g[v+1]=(1<<d)-1;for(var m=v;m>=p;m--){var y=r[t.charAt(m-1)];if(g[m]=0===d?(g[m+1]<<1|1)&y:(g[m+1]<<1|1)&y|(f[m+1]|f[m])<<1|1|f[m+1],g[m]&l){var b=i(d,m-1);if(b<=s){if(s=b,!((a=m-1)>n))break;p=Math.max(1,2*n-a)}}}if(i(d+1,n)>s)break;f=g}return a},e.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},e.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var o=e.substring(t.start2-r,t.start2);o&&t.diffs.unshift([0,o]);var i=e.substring(t.start2+t.length1,t.start2+t.length1+r);i&&t.diffs.push([0,i]),t.start1-=o.length,t.start2-=o.length,t.length1+=o.length+i.length,t.length2+=o.length+i.length}},e.prototype.patch_make=function(t,r,o){var i,s;if("string"==typeof t&&"string"==typeof r&&void 0===o)i=t,(s=this.diff_main(i,r,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(t&&"object"==y(t)&&void 0===r&&void 0===o)s=t,i=this.diff_text1(s);else if("string"==typeof t&&r&&"object"==y(r)&&void 0===o)i=t,s=r;else{if("string"!=typeof t||"string"!=typeof r||!o||"object"!=y(o))throw new Error("Unknown call format to patch_make.");i=t,s=o}if(0===s.length)return[];for(var a=[],c=new e.patch_obj,u=0,l=0,f=0,h=i,d=i,p=0;p<s.length;p++){var v=s[p][0],g=s[p][1];switch(u||0===v||(c.start1=l,c.start2=f),v){case 1:c.diffs[u++]=s[p],c.length2+=g.length,d=d.substring(0,f)+g+d.substring(f);break;case n:c.length1+=g.length,c.diffs[u++]=s[p],d=d.substring(0,f)+d.substring(f+g.length);break;case 0:g.length<=2*this.Patch_Margin&&u&&s.length!=p+1?(c.diffs[u++]=s[p],c.length1+=g.length,c.length2+=g.length):g.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(c,h),a.push(c),c=new e.patch_obj,u=0,h=d,l=f)}1!==v&&(l+=g.length),v!==n&&(f+=g.length)}return u&&(this.patch_addContext_(c,h),a.push(c)),a},e.prototype.patch_deepCopy=function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=new e.patch_obj;i.diffs=[];for(var s=0;s<o.diffs.length;s++)i.diffs[s]=o.diffs[s].slice();i.start1=o.start1,i.start2=o.start2,i.length1=o.length1,i.length2=o.length2,n[r]=i}return n},e.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var r=this.patch_addPadding(t);e=r+e+r,this.patch_splitMax(t);for(var o=0,i=[],s=0;s<t.length;s++){var a,c,u=t[s].start2+o,l=this.diff_text1(t[s].diffs),f=-1;if(l.length>this.Match_MaxBits?-1!=(a=this.match_main(e,l.substring(0,this.Match_MaxBits),u))&&(-1==(f=this.match_main(e,l.substring(l.length-this.Match_MaxBits),u+l.length-this.Match_MaxBits))||a>=f)&&(a=-1):a=this.match_main(e,l,u),-1==a)i[s]=!1,o-=t[s].length2-t[s].length1;else if(i[s]=!0,o=a-u,l==(c=-1==f?e.substring(a,a+l.length):e.substring(a,f+this.Match_MaxBits)))e=e.substring(0,a)+this.diff_text2(t[s].diffs)+e.substring(a+l.length);else{var h=this.diff_main(l,c,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(h)/l.length>this.Patch_DeleteThreshold)i[s]=!1;else{this.diff_cleanupSemanticLossless(h);for(var d,p=0,v=0;v<t[s].diffs.length;v++){var g=t[s].diffs[v];0!==g[0]&&(d=this.diff_xIndex(h,p)),1===g[0]?e=e.substring(0,a+d)+g[1]+e.substring(a+d):g[0]===n&&(e=e.substring(0,a+d)+e.substring(a+this.diff_xIndex(h,p+g[1].length))),g[0]!==n&&(p+=g[1].length)}}}}return[e=e.substring(r.length,e.length-r.length),i]},e.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var o=t[0],i=o.diffs;if(0==i.length||0!=i[0][0])i.unshift([0,n]),o.start1-=e,o.start2-=e,o.length1+=e,o.length2+=e;else if(e>i[0][1].length){var s=e-i[0][1].length;i[0][1]=n.substring(i[0][1].length)+i[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}return 0==(i=(o=t[t.length-1]).diffs).length||0!=i[i.length-1][0]?(i.push([0,n]),o.length1+=e,o.length2+=e):e>i[i.length-1][1].length&&(s=e-i[i.length-1][1].length,i[i.length-1][1]+=n.substring(0,s),o.length1+=s,o.length2+=s),n},e.prototype.patch_splitMax=function(t){for(var r=this.Match_MaxBits,o=0;o<t.length;o++)if(!(t[o].length1<=r)){var i=t[o];t.splice(o--,1);for(var s=i.start1,a=i.start2,c="";0!==i.diffs.length;){var u=new e.patch_obj,l=!0;for(u.start1=s-c.length,u.start2=a-c.length,""!==c&&(u.length1=u.length2=c.length,u.diffs.push([0,c]));0!==i.diffs.length&&u.length1<r-this.Patch_Margin;){var f=i.diffs[0][0],h=i.diffs[0][1];1===f?(u.length2+=h.length,a+=h.length,u.diffs.push(i.diffs.shift()),l=!1):f===n&&1==u.diffs.length&&0==u.diffs[0][0]&&h.length>2*r?(u.length1+=h.length,s+=h.length,l=!1,u.diffs.push([f,h]),i.diffs.shift()):(h=h.substring(0,r-u.length1-this.Patch_Margin),u.length1+=h.length,s+=h.length,0===f?(u.length2+=h.length,a+=h.length):l=!1,u.diffs.push([f,h]),h==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(h.length))}c=(c=this.diff_text2(u.diffs)).substring(c.length-this.Patch_Margin);var d=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==d&&(u.length1+=d.length,u.length2+=d.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=d:u.diffs.push([0,d])),l||t.splice(++o,0,u)}}},e.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},e.prototype.patch_fromText=function(t){var r=[];if(!t)return r;for(var o=t.split("\n"),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<o.length;){var a=o[i].match(s);if(!a)throw new Error("Invalid patch string: "+o[i]);var c=new e.patch_obj;for(r.push(c),c.start1=parseInt(a[1],10),""===a[2]?(c.start1--,c.length1=1):"0"==a[2]?c.length1=0:(c.start1--,c.length1=parseInt(a[2],10)),c.start2=parseInt(a[3],10),""===a[4]?(c.start2--,c.length2=1):"0"==a[4]?c.length2=0:(c.start2--,c.length2=parseInt(a[4],10)),i++;i<o.length;){var u=o[i].charAt(0);try{var l=decodeURI(o[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==u)c.diffs.push([n,l]);else if("+"==u)c.diffs.push([1,l]);else if(" "==u)c.diffs.push([0,l]);else{if("@"==u)break;if(""!==u)throw new Error('Invalid patch mode "'+u+'" in: '+l)}i++}}return r},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:t="+";break;case n:t="-";break;case 0:t=" "}e[r+1]=t+encodeURI(this.diffs[r][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0})),J=null,V=function(t){if(!J){var e=void 0;if("undefined"!=typeof diff_match_patch)e="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(U)try{e=U&&new U}catch(t){e=null}if(!e){if(!t)return null;var n=new Error("text diff_match_patch library not found");throw n.diff_match_patch_not_found=!0,n}J={diff:function(t,n){return e.patch_toText(e.patch_make(t,n))},patch:function(t,n){for(var r=e.patch_apply(e.patch_fromText(n),t),o=0;o<r[1].length;o++)r[1][o]||(new Error("text patch failed").textPatchFailed=!0);return r[0]}}}return J},K=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||60;if(t.left.length<e||t.right.length<e)t.setResult([t.left,t.right]).exit();else{var n=V();if(n){var r=n.diff;t.setResult([r(t.left,t.right),0,2]).exit()}else t.setResult([t.left,t.right]).exit()}}};K.filterName="texts";var G=function(t){if(!t.nested&&2===t.delta[2]){var e=V(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};G.filterName="texts";var H=function(t){var e,n=void 0,r=void 0,o=void 0,i=void 0,s=null,a=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(n=0,e=(r=t.split("\n")).length;n<e;n++){var c=(o=r[n]).slice(0,1);"@"===c?(s=a.exec(o),r[n]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):"+"===c?(r[n]="-"+r[n].slice(1),"+"===r[n-1].slice(0,1)&&(i=r[n],r[n]=r[n-1],r[n-1]=i)):"-"===c&&(r[n]="+"+r[n].slice(1))}return r.join("\n")},W=function(t){t.nested||2===t.delta[2]&&t.setResult([H(t.delta[0]),0,2]).exit()};W.filterName="texts";var Y=function(){function t(e){r(this,t),this.processor=new l(e),this.processor.pipe(new f("diff").append(k,x,L,K,_,N).shouldHaveResult()),this.processor.pipe(new f("patch").append(O,D,w,G,j,I).shouldHaveResult()),this.processor.pipe(new f("reverse").append(C,F,$,W,S,B).shouldHaveResult())}return o(t,[{key:"options",value:function(){var t;return(t=this.processor).options.apply(t,arguments)}},{key:"diff",value:function(t,e){return this.processor.process(new v(t,e))}},{key:"patch",value:function(t,e){return this.processor.process(new g(t,e))}},{key:"reverse",value:function(t){return this.processor.process(new m(t))}},{key:"unpatch",value:function(t,e){return this.patch(t,this.reverse(e))}},{key:"clone",value:function(t){return p(t)}}]),t}(),Q="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},Z="function"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},X=function(t){return"_"===t.substr(0,1)?t.slice(1):t},tt=function(t){return"_t"===t?-1:"_"===t.substr(0,1)?parseInt(t.slice(1),10):parseInt(t,10)+.1},et=function(t,e){return tt(t)-tt(e)},nt=function(){function t(){r(this,t)}return o(t,[{key:"format",value:function(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),this.finalize(n)}},{key:"prepareContext",value:function(t){t.buffer=[],t.out=function(){var t;(t=this.buffer).push.apply(t,arguments)}}},{key:"typeFormattterNotFound",value:function(t,e){throw new Error("cannot format delta type: "+e)}},{key:"typeFormattterErrorFormatter",value:function(t,e){return e.toString()}},{key:"finalize",value:function(t){var e=t.buffer;if(Q(e))return e.join("")}},{key:"recurse",value:function(t,e,n,r,o,i,s){var a=e&&i?i.value:n;if(void 0!==e||void 0!==r){var c=this.getDeltaType(e,i),u="node"===c?"a"===e._t?"array":"object":"";void 0!==r?this.nodeBegin(t,r,o,c,u,s):this.rootBegin(t,c,u);try{(this["format_"+c]||this.typeFormattterNotFound(t,c)).call(this,t,e,a,r,o,i)}catch(n){this.typeFormattterErrorFormatter(t,n,e,a,r,o,i),"undefined"!=typeof console&&console.error&&console.error(n.stack)}void 0!==r?this.nodeEnd(t,r,o,c,u,s):this.rootEnd(t,c,u)}}},{key:"formatDeltaChildren",value:function(t,e,n){var r=this;this.forEachDeltaKey(e,n,(function(o,i,s,a){r.recurse(t,e[o],n?n[i]:void 0,o,i,s,a)}))}},{key:"forEachDeltaKey",value:function(t,e,n){var r=Z(t),o="a"===t._t,i={},s=void 0;if(void 0!==e)for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(void 0!==t[s]||o&&void 0!==t["_"+s]||r.push(s));for(s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=t[s];Q(a)&&3===a[2]&&(i[a[1].toString()]={key:s,value:e&&e[parseInt(s.substr(1))]},!1!==this.includeMoveDestinations&&void 0===e&&void 0===t[a[1]]&&r.push(a[1].toString()))}o?r.sort(et):r.sort();for(var c=0,u=r.length;c<u;c++){var l=r[c];if(!o||"_t"!==l){var f=o?"number"==typeof l?l:parseInt(X(l),10):l,h=c===u-1;n(l,f,i[f],h)}}}},{key:"getDeltaType",value:function(t,e){if(void 0===t)return void 0!==e?"movedestination":"unchanged";if(Q(t)){if(1===t.length)return"added";if(2===t.length)return"modified";if(3===t.length&&0===t[2])return"deleted";if(3===t.length&&2===t[2])return"textdiff";if(3===t.length&&3===t[2])return"moved"}else if("object"===(void 0===t?"undefined":n(t)))return"node";return"unknown"}},{key:"parseTextDiff",value:function(t){for(var e=[],n=t.split("\n@@ "),r=0,o=n.length;r<o;r++){var i=n[r],s={pieces:[]},a=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(i).slice(1);s.location={line:a[0],chr:a[1]};for(var c=i.split("\n").slice(1),u=0,l=c.length;u<l;u++){var f=c[u];if(f.length){var h={type:"context"};"+"===f.substr(0,1)?h.type="added":"-"===f.substr(0,1)&&(h.type="deleted"),h.text=f.slice(1),s.pieces.push(h)}}e.push(s)}return e}}]),t}(),rt=Object.freeze({default:nt}),ot=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),o(e,[{key:"typeFormattterErrorFormatter",value:function(t,e){t.out('<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatValue",value:function(t,e){t.out("<pre>"+it(JSON.stringify(e,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,o=n.length;r<o;r++){var i=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+i.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+i.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=i.pieces,a=0,c=s.length;a<c;a++){var u=s[a];t.out('<span class="jsondiffpatch-textdiff-'+u.type+'">'+it(decodeURI(u.text))+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,e,n){var r="jsondiffpatch-"+e+(n?" jsondiffpatch-child-node-type-"+n:"");t.out('<div class="jsondiffpatch-delta '+r+'">')}},{key:"rootEnd",value:function(t){t.out("</div>"+(t.hasArrows?'<script type="text/javascript">setTimeout('+st.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function(t,e,n,r,o){var i="jsondiffpatch-"+r+(o?" jsondiffpatch-child-node-type-"+o:"");t.out('<li class="'+i+'" data-key="'+n+'"><div class="jsondiffpatch-property-name">'+n+"</div>")}},{key:"nodeEnd",value:function(t){t.out("</li>")}},{key:"format_unchanged",value:function(t,e,n){void 0!==n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))}},{key:"format_movedestination",value:function(t,e,n){void 0!==n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))}},{key:"format_node",value:function(t,e,n){var r="a"===e._t?"array":"object";t.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+r+'">'),this.formatDeltaChildren(t,e,n),t.out("</ul>")}},{key:"format_added",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_modified",value:function(t,e){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,e[1]),t.out("</div>")}},{key:"format_deleted",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_moved",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-moved-destination">'+e[1]+"</div>"),t.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),t.hasArrows=!0}},{key:"format_textdiff",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,e[0]),t.out("</div>")}}]),e}(nt);function it(t){for(var e=t,n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],r=0;r<n.length;r++)e=e.replace(n[r][0],n[r][1]);return e}var st=function(t){var e=t||document;!function(t,e,n){for(var r=t.querySelectorAll(".jsondiffpatch-arrow"),o=0,i=r.length;o<i;o++)n(r[o])}(e,0,(function(t){var e=t.parentNode,n=t.children,r=t.style,o=e,i=n[0],s=i.children[1];i.style.display="none";var a=function(t){var e=t.textContent,n=t.innerText;return e||n}(o.querySelector(".jsondiffpatch-moved-destination")),c=o.parentNode,u=void 0;if(function(t,e){for(var n=t.children,r=0,o=n.length;r<o;r++)e(n[r],r)}(c,(function(t){t.getAttribute("data-key")===a&&(u=t)})),u)try{var l=u.offsetTop-o.offsetTop;i.setAttribute("height",Math.abs(l)+6),r.top=-8+(l>0?0:l)+"px";var f=l>0?"M30,0 Q-10,"+Math.round(l/2)+" 26,"+(l-4):"M30,"+-l+" Q-10,"+Math.round(-l/2)+" 26,4";s.setAttribute("d",f),i.style.display=""}catch(t){}}))},at=function(t,e,n){var r=e||document.body,o="jsondiffpatch-unchanged-",i={showing:o+"showing",hiding:o+"hiding",visible:o+"visible",hidden:o+"hidden"},s=r.classList;if(s){if(!n)return s.remove(i.showing),s.remove(i.hiding),s.remove(i.visible),s.remove(i.hidden),void(!1===t&&s.add(i.hidden));!1===t?(s.remove(i.showing),s.add(i.visible),setTimeout((function(){s.add(i.hiding)}),10)):(s.remove(i.hiding),s.add(i.showing),s.remove(i.hidden));var a=setInterval((function(){st(r)}),100);setTimeout((function(){s.remove(i.showing),s.remove(i.hiding),!1===t?(s.add(i.hidden),s.remove(i.visible)):(s.add(i.visible),s.remove(i.hidden)),setTimeout((function(){s.remove(i.visible),clearInterval(a)}),n+400)}),n)}},ct=void 0;var ut=Object.freeze({showUnchanged:at,hideUnchanged:function(t,e){return at(!1,t,e)},default:ot,format:function(t,e){return ct||(ct=new ot),ct.format(t,e)}}),lt=function(t){function e(){r(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!1,t}return s(e,t),o(e,[{key:"prepareContext",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+(void 0===t?1:t),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},t.row=function(e,n){t.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),t.out(t.indentPad),t.out('</pre><pre style="display: inline-block">'),t.out(e),t.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),t.out(n),t.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.row("",'<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,o=n.length;r<o;r++){var i=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+i.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+i.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var s=i.pieces,a=0,c=s.length;a<c;a++){var u=s[a];t.out('<span class="jsondiffpatch-textdiff-'+u.type+'">'+u.text+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,e,n){t.out('<table class="jsondiffpatch-annotated-delta">'),"node"===e&&(t.row("{"),t.indent()),"array"===n&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(t,e){"node"===e&&(t.indent(-1),t.row("}")),t.out("</table>")}},{key:"nodeBegin",value:function(t,e,n,r,o){t.row("&quot;"+e+"&quot;: {"),"node"===r&&t.indent(),"array"===o&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(t,e,n,r,o,i){"node"===r&&t.indent(-1),t.row("}"+(i?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}}]),e}(nt),ft=function(t){return'<pre style="display:inline-block">&quot;'+t+"&quot;</pre>"},ht={added:function(t,e,n,r){var o=" <pre>([newValue])</pre>";return void 0===r?"new value"+o:"number"==typeof r?"insert at index "+r+o:"add property "+ft(r)+o},modified:function(t,e,n,r){var o=" <pre>([previousValue, newValue])</pre>";return void 0===r?"modify value"+o:"number"==typeof r?"modify at index "+r+o:"modify property "+ft(r)+o},deleted:function(t,e,n,r){var o=" <pre>([previousValue, 0, 0])</pre>";return void 0===r?"delete value"+o:"number"==typeof r?"remove index "+r+o:"delete property "+ft(r)+o},moved:function(t,e,n,r){return'move from <span title="(position to remove at original state)">index '+r+'</span> to <span title="(position to insert at final state)">index '+t[1]+"</span>"},textdiff:function(t,e,n,r){return"text diff"+(void 0===r?"":"number"==typeof r?" at index "+r:" at property "+ft(r))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},dt=function(t,e){var n=this.getDeltaType(e),r=ht[n],o=r&&r.apply(r,Array.prototype.slice.call(arguments,1)),i=JSON.stringify(e,null,2);"textdiff"===n&&(i=i.split("\\n").join('\\n"+\n   "')),t.indent(),t.row(i,o),t.indent(-1)};lt.prototype.format_added=dt,lt.prototype.format_modified=dt,lt.prototype.format_deleted=dt,lt.prototype.format_moved=dt,lt.prototype.format_textdiff=dt;var pt=void 0;var vt=Object.freeze({default:lt,format:function(t,e){return pt||(pt=new lt),pt.format(t,e)}}),gt="add",mt="remove",yt="replace",bt="move",xt=function(t){function e(){r(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!0,t}return s(e,t),o(e,[{key:"prepareContext",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.result=[],t.path=[],t.pushCurrentOp=function(t){var e=t.op,n=t.value,r={op:e,path:this.currentPath()};void 0!==n&&(r.value=n),this.result.push(r)},t.pushMoveOp=function(t){var e=this.currentPath();this.result.push({op:bt,from:e,path:this.toPath(t)})},t.currentPath=function(){return"/"+this.path.join("/")},t.toPath=function(t){var e=this.path.slice();return e[e.length-1]=t,"/"+e.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.out("[ERROR] "+e)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(t,e,n){t.path.push(n)}},{key:"nodeEnd",value:function(t){t.path.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}},{key:"format_added",value:function(t,e){t.pushCurrentOp({op:gt,value:e[0]})}},{key:"format_modified",value:function(t,e){t.pushCurrentOp({op:yt,value:e[1]})}},{key:"format_deleted",value:function(t){t.pushCurrentOp({op:mt})}},{key:"format_moved",value:function(t,e){var n=e[1];t.pushMoveOp(n)}},{key:"format_textdiff",value:function(){throw new Error("Not implemented")}},{key:"format",value:function(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),n.result}}]),e}(nt),wt=function(t){return t[t.length-1]},$t=function(t){return function(t,e){return t.sort(e),t}(t,(function(t,e){var n=t.path.split("/"),r=e.path.split("/");return n.length!==r.length?n.length-r.length:function(t,e){var n=parseInt(t,10),r=parseInt(e,10);return isNaN(n)||isNaN(r)?0:r-n}(wt(n),wt(r))}))},kt=function(t,e){var n=Array(e.length+1).fill().map((function(){return[]}));return t.map((function(t){var n=e.map((function(e){return e(t)})).indexOf(!0);return n<0&&(n=e.length),{item:t,position:n}})).reduce((function(t,e){return t[e.position].push(e.item),t}),n)},_t=function(t){return"move"===t.op},jt=function(t){return"remove"===t.op},Ot=void 0,St=function(t,e){return Ot||(Ot=new xt),function(t){var e=kt(t,[_t,jt]),n=c(e,3),r=n[0],o=n[1],i=n[2],s=$t(o);return[].concat(u(s),u(r),u(i))}(Ot.format(t,e))},Ct=Object.freeze({default:xt,partitionOps:kt,format:St,log:function(t,e){console.log(St(t,e))}});function Et(t){return e&&e[t]||function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}}var Mt={added:Et("green"),deleted:Et("red"),movedestination:Et("gray"),moved:Et("yellow"),unchanged:Et("gray"),error:Et("white.bgRed"),textDiffLine:Et("gray")},Tt=function(t){function e(){r(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!1,t}return s(e,t),o(e,[{key:"prepareContext",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+(void 0===t?1:t),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},t.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},t.out=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e.length;r<o;r++){var i=e[r].split("\n").join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(i=this.color[0](i)),this.buffer.push(i)}},t.pushColor=function(t){this.color=this.color||[],this.color.unshift(t)},t.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.pushColor(Mt.error),t.out("[ERROR]"+e),t.popColor()}},{key:"formatValue",value:function(t,e){t.out(JSON.stringify(e,null,2))}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.indent();for(var r=0,o=n.length;r<o;r++){var i=n[r];t.pushColor(Mt.textDiffLine),t.out(i.location.line+","+i.location.chr+" "),t.popColor();for(var s=i.pieces,a=0,c=s.length;a<c;a++){var u=s[a];t.pushColor(Mt[u.type]),t.out(u.text),t.popColor()}r<o-1&&t.outLine()}t.indent(-1)}},{key:"rootBegin",value:function(t,e,n){t.pushColor(Mt[e]),"node"===e&&(t.out("array"===n?"[":"{"),t.indent())}},{key:"rootEnd",value:function(t,e,n){"node"===e&&(t.indent(-1),t.out("array"===n?"]":"}")),t.popColor()}},{key:"nodeBegin",value:function(t,e,n,r,o){t.pushColor(Mt[r]),t.out(n+": "),"node"===r&&(t.out("array"===o?"[":"{"),t.indent())}},{key:"nodeEnd",value:function(t,e,n,r,o,i){"node"===r&&(t.indent(-1),t.out("array"===o?"]":"}"+(i?"":","))),i||t.outLine(),t.popColor()}},{key:"format_unchanged",value:function(t,e,n){void 0!==n&&this.formatValue(t,n)}},{key:"format_movedestination",value:function(t,e,n){void 0!==n&&this.formatValue(t,n)}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}},{key:"format_added",value:function(t,e){this.formatValue(t,e[0])}},{key:"format_modified",value:function(t,e){t.pushColor(Mt.deleted),this.formatValue(t,e[0]),t.popColor(),t.out(" => "),t.pushColor(Mt.added),this.formatValue(t,e[1]),t.popColor()}},{key:"format_deleted",value:function(t,e){this.formatValue(t,e[0])}},{key:"format_moved",value:function(t,e){t.out("==> "+e[1])}},{key:"format_textdiff",value:function(t,e){this.formatTextDiffString(t,e[0])}}]),e}(nt),Rt=void 0,At=function(t,e){return Rt||(Rt=new Tt),Rt.format(t,e)};var Nt=Object.freeze({default:Tt,format:At,log:function(t,e){console.log(At(t,e))}}),qt=Object.freeze({base:rt,html:ut,annotated:vt,jsonpatch:Ct,console:Nt});var Pt=void 0;t.DiffPatcher=Y,t.formatters=qt,t.console=Nt,t.create=function(t){return new Y(t)},t.dateReviver=function(t,e){var n=void 0;return"string"==typeof e&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):e},t.diff=function(){return Pt||(Pt=new Y),Pt.diff.apply(Pt,arguments)},t.patch=function(){return Pt||(Pt=new Y),Pt.patch.apply(Pt,arguments)},t.unpatch=function(){return Pt||(Pt=new Y),Pt.unpatch.apply(Pt,arguments)},t.reverse=function(){return Pt||(Pt=new Y),Pt.reverse.apply(Pt,arguments)},t.clone=function(){return Pt||(Pt=new Y),Pt.clone.apply(Pt,arguments)},Object.defineProperty(t,"__esModule",{value:!0})}(nn.exports,rn);var on=new nn.exports.DiffPatcher({arrays:{detectMove:!1,includeValueOnMove:!1},textDiff:{minLength:1}});function sn(t,e){return on.diff(t,e)}var an=["docChanged","isGeneric","scrolledIntoView","selectionSet","storedMarksSet"];function cn(t){return Object.keys(t).concat(an).reduce((function(e,n){return e[n]=t[n],e}),{})}function un(t){return{type:t.type,empty:t.empty,anchor:t.anchor,head:t.head,from:t.from,to:t.to}}function ln(t){return("00"+t).slice(-2)}var fn=function(t){var e,n=new Date(t);return[ln(n.getHours()),ln(n.getMinutes()),ln(n.getSeconds()),(e=n.getMilliseconds(),("000"+e).slice(-3))].join(":")},hn=/(&lt;\/?[\w\d\s="']+&gt;)/gim,dn=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(hn,"<span style='color: cadetblue;'>$&</span>")},pn=It(new Map),vn=It([]),gn=It(void 0);function mn(t,e,n){var o=S(pn),i=S(vn)[0],s=function(t,e,n,r){var o=Ze.fromSchema(e.schema),i=e.selection,s=o.serializeFragment(i.content().content),a=[];if(s)for(var c=s.firstChild;c;)a.push(c.outerHTML),c=c.nextSibling;var u=r?r.state:n,l=sn(u.doc.toJSON(),e.doc.toJSON()),f=sn(un(u.selection),un(e.selection));return{id:Math.random().toString()+Math.random().toString(),state:e,tr:cn(t),timestamp:t.time,timeStr:fn(t.time),contentDiff:l,selectionDiff:f,selectionHtml:dn(en(a.join("\n"),{max_char:60,indent_size:2}))}}(t,e,n,o.get((null==i?void 0:i.topEntryId)||""));pn.update((function(t){return new Map(t.set(s.id,s))})),gn.set(s);var a=!s.contentDiff;if((null==i?void 0:i.isGroup)&&a){var c={isGroup:a,entryIds:[s.id].concat(Object(r.a)(i.entryIds)),topEntryId:s.id,expanded:i.expanded};vn.update((function(t){return[c].concat(Object(r.a)(t.slice(1)))}))}else{var u={isGroup:a,entryIds:[s.id],topEntryId:s.id,expanded:!1};vn.update((function(t){return[u].concat(Object(r.a)(t))}))}}function yn(){pn.set(new Map),vn.set([]),gn.set(void 0)}var bn=["jsonID","empty","anchor","from","head","to"],xn=["$anchor","$head","$cursor","$to","$from"],wn=["nodeAfter","nodeBefore","textOffset"];function $n(t){return bn.reduce((function(e,n){return e[n]=t[n],e}),{})}function kn(t){return bn.concat(xn).reduce((function(e,n){var r=t[n];if(r&&xn.includes(n)){var o={};wn.forEach((function(t){o[t]=r[t]})),r=Object.assign(Object.assign({},r),o)}return e[n]=r,e}),{})}function _n(t,e,n,r,o){var i=o?[].concat(g(o.path),[t]):[];return{id:"[".concat(i.join(","),"]"),index:t,key:e,value:n,depth:r+1,collapsed:!0,type:jn(n),path:i,parentId:o?o.id:null,circularOfId:null,children:[]}}function jn(t){return Array.isArray(t)?"array":t instanceof Map?"map":t instanceof Set?"set":t instanceof Date?"date":null===t?"null":y(t)}function On(t,e,n,r,o,i,s,a,c,u,l){var f;if((null===(f=l.omitKeys)||void 0===f?void 0:f.includes(e))||l.maxDepth&&r>=l.maxDepth)return null;var h=_n(t,e,n,r,i),d=a.get(h.id);if(o?h.collapsed=!1:d&&!u?h.collapsed=d.collapsed:l.shouldExpandNode&&(h.collapsed=!l.shouldExpandNode(h)),s.set(h.id,h),function(t,e,n,r){if(!e)return!0;if(t.collapsed&&(null==e?void 0:e.collapsed))return!1;if(!r.stopCircularRecursion)return!0;if(r.isCircularNode)return r.isCircularNode(t,n);if("object"===t.type||"array"===t.type){var o=n.get(t.value);if(o&&t.id!==o.id)return t.circularOfId=o.id,!1;n.set(t.value,t)}return!0}(h,i,c,l)){var p=l.mapChildren&&l.mapChildren(n,jn(n),h),g=null!=p?p:function(t,e){switch(e){case"array":return t.map((function(t,e){return[e.toString(),t]}));case"map":return Array.from(t.entries()).map((function(t,e){var n=v(t,2),r=n[0],o=n[1];return["[map entry ".concat(e,"]"),{"[key]":r,"[value]":o}]}));case"set":return Array.from(t.values()).map((function(t,e){return["[set entry ".concat(e,"]"),t]}));case"object":return Object.entries(t);default:return[]}}(n,jn(n));h.children=g.map((function(t,e){var n=v(t,2);return On(e,n[0],n[1],r+1,!1,h,s,a,c,u,l)})).filter((function(t){return null!==t}))}return h}function Sn(t,e,n){var r=t.slice();return r[14]=e[n],r}function Cn(t){var e,n,r,o,i;return{c:function(){e=F("button"),n=U("\u25b6"),G(e,"class",r=P("arrow-btn ".concat(t[0].collapsed?"collapsed":""))+" svelte-ngcjq5")},m:function(r,s){D(r,e,s),I(e,n),o||(i=K(e,"click",t[9]),o=!0)},p:function(t,n){1&n&&r!==(r=P("arrow-btn ".concat(t[0].collapsed?"collapsed":""))+" svelte-ngcjq5")&&G(e,"class",r)},d:function(t){t&&B(e),o=!1,i()}}}function En(t){var e,n=t[5].formatValue(t[0].value,t[0])+"";return{c:function(){e=U(n)},m:function(t,n){D(t,e,n)},p:function(t,r){1&r&&n!==(n=t[5].formatValue(t[0].value,t[0])+"")&&Q(e,n)},i:b,o:b,d:function(t){t&&B(e)}}}function Mn(t){var e,n,r,o=t[3];function i(t){return{props:{value:t[0].value,node:t[0],defaultFormatter:t[10]}}}return o&&(e=new o(i(t))),{c:function(){e&&$t(e.$$.fragment),n=V()},m:function(t,o){e&&kt(e,t,o),D(t,n,o),r=!0},p:function(t,r){var s={};if(1&r&&(s.value=t[0].value),1&r&&(s.node=t[0]),o!==(o=t[3])){if(e){yt();var a=e;wt(a.$$.fragment,1,0,(function(){_t(a,1)})),bt()}o?($t((e=new o(i(t))).$$.fragment),xt(e.$$.fragment,1),kt(e,n.parentNode,n)):e=null}else o&&e.$set(s)},i:function(t){r||(e&&xt(e.$$.fragment,t),r=!0)},o:function(t){e&&wt(e.$$.fragment,t),r=!1},d:function(t){t&&B(n),e&&_t(e,t)}}}function Tn(t){var e,n,r;return{c:function(){(e=F("button")).textContent="log",G(e,"class","log-copy-button svelte-ngcjq5")},m:function(o,i){D(o,e,i),n||(r=K(e,"click",t[7]),n=!0)},p:b,d:function(t){t&&B(e),n=!1,r()}}}function Rn(t){var e,n,r;return{c:function(){(e=F("button")).textContent="copy",G(e,"class","log-copy-button svelte-ngcjq5")},m:function(o,i){D(o,e,i),n||(r=K(e,"click",t[8]),n=!0)},p:b,d:function(t){t&&B(e),n=!1,r()}}}function An(t){for(var e,n,r,o=t[0].children,i=[],s=0;s<o.length;s+=1)i[s]=Nn(Sn(t,o,s));var a=function(t){return wt(i[t],1,1,(function(){i[t]=null}))};return{c:function(){e=F("li"),n=F("ul");for(var t=0;t<i.length;t+=1)i[t].c();G(n,"class","svelte-ngcjq5"),G(e,"class","row svelte-ngcjq5")},m:function(t,o){D(t,e,o),I(e,n);for(var s=0;s<i.length;s+=1)i[s].m(n,null);r=!0},p:function(t,e){if(1&e){var r;for(o=t[0].children,r=0;r<o.length;r+=1){var s=Sn(t,o,r);i[r]?(i[r].p(s,e),xt(i[r],1)):(i[r]=Nn(s),i[r].c(),xt(i[r],1),i[r].m(n,null))}for(yt(),r=o.length;r<i.length;r+=1)a(r);bt()}},i:function(t){if(!r){for(var e=0;e<o.length;e+=1)xt(i[e]);r=!0}},o:function(t){i=i.filter(Boolean);for(var e=0;e<i.length;e+=1)wt(i[e]);r=!1},d:function(t){t&&B(e),z(i,t)}}}function Nn(t){var e,n;return e=new In({props:{id:t[14].id}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r={};1&n&&(r.id=t[14].id),e.$set(r)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function qn(t){var e,n,r,o,i,s,a,c,u,l,f,h,d,p,g,m,y,b,x,w=t[0].key+"",$=t[2]&&Cn(t),_=[Mn,En],j=[];function O(t,e){return t[3]?0:1}c=O(t),u=j[c]=_[c](t);var S=t[1].showLogButton&&Tn(t),C=t[1].showCopyButton&&Rn(t),E=!t[0].collapsed&&t[2]&&An(t);return{c:function(){e=F("li"),$&&$.c(),n=J(),r=F("div"),o=U(w),i=U(":"),s=J(),a=F("div"),u.c(),f=J(),h=F("div"),S&&S.c(),d=J(),C&&C.c(),g=J(),E&&E.c(),m=V(),G(r,"class","node-key svelte-ngcjq5"),Z(r,"has-children",t[2]),Z(r,"p-left",!t[2]),G(a,"class","node-value svelte-ngcjq5"),G(a,"data-type",l=t[0].type),Z(a,"expanded",!t[0].collapsed&&t[2]),Z(a,"has-children",t[2]),G(h,"class","buttons svelte-ngcjq5"),G(e,"class","row svelte-ngcjq5"),G(e,"data-tree-id",p=t[0].id),Z(e,"collapsed",t[0].collapsed&&t[2])},m:function(u,l){D(u,e,l),$&&$.m(e,null),I(e,n),I(e,r),I(r,o),I(r,i),I(e,s),I(e,a),j[c].m(a,null),I(e,f),I(e,h),S&&S.m(h,null),I(h,d),C&&C.m(h,null),D(u,g,l),E&&E.m(u,l),D(u,m,l),y=!0,b||(x=[K(r,"click",t[9]),K(a,"click",t[9])],b=!0)},p:function(t,i){var s=v(i,1)[0];t[2]?$?$.p(t,s):(($=Cn(t)).c(),$.m(e,n)):$&&($.d(1),$=null),(!y||1&s)&&w!==(w=t[0].key+"")&&Q(o,w),4&s&&Z(r,"has-children",t[2]),4&s&&Z(r,"p-left",!t[2]);var f=c;(c=O(t))===f?j[c].p(t,s):(yt(),wt(j[f],1,1,(function(){j[f]=null})),bt(),(u=j[c])?u.p(t,s):(u=j[c]=_[c](t)).c(),xt(u,1),u.m(a,null)),(!y||1&s&&l!==(l=t[0].type))&&G(a,"data-type",l),5&s&&Z(a,"expanded",!t[0].collapsed&&t[2]),4&s&&Z(a,"has-children",t[2]),t[1].showLogButton?S?S.p(t,s):((S=Tn(t)).c(),S.m(h,d)):S&&(S.d(1),S=null),t[1].showCopyButton?C?C.p(t,s):((C=Rn(t)).c(),C.m(h,null)):C&&(C.d(1),C=null),(!y||1&s&&p!==(p=t[0].id))&&G(e,"data-tree-id",p),5&s&&Z(e,"collapsed",t[0].collapsed&&t[2]),!t[0].collapsed&&t[2]?E?(E.p(t,s),5&s&&xt(E,1)):((E=An(t)).c(),xt(E,1),E.m(m.parentNode,m)):E&&(yt(),wt(E,1,1,(function(){E=null})),bt())},i:function(t){y||(xt(u),xt(E),y=!0)},o:function(t){wt(u),wt(E),y=!1},d:function(t){t&&B(e),$&&$.d(),j[c].d(),S&&S.d(),C&&C.d(),t&&B(g),E&&E.d(t),t&&B(m),b=!1,k(x)}}}function Pn(t,e,n){var r,o,i,s,a,c=b;t.$$.on_destroy.push((function(){return c()}));var u,l=e.id,f=rt("svelte-tree-view"),h=f.treeStore,d=f.propsStore,p=f.rootElementStore;return C(t,p,(function(t){return n(12,s=t)})),h.treeMap.subscribe((function(t){var e=t.get(l);e&&u!==e&&n(0,u=e)})),t.$$set=function(t){"id"in t&&n(11,l=t.id)},t.$$.update=function(){if(2048&t.$$.dirty){var e=h.getNode(l);if(!e)throw Error("[svelte-tree-view] TreeViewNode.svelte received undefined node from treeMapStore whereas it should be already unmounted!");n(0,u=e)}1&t.$$.dirty&&n(2,r=u&&u.children.length>0),2&t.$$.dirty&&n(3,i=a.valueComponent)},n(4,o=d.props),c(),c=O(o,(function(t){return n(1,a=t)})),[u,a,r,i,o,d,p,function(){console.info("%c [svelte-tree-view]: Property added to window._node","color: #b8e248"),console.log(u.value);try{"undefined"!=typeof window&&(window._node=u.value)}catch(t){console.error("Failed to set _node, window was undefined")}},function(){try{navigator.clipboard.writeText(JSON.stringify(u.value))}catch(t){console.error("Copying node to clipboard failed: ",t)}},function(){var t;r?h.toggleCollapse(u.id):u.circularOfId&&(h.expandAllNodesToNode(u.circularOfId),null===(t=s.querySelector('li[data-tree-id="'.concat(u.circularOfId,'"]')))||void 0===t||t.scrollIntoView())},function(t){return d.formatValue(t,u)},l]}Mt("ul.svelte-ngcjq5.svelte-ngcjq5{display:flex;flex-direction:column;height:max-content;list-style:none;padding:0;padding-left:var(--tree-view-left-indent);margin:0;width:100%}li.svelte-ngcjq5.svelte-ngcjq5{align-items:baseline;display:flex;height:max-content;line-height:var(--tree-view-line-height);list-style:none;width:100%}li.svelte-ngcjq5+li.svelte-ngcjq5{margin-top:0.25em}.empty-block.svelte-ngcjq5.svelte-ngcjq5{visibility:hidden}.node-key.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base0D);margin-right:var(--tree-view-key-margin-right)}.node-key.has-children.svelte-ngcjq5.svelte-ngcjq5{cursor:pointer}.node-key.p-left.svelte-ngcjq5.svelte-ngcjq5{padding-left:1.1em}.node-value.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base0B);margin-right:0.5em;word-break:break-all}.node-value[data-type=number].svelte-ngcjq5.svelte-ngcjq5,.node-value[data-type=boolean].svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base09)}.node-value[data-type=null].svelte-ngcjq5.svelte-ngcjq5,.node-value[data-type=undefined].svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base08)}.node-value.expanded.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base03)}.node-value.has-children.svelte-ngcjq5.svelte-ngcjq5{cursor:pointer}.arrow-btn.svelte-ngcjq5.svelte-ngcjq5{background:transparent;border:0;color:var(--tree-view-base0D);cursor:pointer;margin-right:0.7em;padding:0;transition:all 150ms ease 0s;transform:rotateZ(90deg);transform-origin:47% 43%;position:relative;line-height:1.1em;font-size:0.75em}.arrow-btn.collapsed.svelte-ngcjq5.svelte-ngcjq5{transform:rotateZ(0deg)}.buttons.svelte-ngcjq5.svelte-ngcjq5{display:flex;flex-wrap:wrap}.log-copy-button.svelte-ngcjq5.svelte-ngcjq5{background:transparent;border:0;color:var(--tree-view-base0D);cursor:pointer;margin:0;padding:0 0.5em}.log-copy-button.svelte-ngcjq5.svelte-ngcjq5:hover{background:rgba(255, 162, 177, 0.4);border-radius:2px;color:var(--tree-view-base07)}");var In=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Pn,qn,j,{id:11}),r}return n}();function Dn(t,e,n){var r=t.slice();return r[18]=e[n],r}function Bn(t){var e,n;return e=new In({props:{id:t[18].id}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.id=t[18].id),e.$set(r)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function zn(t){for(var e,n,r,o=t[2].children,i=[],s=0;s<o.length;s+=1)i[s]=Bn(Dn(t,o,s));var a=function(t){return wt(i[t],1,1,(function(){i[t]=null}))};return{c:function(){e=F("ul");for(var r=0;r<i.length;r+=1)i[r].c();G(e,"class",n=P("".concat(t[3].class||""," svelte-tree-view"))+" svelte-q3pq1s")},m:function(n,o){D(n,e,o);for(var s=0;s<i.length;s+=1)i[s].m(e,null);t[13](e),r=!0},p:function(t,s){var c=v(s,1)[0];if(4&c){var u;for(o=t[2].children,u=0;u<o.length;u+=1){var l=Dn(t,o,u);i[u]?(i[u].p(l,c),xt(i[u],1)):(i[u]=Bn(l),i[u].c(),xt(i[u],1),i[u].m(e,null))}for(yt(),u=o.length;u<i.length;u+=1)a(u);bt()}(!r||8&c&&n!==(n=P("".concat(t[3].class||""," svelte-tree-view"))+" svelte-q3pq1s"))&&G(e,"class",n)},i:function(t){if(!r){for(var e=0;e<o.length;e+=1)xt(i[e]);r=!0}},o:function(t){i=i.filter(Boolean);for(var e=0;e<i.length;e+=1)wt(i[e]);r=!1},d:function(n){n&&B(e),z(i,n),t[13](null)}}}function Fn(t,e,n){var r,o,i,s=b;t.$$.on_destroy.push((function(){return s()}));var a=e,c=a.data,u=a.theme,l=void 0===u?void 0:u,f=a.showLogButton,h=void 0!==f&&f,d=a.showCopyButton,p=void 0!==d&&d,v=a.valueComponent,g=void 0===v?void 0:v,m=a.recursionOpts,y=void 0===m?{}:m,w=a.valueFormatter,$=void 0===w?void 0:w,k=null,_={maxDepth:16,omitKeys:[],stopCircularRecursion:!1,shouldExpandNode:function(){return!1}},j={showLogButton:h,showCopyButton:p,valueComponent:g,recursionOpts:Object.assign(Object.assign({},_),y),valueFormatter:$},C=function(t){var e=It(t),n=Dt(e,(function(t){return t.recursionOpts}));return{props:e,recursionOpts:n,setProps:function(t){e.set(t)},formatValue:function(t,n){var r=S(e).valueFormatter,o=r?r(t,n):void 0;if(o)return o;switch(n.type){case"array":return"".concat(n.circularOfId?"circular":""," [] ").concat(t.length," items");case"object":return"".concat(n.circularOfId?"circular":""," {} ").concat(Object.keys(t).length," keys");case"map":case"set":return"".concat(n.circularOfId?"circular":""," () ").concat(t.size," entries");case"date":return"".concat(t.toISOString());case"string":return'"'.concat(t,'"');case"boolean":return t?"true":"false";default:return t}}}}(j),E=function(){var t=It(null);return{set:t.set,subscribe:t.subscribe}}(),M=function(t){var e=_n(0,"root",[],0,null),n=It(e),r=It(new Map),o=It(new Map);return{tree:n,treeMap:r,defaultRootNode:e,init:function(t,i,s){t?n.set(t):n.set(e),r.set(i),o.set(s)},getNode:function(t){return S(r).get(t)},toggleCollapse:function(e){var n=S(r).get(e);if(n){var o=Object.assign(Object.assign({},n),{collapsed:!n.collapsed});r.update((function(t){return new Map(t.set(n.id,o))}));var i=S(t.recursionOpts);i&&this.expandNodeChildren(o,i)}else console.warn("Attempted to collapse non-existent node: ".concat(e))},expandNodeChildren:function(t,e){var n=this.getNode((null==t?void 0:t.parentId)||"")||null;if(!n)throw Error("No parent in expandNodeChildren for node: "+t);var i=new Map(S(r)),s=S(r),a=S(o),c=On(t.index,t.key,t.value,t.depth,!t.collapsed,n,i,s,a,!1,e);c&&(n.children=n.children.map((function(t){return t.id===c.id?c:t})),i.set(c.id,c),i.set(n.id,n),r.set(i),o.set(a))},expandAllNodesToNode:function(t){var e=new Map(S(r));!function t(e,n){n&&(e.set(n.id,Object.assign(Object.assign({},n),{collapsed:!1})),n.parentId&&t(e,e.get(n.parentId)))}(e,e.get(t)),r.set(e)}}}(C);return nt("svelte-tree-view",{propsStore:C,rootElementStore:E,treeStore:M}),et((function(){E.set(k)})),t.$$set=function(t){n(3,e=x(x({},e),N(t))),"data"in t&&n(4,c=t.data),"theme"in t&&n(5,l=t.theme),"showLogButton"in t&&n(6,h=t.showLogButton),"showCopyButton"in t&&n(7,p=t.showCopyButton),"valueComponent"in t&&n(8,g=t.valueComponent),"recursionOpts"in t&&n(9,y=t.recursionOpts),"valueFormatter"in t&&n(10,$=t.valueFormatter)},t.$$.update=function(){if(5568&t.$$.dirty&&n(12,j={showLogButton:h,showCopyButton:p,valueComponent:g,valueFormatter:$,recursionOpts:j.recursionOpts}),6672&t.$$.dirty){var e=Object.assign(Object.assign({},_),y),r=(null===n(11,i=null==j?void 0:j.recursionOpts)||void 0===i?void 0:i.shouldExpandNode)!==e.shouldExpandNode,o=S(M.treeMap),s=function(t,e,n,r){var o=new Map,i=new Map;return{treeMap:o,tree:On(-1,"root",t,-1,!0,null,o,e,i,r,n),iteratedValues:i}}(c,o,e,r),a=s.treeMap,u=s.tree,f=s.iteratedValues;M.init(u,a,f),n(12,j.recursionOpts=e,j),C.setProps(j)}var d;if(33&t.$$.dirty&&l&&k)for(d in l){var v=l[d];k&&d.includes("--tree-view-base")&&v&&k.style.setProperty("--tree-view-".concat(d),v)}},n(1,r=M.tree),s(),s=O(r,(function(t){return n(2,o=t)})),e=N(e),[k,r,o,e,c,l,h,p,g,y,$,i,j,function(t){st[t?"unshift":"push"]((function(){n(0,k=t)}))}]}Mt(".svelte-q3pq1s{box-sizing:border-box}:root{--tree-view-base00:#363755;--tree-view-base01:#604d49;--tree-view-base02:#6d5a55;--tree-view-base03:#d1929b;--tree-view-base04:#b79f8d;--tree-view-base05:#f9f8f2;--tree-view-base06:#f7f4f1;--tree-view-base07:#faf8f5;--tree-view-base08:#fa3e7e;--tree-view-base09:#fd993c;--tree-view-base0A:#f6bf81;--tree-view-base0B:#b8e248;--tree-view-base0C:#b4efe4;--tree-view-base0D:#85d9ef;--tree-view-base0E:#be87ff;--tree-view-base0F:#d6724c;--tree-view-font-family:'Helvetica Neue', 'Calibri Light', Roboto, sans-serif;--tree-view-font-size:13px;--tree-view-left-indent:0.875em;--tree-view-line-height:1.1;--tree-view-key-margin-right:0.5em}ul.svelte-q3pq1s{background:var(--tree-view-base00);font-family:var(--tree-view-font-family);font-size:var(--tree-view-font-size);height:max-content;list-style:none;margin:0;padding:0;width:max-content}");var Ln=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Fn,zn,j,{data:4,theme:5,showLogButton:6,showCopyButton:7,valueComponent:8,recursionOpts:9,valueFormatter:10}),r}return n}();Mt("section.svelte-12c20rw{border-top:1px solid rgba(255, 162, 177, 0.2);color:var(--color-white);display:flex;height:calc(100% - var(--height-tabs-menu));width:100%}.split-view h2{color:var(--color-red-gray);font-family:var(--font-sans);font-size:var(--font-medium);font-weight:400;letter-spacing:1px;margin:0;text-transform:uppercase}.split-view > .left-panel{display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view > .right-panel{border-left:1px solid rgba(255, 162, 177, 0.2);display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view .hidden{visibility:hidden}");var Un=function(t){return{}},Jn=function(t){return{class:"right-panel"}},Vn=function(t){return{}},Kn=function(t){return{class:"left-panel"}};function Gn(t){var e,n,r,o=t[1].left,i=E(o,t,t[0],Kn),s=t[1].right,a=E(s,t,t[0],Jn);return{c:function(){e=F("section"),i&&i.c(),n=J(),a&&a.c(),G(e,"class","split-view svelte-12c20rw")},m:function(t,o){D(t,e,o),i&&i.m(e,null),I(e,n),a&&a.m(e,null),r=!0},p:function(t,e){var n=v(e,1)[0];i&&i.p&&(!r||1&n)&&R(i,o,t,t[0],r?T(o,t[0],n,Vn):A(t[0]),Kn),a&&a.p&&(!r||1&n)&&R(a,s,t,t[0],r?T(s,t[0],n,Un):A(t[0]),Jn)},i:function(t){r||(xt(i,t),xt(a,t),r=!0)},o:function(t){wt(i,t),wt(a,t),r=!1},d:function(t){t&&B(e),i&&i.d(t),a&&a.d(t)}}}function Hn(t,e,n){var r=e.$$slots,o=void 0===r?{}:r,i=e.$$scope;return t.$$set=function(t){"$$scope"in t&&n(0,i=t.$$scope)},[i,o]}var Wn=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Hn,Gn,j,{}),r}return n}();function Yn(t){for(var e,n,r,o,i=t[3].default,s=E(i,t,t[2],null),a=[t[1]],c={},u=0;u<a.length;u+=1)c=x(c,a[u]);return{c:function(){e=F("button"),s&&s.c(),H(e,c),Z(e,"selected",t[0]),Z(e,"svelte-1fdsptc",!0)},m:function(i,a){D(i,e,a),s&&s.m(e,null),e.autofocus&&e.focus(),n=!0,r||(o=[K(e,"click",t[4]),K(e,"mouseover",t[5]),K(e,"mouseenter",t[6]),K(e,"mouseleave",t[7]),K(e,"focus",t[8])],r=!0)},p:function(t,r){var o=v(r,1)[0];s&&s.p&&(!n||4&o)&&R(s,i,t,t[2],n?T(i,t[2],o,null):A(t[2]),null),H(e,c=function(t,e){for(var n={},r={},o={$$scope:1},i=t.length;i--;){var s=t[i],a=e[i];if(a){for(var c in s)c in a||(r[c]=1);for(var u in a)o[u]||(n[u]=a[u],o[u]=1);t[i]=a}else for(var l in s)o[l]=1}for(var f in r)f in n||(n[f]=void 0);return n}(a,[t[1]])),Z(e,"selected",t[0]),Z(e,"svelte-1fdsptc",!0)},i:function(t){n||(xt(s,t),n=!0)},o:function(t){wt(s,t),n=!1},d:function(t){t&&B(e),s&&s.d(t),r=!1,k(o)}}}function Qn(t,e,n){var r=["selected"],o=q(e,r),i=e,s=i.$$slots,a=void 0===s?{}:s,c=i.$$scope,u=e.selected,l=void 0!==u&&u,f={class:[o.class]};return t.$$set=function(t){e=x(x({},e),N(t)),n(9,o=q(e,r)),"selected"in t&&n(0,l=t.selected),"$$scope"in t&&n(2,c=t.$$scope)},[l,f,c,a,function(e){ot.call(this,t,e)},function(e){ot.call(this,t,e)},function(e){ot.call(this,t,e)},function(e){ot.call(this,t,e)},function(e){ot.call(this,t,e)}]}Mt(".hidden.svelte-1fdsptc{display:none;visibility:hidden}button.svelte-1fdsptc{background:transparent;border:0;border-radius:2px;color:var(--color-gray-light);cursor:pointer;font-size:var(--font-small);padding:6px 10px;text-transform:uppercase}button.svelte-1fdsptc:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-1fdsptc{background:rgba(255, 162, 177, 0.4)}");var Zn=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Qn,Yn,j,{selected:0}),r}return n}();function Xn(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function tr(t){var e,n,r,o,i,s,a,c;return(i=new Zn({props:{$$slots:{default:[Xn]},$$scope:{ctx:t}}})).$on("click",t[6]),a=new Ln({props:{class:"tree-view",data:t[0],showLogButton:!0,showCopyButton:!0,valueFormatter:sr}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Current doc",o=J(),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),G(n,"class","top-row svelte-1h6tg0t"),G(e,"slot","left"),G(e,"class","left-panel svelte-1h6tg0t")},m:function(t,u){D(t,e,u),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),kt(a,e,null),c=!0},p:function(t,e){var n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);var r={};1&e&&(r.data=t[0]),a.$set(r)},i:function(t){c||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),c=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),c=!1},d:function(t){t&&B(e),_t(i),_t(a)}}}function er(t){var e;return{c:function(){G(e=F("span"),"class","caret-icon svelte-1h6tg0t"),Z(e,"expanded",t[5])},m:function(t,n){D(t,e,n)},p:function(t,n){32&n&&Z(e,"expanded",t[5])},d:function(t){t&&B(e)}}}function nr(t){var e,n;return e=new Ln({props:{class:"tree-view",data:t[2]}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.data=t[2]),e.$set(r)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function rr(t){var e;return{c:function(){(e=F("div")).textContent="No active marks",G(e,"class","no-marks svelte-1h6tg0t")},m:function(t,n){D(t,e,n)},p:b,i:b,o:b,d:function(t){t&&B(e)}}}function or(t){var e,n,r,o,i,s,a,c,u,l,f,h,d,p,v,g,m,y,b;(i=new Zn({props:{class:"selection-btn",$$slots:{default:[er]},$$scope:{ctx:t}}})).$on("click",t[7]),a=new Ln({props:{class:"tree-view",data:t[1]}});var x=[rr,nr],w=[];function $(t,e){return 0===t[2].length?0:1}return h=$(t),d=w[h]=x[h](t),y=new Ln({props:{class:"tree-view",data:{nodeSize:t[3],childCount:t[4]}}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Selection",o=J(),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),c=J(),u=F("div"),(l=F("h2")).textContent="Active marks",f=J(),d.c(),p=J(),v=F("div"),(g=F("h2")).textContent="Document stats",m=J(),$t(y.$$.fragment),G(n,"class","top-row svelte-1h6tg0t"),G(e,"slot","right"),G(e,"class","right-panel svelte-1h6tg0t")},m:function(t,d){D(t,e,d),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),kt(a,e,null),I(e,c),I(e,u),I(u,l),I(u,f),w[h].m(u,null),I(e,p),I(e,v),I(v,g),I(v,m),kt(y,v,null),b=!0},p:function(t,e){var n={};1056&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);var r={};2&e&&(r.data=t[1]),a.$set(r);var o=h;(h=$(t))===o?w[h].p(t,e):(yt(),wt(w[o],1,1,(function(){w[o]=null})),bt(),(d=w[h])?d.p(t,e):(d=w[h]=x[h](t)).c(),xt(d,1),d.m(u,null));var s={};24&e&&(s.data={nodeSize:t[3],childCount:t[4]}),y.$set(s)},i:function(t){b||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),xt(d),xt(y.$$.fragment,t),b=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),wt(d),wt(y.$$.fragment,t),b=!1},d:function(t){t&&B(e),_t(i),_t(a),w[h].d(),_t(y)}}}function ir(t){var e,n;return e=new Wn({props:{$$slots:{right:[or],left:[tr]},$$scope:{ctx:t}}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r=v(n,1)[0],o={};1087&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function sr(t,e){if("object"===e.type&&t.type)return"{} ".concat(t.type)}function ar(t,e,n){var r=Et("editor-view").view,o=r.state.doc.toJSON(),i=$n(r.state.selection),s=r.state,a=[],c=r.state.doc.nodeSize,u=r.state.doc.childCount,l=!1;return gn.subscribe((function(t){if(t){var e=t.state;s=e,n(0,o=e.doc.toJSON()),n(1,i=l?kn(e.selection):$n(e.selection)),n(2,a=function(t){if(t.selection.empty){var e=t.selection.$from,n=t.storedMarks;return n?n.map((function(t){return t.type.name})):e.marks().map((function(t){return t.type.name}))}var r=t.selection.$head,o=t.selection.$anchor,i=new Set;return r.marks().forEach((function(t){return i.add(t.type.name)})),o.marks().forEach((function(t){return i.add(t.type.name)})),Array.from(i)}(e)),n(3,c=e.doc.nodeSize),n(4,u=e.doc.childCount)}})),[o,i,a,c,u,l,function(){console.log(o),window._doc=o},function(){n(5,l=!l),n(1,i=l?kn(s.selection):$n(s.selection))}]}Mt("@charset \"UTF-8\";.top-row.svelte-1h6tg0t{align-items:center;display:flex;justify-content:space-between}.left-panel.svelte-1h6tg0t{overflow:scroll}.right-panel.svelte-1h6tg0t{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:200px;width:200px}.split-view .selection-btn{height:24px;width:35px}.caret-icon.svelte-1h6tg0t::before{content:'\u25b6'}.caret-icon.expanded.svelte-1h6tg0t::before{content:'\u25bc'}.no-marks.svelte-1h6tg0t{color:var(--color-blue-light);margin:0.5em 0 1em 1em}.split-view .tree-view{margin:0.5em 0 1em 0}");var cr=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,ar,ir,j,{}),r}return n}();function ur(t,e,n){if("array"===e)return[]}function lr(t,e){if("array"===e&&0===t[1]&&0===t[2])return[];if("array"===e&&"string"==typeof t[0]&&0===t[1]&&2===t[2])return[];if("array"===e&&1===t.length&&"object"==typeof t[0])return[];if("object"===e&&"a"===t._t){var n=[];for(var r in t)"_t"!==r&&("_"===r.charAt(0)?n.push([r.substr(1),t[r]]):n.push([r,t[r]]));return n}}function fr(t,e,n){var r=t.slice();return r[5]=e[n],r[7]=n,r}function hr(t,e,n){var r=t.slice();return r[8]=e[n],r}function dr(t){var e,n,r,o=t[5].entries.length+"";return{c:function(){e=U("["),n=U(o),r=U("]")},m:function(t,o){D(t,e,o),D(t,n,o),D(t,r,o)},p:function(t,e){1&e&&o!==(o=t[5].entries.length+"")&&Q(n,o)},d:function(t){t&&B(e),t&&B(n),t&&B(r)}}}function pr(t){var e;return{c:function(){G(e=F("span"),"class","caret-icon svelte-11dhq1h"),Z(e,"expanded",t[5].expanded)},m:function(t,n){D(t,e,n)},p:function(t,n){1&n&&Z(e,"expanded",t[5].expanded)},d:function(t){t&&B(e)}}}function vr(t){for(var e,n=t[5].entries,r=[],o=0;o<n.length;o+=1)r[o]=gr(hr(t,n,o));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=V()},m:function(t,n){for(var o=0;o<r.length;o+=1)r[o].m(t,n);D(t,e,n)},p:function(t,o){if(7&o){var i;for(n=t[5].entries,i=0;i<n.length;i+=1){var s=hr(t,n,i);r[i]?r[i].p(s,o):(r[i]=gr(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d:function(t){z(r,t),t&&B(e)}}}function gr(t){var e,n,r,o,i,s,a,c=(null===(e=t[8])||void 0===e?void 0:e.timeStr)+"";function u(){return t[4](t[8],t[7])}return{c:function(){var e;n=F("li"),r=F("button"),o=U(c),i=J(),G(r,"class","p-left svelte-11dhq1h"),G(n,"class","svelte-11dhq1h"),Z(n,"selected",t[1]===(null===(e=t[8])||void 0===e?void 0:e.id))},m:function(t,e){D(t,n,e),I(n,r),I(r,o),I(n,i),s||(a=K(r,"click",u),s=!0)},p:function(e,r){var i,s;t=e,1&r&&c!==(c=(null===(i=t[8])||void 0===i?void 0:i.timeStr)+"")&&Q(o,c),3&r&&Z(n,"selected",t[1]===(null===(s=t[8])||void 0===s?void 0:s.id))},d:function(t){t&&B(n),s=!1,a()}}}function mr(t){var e,n,r,o,i,s,a,c,u,l,f,h,d=(null===(e=t[5])||void 0===e||null===(n=e.topEntry)||void 0===n?void 0:n.timeStr)+"",p=t[5].isGroup&&dr(t),v=t[5].isGroup&&t[5].entries.length>1&&pr(t);function g(){return t[3](t[5],t[7])}var m=t[5].isGroup&&t[5].expanded&&vr(t);return{c:function(){var e,n;r=F("li"),o=F("button"),i=F("span"),s=U(d),a=J(),p&&p.c(),c=J(),v&&v.c(),u=J(),m&&m.c(),l=V(),G(o,"class","svelte-11dhq1h"),Z(o,"is-group",t[5].isGroup),G(r,"class","svelte-11dhq1h"),Z(r,"selected",!t[5].expanded&&t[1]===(null===(e=t[5])||void 0===e||null===(n=e.topEntry)||void 0===n?void 0:n.id))},m:function(t,e){D(t,r,e),I(r,o),I(o,i),I(i,s),I(i,a),p&&p.m(i,null),I(o,c),v&&v.m(o,null),D(t,u,e),m&&m.m(t,e),D(t,l,e),f||(h=K(o,"click",g),f=!0)},p:function(e,n){var a,c,u,f;t=e,1&n&&d!==(d=(null===(a=t[5])||void 0===a||null===(c=a.topEntry)||void 0===c?void 0:c.timeStr)+"")&&Q(s,d),t[5].isGroup?p?p.p(t,n):((p=dr(t)).c(),p.m(i,null)):p&&(p.d(1),p=null),t[5].isGroup&&t[5].entries.length>1?v?v.p(t,n):((v=pr(t)).c(),v.m(o,null)):v&&(v.d(1),v=null),1&n&&Z(o,"is-group",t[5].isGroup),3&n&&Z(r,"selected",!t[5].expanded&&t[1]===(null===(u=t[5])||void 0===u||null===(f=u.topEntry)||void 0===f?void 0:f.id)),t[5].isGroup&&t[5].expanded?m?m.p(t,n):((m=vr(t)).c(),m.m(l.parentNode,l)):m&&(m.d(1),m=null)},d:function(t){t&&B(r),p&&p.d(),v&&v.d(),t&&B(u),m&&m.d(t),t&&B(l),f=!1,h()}}}function yr(t){for(var e,n=t[0],r=[],o=0;o<n.length;o+=1)r[o]=mr(fr(t,n,o));return{c:function(){e=F("ul");for(var t=0;t<r.length;t+=1)r[t].c();G(e,"class","svelte-11dhq1h")},m:function(t,n){D(t,e,n);for(var o=0;o<r.length;o+=1)r[o].m(e,null)},p:function(t,o){var i=v(o,1)[0];if(7&i){var s;for(n=t[0],s=0;s<n.length;s+=1){var a=fr(t,n,s);r[s]?r[s].p(a,i):(r[s]=mr(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:b,o:b,d:function(t){t&&B(e),z(r,t)}}}function br(t,e,n){var r=e.listItems,o=void 0===r?[]:r,i=e.selectedId,s=e.onSelect;return t.$$set=function(t){"listItems"in t&&n(0,o=t.listItems),"selectedId"in t&&n(1,i=t.selectedId),"onSelect"in t&&n(2,s=t.onSelect)},[o,i,s,function(t,e){return t.topEntry&&s(t.topEntry.id,e,!0)},function(t,e){return t&&s(t.id,e,!1)}]}Mt("@charset \"UTF-8\";ul.svelte-11dhq1h.svelte-11dhq1h{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-11dhq1h.svelte-11dhq1h{transition:background 0.1s}li.svelte-11dhq1h.svelte-11dhq1h:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}li.selected.svelte-11dhq1h.svelte-11dhq1h{background:rgba(255, 162, 177, 0.4)}li.svelte-11dhq1h+li.svelte-11dhq1h{border-top:1px solid var(--color-purple)}button.svelte-11dhq1h.svelte-11dhq1h{background:transparent;border:0;color:var(--color-gray-light);cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-small);height:100%;justify-content:space-between;padding:6px 18px;text-transform:uppercase;width:100%}button.p-left.svelte-11dhq1h.svelte-11dhq1h{margin-left:1em}.caret-icon.svelte-11dhq1h.svelte-11dhq1h::before{content:'\u25b6'}.caret-icon.expanded.svelte-11dhq1h.svelte-11dhq1h::before{content:'\u25bc'}");var xr=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,br,yr,j,{listItems:0,selectedId:1,onSelect:2}),r}return n}();function wr(t,e,n){var r=t.slice();return r[4]=e[n],r}function $r(t){var e,n=t[0](t[1])+"";return{c:function(){e=U(n)},m:function(t,n){D(t,e,n)},p:function(t,r){3&r&&n!==(n=t[0](t[1])+"")&&Q(e,n)},d:function(t){t&&B(e)}}}function kr(t){var e;function n(t,e){return 1===t[1].length?Sr:2===t[1].length?Or:3===t[1].length&&0===t[1][1]&&0===t[1][2]?jr:3===t[1].length&&2===t[1][2]?_r:void 0}var r=n(t),o=r&&r(t);return{c:function(){o&&o.c(),e=V()},m:function(t,n){o&&o.m(t,n),D(t,e,n)},p:function(t,i){r===(r=n(t))&&o?o.p(t,i):(o&&o.d(1),(o=r&&r(t))&&(o.c(),o.m(e.parentNode,e)))},d:function(t){o&&o.d(t),t&&B(e)}}}function _r(t){for(var e,n=Ar(t[1][0]),r=[],o=0;o<n.length;o+=1)r[o]=Tr(wr(t,n,o));return{c:function(){e=F("span");for(var t=0;t<r.length;t+=1)r[t].c();G(e,"class","updated svelte-ld8g2r")},m:function(t,n){D(t,e,n);for(var o=0;o<r.length;o+=1)r[o].m(e,null)},p:function(t,o){if(2&o){var i;for(n=Ar(t[1][0]),i=0;i<n.length;i+=1){var s=wr(t,n,i);r[i]?r[i].p(s,o):(r[i]=Tr(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d:function(t){t&&B(e),z(r,t)}}}function jr(t){var e,n,r=Nr(t[1][0])+"";return{c:function(){e=F("span"),n=U(r),G(e,"class","deleted svelte-ld8g2r")},m:function(t,r){D(t,e,r),I(e,n)},p:function(t,e){2&e&&r!==(r=Nr(t[1][0])+"")&&Q(n,r)},d:function(t){t&&B(e)}}}function Or(t){var e,n,r,o,i,s,a,c,u=Nr(t[1][0])+"",l=Nr(t[1][1])+"";return{c:function(){e=F("span"),n=F("span"),r=U(u),o=J(),(i=F("span")).textContent="=>",s=J(),a=F("span"),c=U(l),G(n,"class","deleted svelte-ld8g2r"),G(i,"class","arrow svelte-ld8g2r"),G(a,"class","added svelte-ld8g2r"),G(e,"class","updated svelte-ld8g2r")},m:function(t,u){D(t,e,u),I(e,n),I(n,r),I(e,o),I(e,i),I(e,s),I(e,a),I(a,c)},p:function(t,e){2&e&&u!==(u=Nr(t[1][0])+"")&&Q(r,u),2&e&&l!==(l=Nr(t[1][1])+"")&&Q(c,l)},d:function(t){t&&B(e)}}}function Sr(t){var e,n,r=Nr(t[1][0])+"";return{c:function(){e=F("span"),n=U(r),G(e,"class","added svelte-ld8g2r")},m:function(t,r){D(t,e,r),I(e,n)},p:function(t,e){2&e&&r!==(r=Nr(t[1][0])+"")&&Q(n,r)},d:function(t){t&&B(e)}}}function Cr(t){var e,n,r=t[4].raw+"";return{c:function(){e=F("span"),n=U(r)},m:function(t,r){D(t,e,r),I(e,n)},p:function(t,e){2&e&&r!==(r=t[4].raw+"")&&Q(n,r)},d:function(t){t&&B(e)}}}function Er(t){var e,n,r=t[4].add+"";return{c:function(){e=F("span"),n=U(r),G(e,"class","added svelte-ld8g2r")},m:function(t,r){D(t,e,r),I(e,n)},p:function(t,e){2&e&&r!==(r=t[4].add+"")&&Q(n,r)},d:function(t){t&&B(e)}}}function Mr(t){var e,n,r=t[4].delete+"";return{c:function(){e=F("span"),n=U(r),G(e,"class","deleted svelte-ld8g2r")},m:function(t,r){D(t,e,r),I(e,n)},p:function(t,e){2&e&&r!==(r=t[4].delete+"")&&Q(n,r)},d:function(t){t&&B(e)}}}function Tr(t){var e;function n(t,e){return t[4].delete?Mr:t[4].add?Er:Cr}var r=n(t),o=r(t);return{c:function(){o.c(),e=V()},m:function(t,n){o.m(t,n),D(t,e,n)},p:function(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),(o=r(t))&&(o.c(),o.m(e.parentNode,e)))},d:function(t){o.d(t),t&&B(e)}}}function Rr(t){var e,n;function r(t,n){return(null==e||2&n)&&(e=!!Array.isArray(t[1])),e?kr:$r}var o=r(t,-1),i=o(t);return{c:function(){i.c(),n=V()},m:function(t,e){i.m(t,e),D(t,n,e)},p:function(t,e){var s=v(e,1)[0];o===(o=r(t,s))&&i?i.p(t,s):(i.d(1),(i=o(t))&&(i.c(),i.m(n.parentNode,n)))},i:b,o:b,d:function(t){i.d(t),t&&B(n)}}}function Ar(t){return t.split(/\n/gm).slice(1).map((function(t){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t.startsWith("-")?"delete":t.startsWith("+")?"add":"raw",t.substr(1).replace(/\s/gm,"\xa0"))}))}function Nr(t){return"string"==typeof t?t:function(t){if(null===t)return"null";var e=JSON.stringify(t);return void 0===e?"undefined":e.length>22?"".concat(e.substr(0,15),"\u2026").concat(e.substr(-5)):e}(t)}function qr(t,e,n){var r,o=e.value,i=e.node,s=e.defaultFormatter;return t.$$set=function(t){"value"in t&&n(2,o=t.value),"node"in t&&n(3,i=t.node),"defaultFormatter"in t&&n(0,s=t.defaultFormatter)},t.$$.update=function(){8&t.$$.dirty&&n(1,r=i.value)},[s,r,o,i]}Mt(".added.svelte-ld8g2r.svelte-ld8g2r{display:inline-block;background:var(--color-green-light);border-radius:1px;color:var(--color-green);padding:1px 2px;text-indent:0;min-height:1ex}.deleted.svelte-ld8g2r.svelte-ld8g2r{display:inline-block;background:var(--color-red);border-radius:1px;color:var(--color-gray-light);padding:1px 2px;text-decoration:line-through;text-indent:0;min-height:1ex}.updated.svelte-ld8g2r.svelte-ld8g2r{word-break:break-all}.updated.svelte-ld8g2r .added.svelte-ld8g2r{background:var(--color-yellow)}.arrow.svelte-ld8g2r.svelte-ld8g2r{color:var(--color-green-light)}");var Pr=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,qr,Rr,j,{value:2,node:3,defaultFormatter:0}),r}return n}();function Ir(t){var e,n,r,o;return r=new xr({props:{listItems:t[4],selectedId:(null===(e=t[0])||void 0===e?void 0:e.id)||"",onSelect:t[7]}}),{c:function(){n=F("div"),$t(r.$$.fragment),G(n,"slot","left"),G(n,"class","left-panel svelte-pd5yjj")},m:function(t,e){D(t,n,e),kt(r,n,null),o=!0},p:function(t,e){var n,o={};16&e&&(o.listItems=t[4]),1&e&&(o.selectedId=(null===(n=t[0])||void 0===n?void 0:n.id)||""),r.$set(o)},i:function(t){o||(xt(r.$$.fragment,t),o=!0)},o:function(t){wt(r.$$.fragment,t),o=!1},d:function(t){t&&B(n),_t(r)}}}function Dr(t){var e;return{c:function(){(e=F("div")).textContent="Docs are equal.",G(e,"class","equal-diff svelte-pd5yjj")},m:function(t,n){D(t,e,n)},p:b,i:b,o:b,d:function(t){t&&B(e)}}}function Br(t){var e,n,r,o,i,s,a,c,u,l,f,h,d,p=t[0].contentDiff&&zr(t),v=t[0].selectionDiff&&Lr(t),g=t[0].selectionHtml.length>0&&Jr(t),m=t[1]&&Kr(t);(f=new Zn({props:{$$slots:{default:[Wr]},$$scope:{ctx:t}}})).$on("click",t[5]);var y=t[1]&&Yr(t);return{c:function(){e=F("div"),p&&p.c(),n=J(),v&&v.c(),r=J(),g&&g.c(),o=J(),i=F("div"),s=F("div"),(a=F("h2")).textContent="Transaction",c=J(),u=F("div"),m&&m.c(),l=J(),$t(f.$$.fragment),h=J(),y&&y.c(),G(s,"class","title-container svelte-pd5yjj"),G(i,"class","entry-row svelte-pd5yjj")},m:function(t,b){D(t,e,b),p&&p.m(e,null),I(e,n),v&&v.m(e,null),I(e,r),g&&g.m(e,null),I(e,o),I(e,i),I(i,s),I(s,a),I(s,c),I(s,u),m&&m.m(u,null),I(u,l),kt(f,u,null),I(i,h),y&&y.m(i,null),d=!0},p:function(t,s){t[0].contentDiff?p?(p.p(t,s),1&s&&xt(p,1)):((p=zr(t)).c(),xt(p,1),p.m(e,n)):p&&(yt(),wt(p,1,1,(function(){p=null})),bt()),t[0].selectionDiff?v?(v.p(t,s),1&s&&xt(v,1)):((v=Lr(t)).c(),xt(v,1),v.m(e,r)):v&&(yt(),wt(v,1,1,(function(){v=null})),bt()),t[0].selectionHtml.length>0?g?(g.p(t,s),1&s&&xt(g,1)):((g=Jr(t)).c(),xt(g,1),g.m(e,o)):g&&(yt(),wt(g,1,1,(function(){g=null})),bt()),t[1]?m?(m.p(t,s),2&s&&xt(m,1)):((m=Kr(t)).c(),xt(m,1),m.m(u,l)):m&&(yt(),wt(m,1,1,(function(){m=null})),bt());var a={};2050&s&&(a.$$scope={dirty:s,ctx:t}),f.$set(a),t[1]?y?(y.p(t,s),2&s&&xt(y,1)):((y=Yr(t)).c(),xt(y,1),y.m(i,null)):y&&(yt(),wt(y,1,1,(function(){y=null})),bt())},i:function(t){d||(xt(p),xt(v),xt(g),xt(m),xt(f.$$.fragment,t),xt(y),d=!0)},o:function(t){wt(p),wt(v),wt(g),wt(m),wt(f.$$.fragment,t),wt(y),d=!1},d:function(t){t&&B(e),p&&p.d(),v&&v.d(),g&&g.d(),m&&m.d(),_t(f),y&&y.d()}}}function zr(t){var e,n,r,o,i,s,a,c;return i=new Zn({props:{class:"hidden",$$slots:{default:[Fr]},$$scope:{ctx:t}}}),a=new Ln({props:{class:"tree-view",data:t[0].contentDiff,showLogButton:!0,showCopyButton:!0,valueComponent:Pr,recursionOpts:{maxDepth:12,mapChildren:lr,shouldExpandNode:Xr}}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Doc diff",o=J(),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),G(n,"class","title-container svelte-pd5yjj"),G(e,"class","entry-row svelte-pd5yjj")},m:function(t,u){D(t,e,u),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),kt(a,e,null),c=!0},p:function(t,e){var n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);var r={};1&e&&(r.data=t[0].contentDiff),a.$set(r)},i:function(t){c||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),c=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),c=!1},d:function(t){t&&B(e),_t(i),_t(a)}}}function Fr(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Lr(t){var e,n,r,o,i,s,a,c;return i=new Zn({props:{class:"hidden",$$slots:{default:[Ur]},$$scope:{ctx:t}}}),a=new Ln({props:{class:"tree-view",data:t[0].selectionDiff,valueComponent:Pr,recursionOpts:{mapChildren:ur,shouldExpandNode:to}}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Selection diff",o=J(),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),G(n,"class","title-container svelte-pd5yjj"),G(e,"class","entry-row svelte-pd5yjj")},m:function(t,u){D(t,e,u),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),kt(a,e,null),c=!0},p:function(t,e){var n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);var r={};1&e&&(r.data=t[0].selectionDiff),a.$set(r)},i:function(t){c||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),c=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),c=!1},d:function(t){t&&B(e),_t(i),_t(a)}}}function Ur(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Jr(t){var e,n,r,o,i,s,a,c,u,l=t[0].selectionHtml+"";return i=new Zn({props:{class:"hidden",$$slots:{default:[Vr]},$$scope:{ctx:t}}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Selection content",o=J(),$t(i.$$.fragment),s=J(),a=F("pre"),c=F("code"),G(n,"class","title-container svelte-pd5yjj"),G(a,"class","selection-html svelte-pd5yjj"),G(e,"class","entry-row svelte-pd5yjj")},m:function(t,f){D(t,e,f),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),I(e,a),I(a,c),c.innerHTML=l,u=!0},p:function(t,e){var n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),(!u||1&e)&&l!==(l=t[0].selectionHtml+"")&&(c.innerHTML=l)},i:function(t){u||(xt(i.$$.fragment,t),u=!0)},o:function(t){wt(i.$$.fragment,t),u=!1},d:function(t){t&&B(e),_t(i)}}}function Vr(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Kr(t){var e,n,r,o;return(e=new Zn({props:{$$slots:{default:[Gr]},$$scope:{ctx:t}}})).$on("click",t[8]),(r=new Zn({props:{$$slots:{default:[Hr]},$$scope:{ctx:t}}})).$on("click",t[6]),{c:function(){$t(e.$$.fragment),n=J(),$t(r.$$.fragment)},m:function(t,i){kt(e,t,i),D(t,n,i),kt(r,t,i),o=!0},p:function(t,n){var o={};2052&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);var i={};2048&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i:function(t){o||(xt(e.$$.fragment,t),xt(r.$$.fragment,t),o=!0)},o:function(t){wt(e.$$.fragment,t),wt(r.$$.fragment,t),o=!1},d:function(t){_t(e,t),t&&B(n),_t(r,t)}}}function Gr(t){var e,n=t[2]?"collapse":"expand";return{c:function(){e=U(n)},m:function(t,n){D(t,e,n)},p:function(t,r){4&r&&n!==(n=t[2]?"collapse":"expand")&&Q(e,n)},d:function(t){t&&B(e)}}}function Hr(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Wr(t){var e,n=t[1]?"hide":"show";return{c:function(){e=U(n)},m:function(t,n){D(t,e,n)},p:function(t,r){2&r&&n!==(n=t[1]?"hide":"show")&&Q(e,n)},d:function(t){t&&B(e)}}}function Yr(t){var e,n;return e=new Ln({props:{class:"tree-view",data:t[0].tr,showLogButton:!0,showCopyButton:!0,recursionOpts:t[3]}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r={};1&n&&(r.data=t[0].tr),8&n&&(r.recursionOpts=t[3]),e.$set(r)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function Qr(t){var e,n,r,o,i=[Br,Dr],s=[];function a(t,e){return t[0]?0:1}return n=a(t),r=s[n]=i[n](t),{c:function(){e=F("div"),r.c(),G(e,"slot","right"),G(e,"class","right-panel")},m:function(t,r){D(t,e,r),s[n].m(e,null),o=!0},p:function(t,o){var c=n;(n=a(t))===c?s[n].p(t,o):(yt(),wt(s[c],1,1,(function(){s[c]=null})),bt(),(r=s[n])?r.p(t,o):(r=s[n]=i[n](t)).c(),xt(r,1),r.m(e,null))},i:function(t){o||(xt(r),o=!0)},o:function(t){wt(r),o=!1},d:function(t){t&&B(e),s[n].d()}}}function Zr(t){var e,n;return e=new Wn({props:{$$slots:{right:[Qr],left:[Ir]},$$scope:{ctx:t}}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r=v(n,1)[0],o={};2079&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}Mt(".left-panel.svelte-pd5yjj.svelte-pd5yjj{flex-grow:0;padding:0;min-width:190px;width:190px}.title-container.svelte-pd5yjj.svelte-pd5yjj{align-items:center;display:flex;justify-content:space-between}.entry-row.svelte-pd5yjj+.entry-row.svelte-pd5yjj{margin-top:1em}.selection-html.svelte-pd5yjj.svelte-pd5yjj{font-weight:100;margin:0.5em 0 0 0;padding:0}.equal-diff.svelte-pd5yjj.svelte-pd5yjj{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var Xr=function(){return!0},to=function(){return!0};function eo(t,e,n){var r,o,i;C(t,pn,(function(t){return n(9,o=t)})),C(t,vn,(function(t){return n(10,i=t)}));var s=void 0,a=!1,c=!1,u={maxDepth:12,stopCircularRecursion:!0,omitKeys:["schema"],shouldExpandNode:function(){return c}};return gn.subscribe((function(t){t&&n(0,s=t)})),t.$$.update=function(){1536&t.$$.dirty&&n(4,r=i.map((function(t){return{isGroup:t.isGroup,topEntry:o.get(t.topEntryId),entries:t.entryIds.map((function(t){return o.get(t)})),expanded:t.expanded}})))},[s,a,c,u,r,function(){n(1,a=!a)},function(){console.info("%c [prosemirror-dev-toolkit]: Property added to window._tr","color: #b8e248"),console.log(null==s?void 0:s.tr),window._tr=null==s?void 0:s.tr},function(t,e,i){n(0,s=o.get(t));var a=r[e];a.isGroup&&a.entries.length>1&&i&&vn.update((function(t){return t.map((function(t,n){return n!==e?t:Object.assign(Object.assign({},t),{expanded:!t.expanded})}))}))},function(){n(2,c=!c),n(3,u=Object.assign(Object.assign({},u),{shouldExpandNode:function(){return c}}))},o,i]}var no=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,eo,Zr,j,{}),r}return n}();function ro(t,e,n){var r=t.slice();return r[4]=e[n],r}function oo(t){var e,n,r,o,i,s,a=t[4].value+"";function c(){return t[3](t[4])}return{c:function(){e=F("li"),n=F("button"),r=U(a),o=J(),G(n,"class","svelte-tkq7ts"),Z(n,"selected",t[1]===t[4].key),G(e,"class","svelte-tkq7ts")},m:function(t,a){D(t,e,a),I(e,n),I(n,r),I(e,o),i||(s=K(n,"click",c),i=!0)},p:function(e,o){t=e,1&o&&a!==(a=t[4].value+"")&&Q(r,a),3&o&&Z(n,"selected",t[1]===t[4].key)},d:function(t){t&&B(e),i=!1,s()}}}function io(t){for(var e,n=t[0],r=[],o=0;o<n.length;o+=1)r[o]=oo(ro(t,n,o));return{c:function(){e=F("ul");for(var t=0;t<r.length;t+=1)r[t].c();G(e,"class","svelte-tkq7ts")},m:function(t,n){D(t,e,n);for(var o=0;o<r.length;o+=1)r[o].m(e,null)},p:function(t,o){var i=v(o,1)[0];if(7&i){var s;for(n=t[0],s=0;s<n.length;s+=1){var a=ro(t,n,s);r[s]?r[s].p(a,i):(r[s]=oo(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:b,o:b,d:function(t){t&&B(e),z(r,t)}}}function so(t,e,n){var r=e.listItems,o=void 0===r?[]:r,i=e.selectedKey,s=e.onSelect;return t.$$set=function(t){"listItems"in t&&n(0,o=t.listItems),"selectedKey"in t&&n(1,i=t.selectedKey),"onSelect"in t&&n(2,s=t.onSelect)},[o,i,s,function(t){return s(t)}]}Mt("ul.svelte-tkq7ts.svelte-tkq7ts{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-tkq7ts+li.svelte-tkq7ts{border-top:1px solid var(--color-purple)}button.svelte-tkq7ts.svelte-tkq7ts{background:transparent;border:0;color:var(--color-gray-light);cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-small);font-weight:100;height:100%;padding:6px 18px;text-transform:uppercase;width:100%}button.svelte-tkq7ts.svelte-tkq7ts:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-tkq7ts.svelte-tkq7ts{background:rgba(255, 162, 177, 0.4)}");var ao=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,so,io,j,{listItems:0,selectedKey:1,onSelect:2}),r}return n}();function co(t){var e,n,r,o;return r=new ao({props:{listItems:t[4],selectedKey:null===(e=t[0])||void 0===e?void 0:e.key,onSelect:t[5]}}),{c:function(){n=F("div"),$t(r.$$.fragment),G(n,"slot","left"),G(n,"class","left-panel svelte-1lr8k7m")},m:function(t,e){D(t,n,e),kt(r,n,null),o=!0},p:function(t,e){var n,o={};16&e&&(o.listItems=t[4]),1&e&&(o.selectedKey=null===(n=t[0])||void 0===n?void 0:n.key),r.$set(o)},i:function(t){o||(xt(r.$$.fragment,t),o=!0)},o:function(t){wt(r.$$.fragment,t),o=!1},d:function(t){t&&B(n),_t(r)}}}function uo(t){var e,n,r,o,i,s,a,c;return(i=new Zn({props:{$$slots:{default:[lo]},$$scope:{ctx:t}}})).$on("click",t[6]),(a=new Zn({props:{$$slots:{default:[fo]},$$scope:{ctx:t}}})).$on("click",t[7]),{c:function(){e=F("div"),(n=F("h2")).textContent="Plugin state",r=J(),o=F("div"),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),G(e,"class","top-row svelte-1lr8k7m")},m:function(t,u){D(t,e,u),I(e,n),I(e,r),I(e,o),kt(i,o,null),I(o,s),kt(a,o,null),c=!0},p:function(t,e){var n={};2050&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);var r={};2048&e&&(r.$$scope={dirty:e,ctx:t}),a.$set(r)},i:function(t){c||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),c=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),c=!1},d:function(t){t&&B(e),_t(i),_t(a)}}}function lo(t){var e,n=t[1]?"collapse":"expand";return{c:function(){e=U(n)},m:function(t,n){D(t,e,n)},p:function(t,r){2&r&&n!==(n=t[1]?"collapse":"expand")&&Q(e,n)},d:function(t){t&&B(e)}}}function fo(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function ho(t){var e;return{c:function(){(e=F("div")).textContent="Plugin has no state",G(e,"class","empty-state svelte-1lr8k7m")},m:function(t,n){D(t,e,n)},p:b,i:b,o:b,d:function(t){t&&B(e)}}}function po(t){var e,n;return e=new Ln({props:{data:t[3],showLogButton:!0,showCopyButton:!0,recursionOpts:t[2]}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r={};8&n&&(r.data=t[3]),4&n&&(r.recursionOpts=t[2]),e.$set(r)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function vo(t){var e,n,r,o,i,s=t[3]&&uo(t),a=[po,ho],c=[];function u(t,e){return t[3]?0:1}return r=u(t),o=c[r]=a[r](t),{c:function(){e=F("div"),s&&s.c(),n=J(),o.c(),G(e,"slot","right"),G(e,"class","right-panel svelte-1lr8k7m")},m:function(t,o){D(t,e,o),s&&s.m(e,null),I(e,n),c[r].m(e,null),i=!0},p:function(t,i){t[3]?s?(s.p(t,i),8&i&&xt(s,1)):((s=uo(t)).c(),xt(s,1),s.m(e,n)):s&&(yt(),wt(s,1,1,(function(){s=null})),bt());var l=r;(r=u(t))===l?c[r].p(t,i):(yt(),wt(c[l],1,1,(function(){c[l]=null})),bt(),(o=c[r])?o.p(t,i):(o=c[r]=a[r](t)).c(),xt(o,1),o.m(e,null))},i:function(t){i||(xt(s),xt(o),i=!0)},o:function(t){wt(s),wt(o),i=!1},d:function(t){t&&B(e),s&&s.d(),c[r].d()}}}function go(t){var e,n;return e=new Wn({props:{$$slots:{right:[vo],left:[co]},$$scope:{ctx:t}}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r=v(n,1)[0],o={};2079&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function mo(t,e,n){var r,o,i=Et("editor-view").view,s=!1,a={maxDepth:10,stopCircularRecursion:!0,shouldExpandNode:function(){return s}},c=i.state,u=c.plugins,l=u[0];return gn.subscribe((function(t){t&&(n(8,c=t.state),n(9,u=c.plugins),n(0,l=u.find((function(t){return t.key===(null==l?void 0:l.key)}))))})),t.$$.update=function(){257&t.$$.dirty&&n(3,r=null==l?void 0:l.getState(c)),768&t.$$.dirty&&n(4,o=u.map((function(t){return{key:t.key,value:t.key.toUpperCase(),empty:!t.getState(c)}})))},[l,s,a,r,o,function(t){n(0,l=u.find((function(e){return e.key===t.key})))},function(){n(1,s=!s),n(2,a=Object.assign(Object.assign({},a),{shouldExpandNode:function(){return s}}))},function(){window._plugin=[l,r],console.info("%c [prosemirror-dev-toolkit]: Property added to window._plugin","color: #b8e248"),console.log(l),console.log(r)},c,u]}Mt(".top-row.svelte-1lr8k7m{align-items:center;display:flex;justify-content:space-between;margin-bottom:0.5em}.left-panel.svelte-1lr8k7m{flex-grow:0;overflow:scroll;padding:0;min-width:190px;width:190px}.right-panel.svelte-1lr8k7m{border-left:1px solid rgba(255, 162, 177, 0.2)}.empty-state.svelte-1lr8k7m{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var yo=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,mo,go,j,{}),r}return n}();function bo(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function xo(t){var e,n,r,o,i,s,a,c;return i=new Zn({props:{class:"hidden",$$slots:{default:[bo]},$$scope:{ctx:t}}}),a=new Ln({props:{class:"tree-view",data:t[0],showLogButton:!0,showCopyButton:!0,recursionOpts:{stopCircularRecursion:!0}}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Nodes",o=J(),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),G(n,"class","top-row svelte-gtpvw8"),G(e,"slot","left"),G(e,"class","left-panel svelte-gtpvw8")},m:function(t,u){D(t,e,u),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),kt(a,e,null),c=!0},p:function(t,e){var n={};8&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i:function(t){c||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),c=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),c=!1},d:function(t){t&&B(e),_t(i),_t(a)}}}function wo(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function $o(t){var e,n,r,o,i,s,a,c;return i=new Zn({props:{class:"hidden",$$slots:{default:[wo]},$$scope:{ctx:t}}}),a=new Ln({props:{class:"tree-view",data:t[1],showLogButton:!0,showCopyButton:!0,recursionOpts:{stopCircularRecursion:!0}}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Marks",o=J(),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),G(n,"class","top-row svelte-gtpvw8"),G(e,"slot","right"),G(e,"class","right-panel svelte-gtpvw8")},m:function(t,u){D(t,e,u),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),kt(a,e,null),c=!0},p:function(t,e){var n={};8&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i:function(t){c||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),c=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),c=!1},d:function(t){t&&B(e),_t(i),_t(a)}}}function ko(t){var e,n;return e=new Wn({props:{$$slots:{right:[$o],left:[xo]},$$scope:{ctx:t}}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r=v(n,1)[0],o={};8&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function _o(t){var e=Et("editor-view").view;return[e.state.schema.nodes,e.state.schema.marks]}Mt(".top-row.svelte-gtpvw8{align-items:center;display:flex;justify-content:space-between}.left-panel.svelte-gtpvw8{overflow:scroll;padding:1em}.right-panel.svelte-gtpvw8{border-left:1px solid rgba(255, 162, 177, 0.2);overflow:scroll;padding:1em}");var jo=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,_o,ko,j,{}),r}return n}();function Oo(t,e,n){var r=t.slice();return r[14]=e[n],r[16]=n,r}function So(t){var e,n;return e=new Mo({props:{node:t[14],startPos:t[5][t[16]]}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.node=t[14]),32&n&&(r.startPos=t[5][t[16]]),e.$set(r)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function Co(t){for(var e,n,r,o,i,s,a,c,u,l,f,h,d,p,g,m,y,b=t[2].content,x=[],w=0;w<b.length;w+=1)x[w]=So(Oo(t,b,w));var $=function(t){return wt(x[t],1,1,(function(){x[t]=null}))};return{c:function(){e=F("li"),n=F("div"),r=F("div"),o=U(t[0]),i=J(),s=F("button"),a=U(t[6]),c=J(),u=F("div"),l=U(t[4]),h=J(),d=F("ul");for(var v=0;v<x.length;v+=1)x[v].c();G(r,"class","number-box svelte-wsqcg0"),G(s,"aria-label","Show node info button"),G(s,"class","svelte-wsqcg0"),Z(s,"selected",!1),G(u,"class","number-box svelte-wsqcg0"),G(n,"class","doc-node-body svelte-wsqcg0"),G(n,"style",f="background: ".concat(t[7])),G(d,"class","svelte-wsqcg0"),Z(d,"inline-children",t[3]),G(e,"class",p=P("".concat(t[9].class||""," doc-node"))+" svelte-wsqcg0"),Z(e,"root",t[1])},m:function(f,p){D(f,e,p),I(e,n),I(n,r),I(r,o),I(n,i),I(n,s),I(s,a),I(n,c),I(n,u),I(u,l),I(e,h),I(e,d);for(var v=0;v<x.length;v+=1)x[v].m(d,null);g=!0,m||(y=K(s,"click",t[8]),m=!0)},p:function(t,r){var i=v(r,1)[0];if((!g||1&i)&&Q(o,t[0]),(!g||64&i)&&Q(a,t[6]),(!g||16&i)&&Q(l,t[4]),(!g||128&i&&f!==(f="background: ".concat(t[7])))&&G(n,"style",f),36&i){var s;for(b=t[2].content,s=0;s<b.length;s+=1){var c=Oo(t,b,s);x[s]?(x[s].p(c,i),xt(x[s],1)):(x[s]=So(c),x[s].c(),xt(x[s],1),x[s].m(d,null))}for(yt(),s=b.length;s<x.length;s+=1)$(s);bt()}8&i&&Z(d,"inline-children",t[3]),(!g||512&i&&p!==(p=P("".concat(t[9].class||""," doc-node"))+" svelte-wsqcg0"))&&G(e,"class",p),514&i&&Z(e,"root",t[1])},i:function(t){if(!g){for(var e=0;e<b.length;e+=1)xt(x[e]);g=!0}},o:function(t){x=x.filter(Boolean);for(var e=0;e<x.length;e+=1)wt(x[e]);g=!1},d:function(t){t&&B(e),z(x,t),m=!1,y()}}}function Eo(t,e,n){var r,o,i,s,a,c,u=Et("doc-view");u.selected;var l=u.colors,f=u.handleNodeClick,h=e,d=h.node,p=h.startPos,v=h.isRoot,m=void 0!==v&&v;return t.$$set=function(t){n(9,e=x(x({},e),N(t))),"node"in t&&n(10,d=t.node),"startPos"in t&&n(0,p=t.startPos),"isRoot"in t&&n(1,m=t.isRoot)},t.$$.update=function(){1024&t.$$.dirty&&n(2,r=d.content),1024&t.$$.dirty&&n(7,o=l[d.type.name]),1024&t.$$.dirty&&n(6,i=d.isText&&d.marks.length>0?"".concat(d.type.name," - [").concat(d.marks.map((function(t){return t.type.name})).join(", "),"]"):d.type.name),1027&t.$$.dirty&&n(5,s=Array(d.childCount).fill(void 0).reduce((function(t,e,n){if(0===n)return[m?0:p+1];var r=t[n-1],o=d.child(n-1);return[].concat(g(t),[r+o.nodeSize])}),[])),1025&t.$$.dirty&&n(4,a=p+d.nodeSize),4&t.$$.dirty&&n(3,c=r.content.every((function(t){return t.isInline})))},e=N(e),[p,m,r,c,a,s,i,o,function(){f(d)},e,d]}Mt(".hidden.svelte-wsqcg0{display:none;visibility:hidden}.doc-node.svelte-wsqcg0{border-left:1px solid var(--color-blue-bg);border-right:1px solid var(--color-blue-bg);display:flex;flex-direction:column;padding:0 12px}.doc-node.root.svelte-wsqcg0{border:0;padding:0}.doc-node-body.svelte-wsqcg0{background:var(--color-blue-bg);color:var(--color-black);display:flex;font-size:13px;margin-top:3px}.number-box.svelte-wsqcg0{padding:3px 6px;background:rgba(255, 255, 255, 0.3)}button.svelte-wsqcg0{background:transparent;border:0;color:var(--color-black);cursor:pointer;display:flex;height:100%;padding:3px 9px;white-space:pre;width:100%}button.svelte-wsqcg0:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-wsqcg0{background:rgba(255, 162, 177, 0.4)}ul.svelte-wsqcg0{list-style:none;margin:0;padding:0}.inline-children.svelte-wsqcg0{border-left:1px solid var(--color-purple);border-right:1px solid var(--color-purple);display:flex;flex-wrap:wrap;padding:0 12px}.inline-children.svelte-wsqcg0>.doc-node{flex-grow:1;padding:0}");var Mo=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Eo,Co,j,{node:10,startPos:0,isRoot:1}),r}return n}(),To=["#EA7C7F","#67B0C6","#94BB7F","#CA9EDB","#DCDC5D","#B9CC7C","#DD97D8","#FFB761","#4D8FD1","#F36E98","#E45F44","#A6A4AE","#FCC047","#FFC129","#D3929C","#4CBCD4","#8D7BC0"];function Ro(t){return Object.keys(t.nodes).reduce((function(t,e,n){var r=n>=To.length?function(t,e){var n=t/e;return Math.round(e*(n-Math.floor(n)))}(n,To.length):n;return t[e]=To[r],t}),{})}function Ao(t){var e,n,r;return n=new Mo({props:{class:t[1].class,node:t[0],startPos:0,depth:0,isRoot:!0}}),{c:function(){e=F("ul"),$t(n.$$.fragment),G(e,"class","svelte-is7zuw")},m:function(t,o){D(t,e,o),kt(n,e,null),r=!0},p:function(t,e){var r=v(e,1)[0],o={};2&r&&(o.class=t[1].class),1&r&&(o.node=t[0]),n.$set(o)},i:function(t){r||(xt(n.$$.fragment,t),r=!0)},o:function(t){wt(n.$$.fragment,t),r=!1},d:function(t){t&&B(e),_t(n)}}}function No(t,e,n){var r=e,o=r.doc,i=r.schema,s=r.selected,a=void 0===s?{type:"",start:0,end:0}:s,c=r.handleNodeSelect;return Ct("doc-view",{selected:a,colors:Ro(i),handleNodeClick:c}),t.$$set=function(t){n(1,e=x(x({},e),N(t))),"doc"in t&&n(0,o=t.doc),"schema"in t&&n(2,i=t.schema),"selected"in t&&n(3,a=t.selected),"handleNodeSelect"in t&&n(4,c=t.handleNodeSelect)},e=N(e),[o,e,i,a,c]}Mt("ul.svelte-is7zuw{list-style:none;margin:0;padding:0}");var qo=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,No,Ao,j,{doc:0,schema:2,selected:3,handleNodeSelect:4}),r}return n}();function Po(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Io(t){var e,n,r,o,i,s,a,c;return i=new Zn({props:{class:"hidden",$$slots:{default:[Po]},$$scope:{ctx:t}}}),a=new qo({props:{class:"m-top",doc:t[0],schema:t[2],handleNodeSelect:t[3]}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Current doc",o=J(),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),G(n,"class","top-row svelte-1kbpoug"),G(e,"slot","left"),G(e,"class","left-panel")},m:function(t,u){D(t,e,u),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),kt(a,e,null),c=!0},p:function(t,e){var n={};256&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);var r={};1&e&&(r.doc=t[0]),a.$set(r)},i:function(t){c||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),c=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),c=!1},d:function(t){t&&B(e),_t(i),_t(a)}}}function Do(t){var e;return{c:function(){e=U("log")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Bo(t){var e,n,r,o,i,s,a,c;return(i=new Zn({props:{$$slots:{default:[Do]},$$scope:{ctx:t}}})).$on("click",t[4]),a=new Ln({props:{class:"m-top",data:t[1]}}),{c:function(){e=F("div"),n=F("div"),(r=F("h2")).textContent="Node info",o=J(),$t(i.$$.fragment),s=J(),$t(a.$$.fragment),G(n,"class","top-row svelte-1kbpoug"),G(e,"slot","right"),G(e,"class","right-panel svelte-1kbpoug")},m:function(t,u){D(t,e,u),I(e,n),I(n,r),I(n,o),kt(i,n,null),I(e,s),kt(a,e,null),c=!0},p:function(t,e){var n={};256&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);var r={};2&e&&(r.data=t[1]),a.$set(r)},i:function(t){c||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),c=!0)},o:function(t){wt(i.$$.fragment,t),wt(a.$$.fragment,t),c=!1},d:function(t){t&&B(e),_t(i),_t(a)}}}function zo(t){var e,n;return e=new Wn({props:{$$slots:{right:[Bo],left:[Io]},$$scope:{ctx:t}}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r=v(n,1)[0],o={};259&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function Fo(t,e,n){var r,o,i=Et("editor-view").view,s=i.state.doc,a=i.state.doc,c=i.state.schema;return gn.subscribe((function(t){t&&(clearTimeout(o),o=setTimeout((function(){n(0,s=t.state.doc)}),100))})),t.$$.update=function(){32&t.$$.dirty&&n(1,r=a.toJSON())},[s,r,c,function(t){n(5,a=t)},function(){console.log(a),window._node=a,console.info("%c [prosemirror-dev-toolkit]: Property added to window._node","color: #b8e248")},a]}Mt(".top-row.svelte-1kbpoug{align-items:center;display:flex;justify-content:space-between}.right-panel.svelte-1kbpoug{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:220px;width:220px}.split-view .m-top{margin-top:0.5em}");var Lo=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Fo,zo,j,{}),r}return n}();function Uo(t,e,n){var r=t.slice();return r[23]=e[n],r}function Jo(t){var e,n,r,o,i=t[23].name+"";function s(){return t[16](t[23])}return{c:function(){e=F("button"),n=U(i),G(e,"class","unstyled-btn svelte-jq5ccu"),G(e,"aria-label","Edit snapshot name button")},m:function(t,i){D(t,e,i),I(e,n),r||(o=K(e,"dblclick",s),r=!0)},p:function(e,r){t=e,1&r&&i!==(i=t[23].name+"")&&Q(n,i)},d:function(t){t&&B(e),r=!1,o()}}}function Vo(t){var e,n,r,o;return{c:function(){(e=F("input")).value=n=t[2].name,G(e,"class","svelte-jq5ccu")},m:function(n,i){D(n,e,i),r||(o=[K(e,"input",t[5]),K(e,"keypress",t[6])],r=!0)},p:function(t,r){4&r&&n!==(n=t[2].name)&&e.value!==n&&(e.value=n)},d:function(t){t&&B(e),r=!1,k(o)}}}function Ko(t){var e;return{c:function(){e=U("Show")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Go(t){var e;return{c:function(){e=U("Hide")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Ho(t){var e;return{c:function(){e=U("Delete")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Wo(t){var e;return{c:function(){e=U("Confirm Delete")},m:function(t,n){D(t,e,n)},d:function(t){t&&B(e)}}}function Yo(t){var e,n,r,o,i,s,a,c,u,l,f,h;function d(t,e){return t[2]&&t[2].timestamp===t[23].timestamp?Vo:Jo}var p=d(t),v=p(t);function g(t,e){var n;return(null===(n=t[1])||void 0===n?void 0:n.timestamp)===t[23].timestamp?Go:Ko}var m=g(t),y=m(t);function b(){return t[17](t[23])}function x(){return t[18](t[23])}function w(){return t[19](t[23])}function $(t,e){var n;return(null===(n=t[3])||void 0===n?void 0:n.timestamp)===t[23].timestamp?Wo:Ho}var _=$(t),j=_(t);function O(){return t[20](t[23])}return{c:function(){e=F("li"),v.c(),n=J(),r=F("button"),y.c(),o=J(),(i=F("button")).textContent="Restore",s=J(),(a=F("button")).textContent="Export",c=J(),u=F("button"),j.c(),l=J(),G(r,"class","snapshot-btn ml-2 svelte-jq5ccu"),G(i,"class","snapshot-btn svelte-jq5ccu"),G(a,"class","snapshot-btn svelte-jq5ccu"),G(u,"class","snapshot-btn svelte-jq5ccu"),G(e,"class","svelte-jq5ccu")},m:function(t,d){D(t,e,d),v.m(e,null),I(e,n),I(e,r),y.m(r,null),I(e,o),I(e,i),I(e,s),I(e,a),I(e,c),I(e,u),j.m(u,null),I(e,l),f||(h=[K(r,"click",b),K(i,"click",x),K(a,"click",w),K(u,"click",O)],f=!0)},p:function(o,i){p===(p=d(t=o))&&v?v.p(t,i):(v.d(1),(v=p(t))&&(v.c(),v.m(e,n))),m!==(m=g(t))&&(y.d(1),(y=m(t))&&(y.c(),y.m(r,null))),_!==(_=$(t))&&(j.d(1),(j=_(t))&&(j.c(),j.m(u,null)))},d:function(t){t&&B(e),v.d(),y.d(),j.d(),f=!1,k(h)}}}function Qo(t){for(var e,n=t[0],r=[],o=0;o<n.length;o+=1)r[o]=Yo(Uo(t,n,o));return{c:function(){e=F("ul");for(var t=0;t<r.length;t+=1)r[t].c();G(e,"class","svelte-jq5ccu")},m:function(t,n){D(t,e,n);for(var o=0;o<r.length;o+=1)r[o].m(e,null)},p:function(t,o){var i=v(o,1)[0];if(2047&i){var s;for(n=t[0],s=0;s<n.length;s+=1){var a=Uo(t,n,s);r[s]?r[s].p(a,i):(r[s]=Yo(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:b,o:b,d:function(t){t&&B(e),z(r,t)}}}function Zo(t,e,n){var r,o,i,s=e.snapshots,a=void 0===s?[]:s,c=e.selectedSnapshot,u=void 0===c?void 0:c,l=e.onUpdate,f=e.onView,h=e.onRestore,d=e.onExport,p=e.onDelete;function v(t){n(2,r=t),n(3,o=void 0)}function g(t){(null==u?void 0:u.timestamp)===t.timestamp?f():f(t),n(3,o=void 0)}function m(t){h(t),n(3,o=void 0)}function y(t){d(t),n(3,o=void 0)}function b(t){o&&o.timestamp===t.timestamp?(p(t),n(3,o=void 0)):n(3,o=t)}return t.$$set=function(t){"snapshots"in t&&n(0,a=t.snapshots),"selectedSnapshot"in t&&n(1,u=t.selectedSnapshot),"onUpdate"in t&&n(11,l=t.onUpdate),"onView"in t&&n(12,f=t.onView),"onRestore"in t&&n(13,h=t.onRestore),"onExport"in t&&n(14,d=t.onExport),"onDelete"in t&&n(15,p=t.onDelete)},[a,u,r,o,v,function(t){r&&(n(2,r.name=t.target.value,r),clearTimeout(i),i=setTimeout((function(){l(r)}),150))},function(t){"Enter"===t.key&&r&&(l(r),clearTimeout(i),n(2,r=void 0),n(3,o=void 0))},g,m,y,b,l,f,h,d,p,function(t){return v(t)},function(t){return g(t)},function(t){return m(t)},function(t){return y(t)},function(t){return b(t)}]}Mt("ul.svelte-jq5ccu.svelte-jq5ccu{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-jq5ccu+li.svelte-jq5ccu{border-top:1px solid var(--color-purple)}li.svelte-jq5ccu.svelte-jq5ccu{align-items:center;display:flex;font-family:monospace;padding:6px 18px}input.svelte-jq5ccu.svelte-jq5ccu{background:transparent;border:0;color:var(--color-white);height:100%;margin:0;padding:2px;width:100%}.unstyled-btn.svelte-jq5ccu.svelte-jq5ccu{background:transparent;border:0;color:var(--color-white);cursor:pointer;display:block;font-family:monospace;margin:0;padding:0;text-align:start;width:100%}.snapshot-btn.svelte-jq5ccu.svelte-jq5ccu{background:transparent;border:0;border-radius:3px;color:var(--color-gray-light);cursor:pointer;display:flex;font-size:11px;padding:6px 18px;text-transform:uppercase}.snapshot-btn.svelte-jq5ccu.svelte-jq5ccu:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}.ml-2.svelte-jq5ccu.svelte-jq5ccu{margin-left:1rem}");var Xo=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,Zo,Qo,j,{snapshots:0,selectedSnapshot:1,onUpdate:11,onView:12,onRestore:13,onExport:14,onDelete:15}),r}return n}();function ti(t){var e,n;return e=new Xo({props:{snapshots:t[0],selectedSnapshot:t[1],onUpdate:Vt,onView:t[4],onRestore:t[3],onExport:Kt,onDelete:Gt}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r={};1&n&&(r.snapshots=t[0]),2&n&&(r.selectedSnapshot=t[1]),e.$set(r)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function ei(t){var e;return{c:function(){(e=F("div")).textContent='Save snapshots by clicking "Save snapshot" button.',G(e,"class","no-snapshots svelte-t3nvwj")},m:function(t,n){D(t,e,n)},p:b,i:b,o:b,d:function(t){t&&B(e)}}}function ni(t){var e,n,r,o,i=[ei,ti],s=[];function a(t,e){return 0===t[0].length?0:1}return n=a(t),r=s[n]=i[n](t),{c:function(){e=F("div"),r.c(),G(e,"slot","right"),G(e,"class","right-panel svelte-t3nvwj")},m:function(t,r){D(t,e,r),s[n].m(e,null),o=!0},p:function(t,o){var c=n;(n=a(t))===c?s[n].p(t,o):(yt(),wt(s[c],1,1,(function(){s[c]=null})),bt(),(r=s[n])?r.p(t,o):(r=s[n]=i[n](t)).c(),xt(r,1),r.m(e,null))},i:function(t){o||(xt(r),o=!0)},o:function(t){wt(r),o=!1},d:function(t){t&&B(e),s[n].d()}}}function ri(t){var e,n;return e=new Wn({props:{$$slots:{right:[ni]},$$scope:{ctx:t}}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r=v(n,1)[0],o={};35&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function oi(t,e,n){var r,o;C(t,Bt,(function(t){return n(0,r=t)})),C(t,zt,(function(t){return n(1,o=t)}));var i=Et("editor-view").view;return[r,o,i,function(t){!function(t,e){Jt(t,e.doc),Ft.set(void 0),zt.set(void 0)}(i,t),yn()},function(t){return function(t,e){if(e)S(Ft)||Ft.set(t.state),Jt(t,e.doc);else{var n=S(Ft);n?t.updateState(n):console.error("No previous state to restore!"),Ft.set(void 0)}zt.set(e)}(i,t)}]}Mt(".right-panel.svelte-t3nvwj{padding:0}.no-snapshots.svelte-t3nvwj{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var ii=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,oi,ri,j,{}),r}return n}();function si(t){var e;return{c:function(){(e=F("p")).textContent="nuting here"},m:function(t,n){D(t,e,n)},i:b,o:b,d:function(t){t&&B(e)}}}function ai(t){var e,n;return e=new ii({}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function ci(t){var e,n;return e=new Lo({}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function ui(t){var e,n;return e=new jo({}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function li(t){var e,n;return e=new yo({}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function fi(t){var e,n;return e=new no({}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function hi(t){var e,n;return e=new cr({}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function di(t){var e,n,r,o,i,s,a,c,u,l,f,h,d,p,g,m,y,b,x,w,$,j;g=new Yt({props:{onClickTab:t[9],active:t[1]}});var O=[hi,fi,li,ui,ci,ai,si],S=[];function C(t,e){return"state"===t[1]?0:"history"===t[1]?1:"plugins"===t[1]?2:"schema"===t[1]?3:"structure"===t[1]?4:"snapshots"===t[1]?5:6}return y=C(t),b=S[y]=O[y](t),{c:function(){e=F("div"),n=F("div"),r=F("div"),o=J(),i=F("div"),s=F("div"),(a=F("button")).textContent="Save snapshot",c=J(),(u=F("button")).textContent="Import snapshot",l=J(),(f=F("button")).textContent="X",h=J(),d=F("input"),p=J(),$t(g.$$.fragment),m=J(),b.c(),G(r,"class","resizing-div svelte-qb8f9s"),G(a,"class","snap-save-btn svelte-qb8f9s"),G(u,"class","snap-import-btn svelte-qb8f9s"),G(f,"class","close-btn svelte-qb8f9s"),G(f,"aria-label","Close dev-toolkit button"),d.style.setProperty("display","none",""),G(d,"type","file"),G(d,"accept",".json"),d.multiple=!0,G(i,"class","container svelte-qb8f9s"),G(n,"class","floating-dock svelte-qb8f9s"),G(n,"style",x="top: ".concat(t[2],"%; height: ").concat(t[3],"%;")),G(e,"class","floating-dock-wrapper svelte-qb8f9s")},m:function(v,b){D(v,e,b),I(e,n),I(n,r),I(n,o),I(n,i),I(i,s),I(s,a),I(s,c),I(s,u),I(s,l),I(s,f),I(i,h),I(i,d),t[10](d),I(i,p),kt(g,i,null),I(i,m),S[y].m(i,null),w=!0,$||(j=[K(r,"mousedown",t[5]),K(a,"click",t[6]),K(u,"click",t[7]),K(f,"click",(function(){_(t[0])&&t[0].apply(this,arguments)})),K(d,"change",t[8])],$=!0)},p:function(e,r){var o=v(r,1)[0];t=e;var s={};2&o&&(s.active=t[1]),g.$set(s);var a=y;(y=C(t))!==a&&(yt(),wt(S[a],1,1,(function(){S[a]=null})),bt(),(b=S[y])||(b=S[y]=O[y](t)).c(),xt(b,1),b.m(i,null)),(!w||12&o&&x!==(x="top: ".concat(t[2],"%; height: ").concat(t[3],"%;")))&&G(n,"style",x)},i:function(t){w||(xt(g.$$.fragment,t),xt(b),w=!0)},o:function(t){wt(g.$$.fragment,t),wt(b),w=!1},d:function(n){n&&B(e),t[10](null),_t(g),S[y].d(),$=!1,k(j)}}}function pi(t,e,n){var o,i,s=e.onClose,a=Et("editor-view").view,c="state",u=50,l=50;function f(t){t.preventDefault(),n(2,u=100*t.clientY/window.innerHeight),n(3,l=100*(1-t.clientY/window.innerHeight))}function h(t){t.preventDefault(),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}return i=function(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)},tt().$$.on_destroy.push(i),t.$$set=function(t){"onClose"in t&&n(0,s=t.onClose)},[s,c,u,l,o,function(t){document.addEventListener("mousemove",f),document.addEventListener("mouseup",h)},function(){var t=(new Date).toLocaleString("sv"),e=prompt("Enter snapshot name",t);e&&function(t,e){var n={name:t,timestamp:Date.now(),doc:e};Bt.update((function(t){return[n].concat(Object(r.a)(t))}))}(e,a.state.doc.toJSON())},function(){o.click()},function(t){var e=t.target;Array.from(e.files||[]).forEach((function(t){var e=new FileReader;e.readAsText(t),e.onload=function(e){var n,o,i="string"==typeof(null===(n=e.target)||void 0===n?void 0:n.result)?null===(o=e.target)||void 0===o?void 0:o.result:"";try{var s=JSON.parse(i);if(!s||"object"!==y(s))throw Error("Imported snapshot was not a JSON object"+s);!function(t,e,n){var o=n.nodeFromJSON(e),i={name:t,timestamp:Date.now(),doc:o.toJSON()};Bt.update((function(t){return[i].concat(Object(r.a)(t))}))}(t.name.slice(0,t.name.lastIndexOf(".")),s,a.state.schema)}catch(t){console.error("Failed to import snapshot: "+t)}}}))},function(t){n(1,c=t)},function(t){st[t?"unshift":"push"]((function(){n(4,o=t)}))}]}Mt(".floating-dock-wrapper.svelte-qb8f9s{position:fixed;width:0px;height:0px;top:0px;left:0px;z-index:99999999}.floating-dock.svelte-qb8f9s{background-color:var(--color-blue-bg);position:fixed;z-index:1;box-shadow:rgba(34, 34, 34, 0.3) 0px 0px 4px 0px;left:0px;top:50%;width:100%;height:50%}.resizing-div.svelte-qb8f9s{position:absolute;z-index:2;opacity:0;top:-5px;height:10px;left:0px;width:100%;cursor:row-resize}.container.svelte-qb8f9s{height:100%}.snap-save-btn.svelte-qb8f9s{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:var(--color-white);cursor:pointer;font-size:12px;height:24px;line-height:25px;padding:0 6px;position:absolute;right:134px;top:-28px}.snap-save-btn.svelte-qb8f9s:hover{background:rgba(255, 162, 177, 0.8)}.snap-import-btn.svelte-qb8f9s{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:var(--color-white);cursor:pointer;font-size:12px;height:24px;line-height:25px;padding:0 6px;position:absolute;right:32px;top:-28px}.snap-import-btn.svelte-qb8f9s:hover{background:rgba(255, 162, 177, 0.8)}.close-btn.svelte-qb8f9s{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:var(--color-white);cursor:pointer;height:24px;position:absolute;right:4px;top:-28px;width:24px}.close-btn.svelte-qb8f9s:hover{background:rgba(255, 162, 177, 0.8)}");var vi=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,pi,di,j,{onClose:0}),r}return n}();function gi(t){var e,n;return(e=new At({props:{buttonPosition:t[1]}})).$on("click",t[2]),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:function(t,n){var r={};2&n&&(r.buttonPosition=t[1]),e.$set(r)},i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function mi(t){var e,n;return e=new vi({props:{onClose:t[3]}}),{c:function(){$t(e.$$.fragment)},m:function(t,r){kt(e,t,r),n=!0},p:b,i:function(t){n||(xt(e.$$.fragment,t),n=!0)},o:function(t){wt(e.$$.fragment,t),n=!1},d:function(t){_t(e,t)}}}function yi(t){var e,n,r,o,i=[mi,gi],s=[];function a(t,e){return t[0]?0:1}return n=a(t),r=s[n]=i[n](t),{c:function(){e=F("section"),r.c(),G(e,"class","svelte-hs9d0n")},m:function(t,r){D(t,e,r),s[n].m(e,null),o=!0},p:function(t,o){var c=v(o,1)[0],u=n;(n=a(t))===u?s[n].p(t,c):(yt(),wt(s[u],1,1,(function(){s[u]=null})),bt(),(r=s[n])?r.p(t,c):(r=s[n]=i[n](t)).c(),xt(r,1),r.m(e,null))},i:function(t){o||(xt(r),o=!0)},o:function(t){wt(r),o=!1},d:function(t){t&&B(e),s[n].d()}}}function bi(t,e,n){var r=e.view,o=e.devToolsExpanded,i=void 0!==o&&o,s=e.buttonPosition,a=void 0===s?"bottom-right":s;return Ct("editor-view",{view:r}),et((function(){var t=document&&document.querySelector("html");i&&t&&(t.style.marginBottom="341px")})),t.$$set=function(t){"view"in t&&n(4,r=t.view),"devToolsExpanded"in t&&n(0,i=t.devToolsExpanded),"buttonPosition"in t&&n(1,a=t.buttonPosition)},[i,a,function(){n(0,i=!0);var t=document&&document.querySelector("html");t&&(t.style.marginBottom="341px")},function(){n(0,i=!1);var t=document&&document.querySelector("html");t&&(t.style.marginBottom="")},r]}Mt(".svelte-hs9d0n{--font-sans:Helvetica Neue, Calibri Light, Roboto, sans-serif;--font-small:11px;--font-medium:13px;--font-large:16px;--height-tabs-menu:48px;--color-black:#222;--color-blue-bg:#363755;--color-blue-light:#85d9ef;--color-gray-light:#d3d3d9;--color-green:green;--color-green-light:#87cc86;--color-purple-dark:rgb(80, 68, 93);--color-purple:rgb(96, 76, 104);--color-purple-light:rgb(99, 99, 123);--color-red:#d66363;--color-red-gray:rgb(187, 145, 163);--color-red-light:rgb(255, 162, 177);--color-yellow:#eaea37;--color-white:#fff}:root{--tree-view-base00:#363755;--tree-view-base01:#604d49;--tree-view-base02:#6d5a55;--tree-view-base03:#d1929b;--tree-view-base04:#b79f8d;--tree-view-base05:#f9f8f2;--tree-view-base06:#f7f4f1;--tree-view-base07:#faf8f5;--tree-view-base08:#fa3e7e;--tree-view-base09:#fd993c;--tree-view-base0A:#f6bf81;--tree-view-base0B:#b8e248;--tree-view-base0C:#b4efe4;--tree-view-base0D:#85d9ef;--tree-view-base0E:#be87ff;--tree-view-base0F:#d6724c}section.svelte-hs9d0n{font-family:var(--font-sans);font-size:var(--font-medium)}");var xi,wi,$i=function(t){a(n,St);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}(n);function n(t){var r;return o(this,n),Ot(i(r=e.call(this)),t,bi,yi,j,{view:4,devToolsExpanded:0,buttonPosition:1}),r}return n}(),ki=!1;try{"undefined"!=typeof window&&(window.applyDevTools=_i)}catch(o){}function _i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var t=document.querySelector(".__prosemirror-dev-toolkit__");return t||((t=document.createElement("div")).className="__prosemirror-dev-toolkit__",document.body.appendChild(t)),t}();ji();var r=new $i({target:n,props:Object.assign({view:t},e)});try{"undefined"!=typeof window&&(window.editorView=t)}catch(t){}var o=t.destroy.bind(t);return t.destroy=function(){ji(),o()},wi=function(){yn(),ki=!1,xi&&xi(),xi=void 0,r.$destroy()},function(t){return ki=!0,new Promise((function(e){setTimeout((function(){xi&&xi();var n=(t.someProp("dispatchTransaction")||t.dispatch).bind(t);t.setProps({dispatchTransaction:function(e){var r=t.state;n(e),ki&&mn(e,t.state,r)}}),xi=function(){return t.setProps({dispatchTransaction:n})},e()}),1)}))}(t)}function ji(){wi&&wi(),wi=void 0}}).call(this,n(31))}},[[228,1,2]]]);
//# sourceMappingURL=main.f21ed3c8.chunk.js.map