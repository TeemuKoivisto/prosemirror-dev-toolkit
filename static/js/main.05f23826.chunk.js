(this["webpackJsonpexample-app"]=this["webpackJsonpexample-app"]||[]).push([[0],{224:function(t,e,n){},225:function(t,e,n){},226:function(t,e,n){},227:function(t,e,n){},228:function(t,e,n){"use strict";n.r(e);var r,i,o,a=n(0),s=n(36),c=n(44),u=n(5),l=n(13),f=n(71),h=n(10),d=n(14),p=n(3);function v(t){var e=t.className;return Object(p.jsx)(y,{className:e,children:Object(p.jsxs)(b,{children:[Object(p.jsx)(x,{to:"/",exact:!0,activeClassName:"current",children:"Front page"}),Object(p.jsx)(x,{to:"/dev-tools",exact:!0,activeClassName:"current",children:"Dev tools"})]})})}var g,m,y=d.a.div(r||(r=Object(l.a)(["\n  background: var(--color-primary);\n  box-shadow: 0 0 2px 2px rgba(0,0,0,0.18);\n  padding: 1rem;\n"]))),b=d.a.nav(i||(i=Object(l.a)(["\n  align-items: center;\n  color: #fff;\n  display: flex;\n"]))),x=Object(d.a)(c.b)(o||(o=Object(l.a)(["\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  font-size: 1rem;\n  padding: 0.5rem 1rem;\n  text-decoration: none;\n  transition: 0.2s hover;\n  &:hover {\n    text-decoration: underline;\n  }\n  &.current {\n    font-weight: 600;\n  }\n"]))),w=["component"],$=function(t){var e,n=t.component,r=Object(f.a)(t,w);return Object(p.jsx)(u.b,Object(h.a)(Object(h.a)({},r),{},{render:(e=n,function(t){return Object(p.jsxs)(_,{children:[Object(p.jsx)(v,Object(h.a)({},t)),Object(p.jsx)(k,{children:Object(p.jsx)(e,Object(h.a)({},t))})]})})}))},_=d.a.div(g||(g=Object(l.a)(["\n  min-height: 100vh;\n"]))),k=d.a.main(m||(m=Object(l.a)(["\n  margin: 40px auto 0 auto;\n  max-width: 680px;\n  padding-bottom: 20px;\n  @media only screen and (max-width: 720px) {\n    margin: 40px 20px 0 20px;\n    padding-bottom: 20px;\n  }\n"]))),j=n(45),O=n(95),S=n.n(O),C=n(2),E=n(96),M=n(101),T=n(24),R=n(102),A=new(n(1).i)({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){var e=t;return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(t){var e=t.attrs;return["img",{src:e.src,alt:e.alt,title:e.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},marks:{link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){var e=t;return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(t){var e=t.attrs;return["a",{href:e.href,title:e.title},0]}},italic:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},bold:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return["strong",0]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}}}),N=n(18),P=function t(){Object(j.a)(this,t),this.values=[{1:[1,2,3]},{a:"hello"},1]},I=new C.e("example-plugin");function z(t,e){var n=new Map(t.changedNodesMap.entries());e.changedNodesMap.forEach((function(t,e){return n.set(e,t)}));var r=new Set(t.changedNodesTypesSet.values());return e.changedNodesTypesSet.forEach((function(t){return r.add(t)})),{tr:e.tr,changedNodesMap:n,changedNodesTypesSet:r}}var D=function(){return new C.d({key:I,state:{init:function(t,e){return{decorationSet:T.b.empty,exampleMap:new Map([["a",1],["b",{x:[1,2]}]]),exampleSet:new Set([document.createElement("div"),document.createElement("span")]),exampleClasses:[new P,new P],trackedTrs:[],joined:{tr:e.tr,changedNodesMap:new Map,changedNodesTypesSet:new Set}}},apply:function(t,e,n,r){var i=function(t,e){var n=new Map,r=new Set;return(t.steps||[]).forEach((function(t){var i=t.to,o=t.from,a=t.slice,s=a.size||0,c=o===i,u=!c&&0!==s,l=c?"insert":u?"replace":"delete";(u||!c&&0===s)&&e.nodesBetween(o,i,(function(t,e){if(!n.has(t))return n.set(t,{pos:e,operation:l}),r.add(t.type),!0})),(c||u)&&a.content.descendants((function(t,e){n.set(t,{pos:e,operation:l}),r.add(t.type)}))})),{tr:t,changedNodesMap:n,changedNodesTypesSet:r}}(t,n.doc);return t.getMeta("appendedTransaction")?Object(h.a)(Object(h.a)({},e),{},{trackedTrs:[].concat(Object(N.a)(e.trackedTrs),[i]),joined:z(e.joined,i)}):Object(h.a)(Object(h.a)({},e),{},{trackedTrs:[i],joined:i})}},props:{decorations:function(t){return this.getState(t).decorationSet}}})};n(224),n(225),n(226);function B(t){var e=t.className,n=void 0===e?"":e,r=Object(a.useRef)(null),i=Object(a.useRef)(null);function o(e){if(i.current){var n=i.current.state.apply(e);i.current.updateState(n),t.onEdit&&t.onEdit(n)}}return Object(a.useLayoutEffect)((function(){var e=C.b.create({schema:A,plugins:Object(R.a)({schema:A}).concat(D())}),n=r.current;return n&&(i.current=function(t,e){return new T.c({mount:t},{state:e,dispatchTransaction:o})}(n,e),t.onEditorReady&&(null===t||void 0===t||t.onEditorReady(i.current))),function(){var t;null===(t=i.current)||void 0===t||t.destroy()}}),[]),Object(p.jsx)("div",{id:"example-editor",ref:r,className:n})}var q,F=function t(e){var n=this;if(Object(j.a)(this,t),this.view=void 0,this.currentEditorState=void 0,this.localStorageKey=void 0,this.setEditorView=function(t){if(n.view=t,n.currentEditorState){var e=C.b.fromJSON({schema:n.view.state.schema,plugins:n.view.state.plugins},n.currentEditorState);n.view.updateState(e)}},this.syncCurrentEditorState=function(){var t=n.view.state.toJSON();localStorage.setItem(n.localStorageKey,JSON.stringify(t))},this.localStorageKey=e,"undefined"!==typeof window){var r=localStorage.getItem(this.localStorageKey);if(r&&null!==r&&r.length>0){var i=JSON.parse(r);this.currentEditorState=i}}};function L(t){var e=t.useDevTools,n=Object(a.useMemo)((function(){return new F(e?"dev-tools":"dev-toolkit")}),[e]),r=Object(a.useMemo)((function(){return S()(n.syncCurrentEditorState,250)}),[n.syncCurrentEditorState]);return Object(p.jsx)(B,{onEdit:function(){r()},onEditorReady:function(t){n.setEditorView(t),e?Object(M.a)(t):Object(E.a)(t,{devToolsExpanded:!0,buttonPosition:"bottom-left"})}})}function U(){return Object(p.jsxs)(V,{children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:Object(p.jsx)("a",{href:"https://github.com/TeemuKoivisto/prosemirror-dev-toolkit",children:"prosemirror-dev-toolkit"})}),Object(p.jsx)("p",{children:"Github repo"}),Object(p.jsx)("p",{children:"An example React app with ProseMirror editor that uses dev-toolkit."})]}),Object(p.jsx)(L,{})]})}var J,V=d.a.div(q||(q=Object(l.a)(["\n\n"])));function K(){return Object(p.jsxs)(G,{children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:Object(p.jsx)("a",{href:"https://github.com/d4rkr00t/prosemirror-dev-tools",children:"Original prosemirror-dev-tools"})}),Object(p.jsx)("p",{children:Object(p.jsx)("a",{href:"https://github.com/d4rkr00t/prosemirror-dev-tools",children:"Github repo"})})]}),Object(p.jsx)(L,{useDevTools:!0})]})}var G=d.a.div(J||(J=Object(l.a)(["\n\n"]))),H=function(){return Object(p.jsx)(c.a,{basename:"/prosemirror-dev-toolkit",children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)($,{exact:!0,path:"/",component:U}),Object(p.jsx)($,{exact:!0,path:"/dev-tools",component:K}),Object(p.jsx)(u.a,{to:"/"})]})})};n(227);Object(s.render)(Object(p.jsx)(H,{}),document.getElementById("root"))},96:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Qo}));var r=n(18);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;function c(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}var l={exports:{}};!function(t){function e(n){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}(l);var f,h=c(l.exports);function d(t,e){if(e&&("object"===h(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if(t){if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function w(){}function $(t,e){for(var n in e)t[n]=e[n];return t}function _(t){return t()}function k(){return Object.create(null)}function j(t){t.forEach(_)}function O(t){return"function"===typeof t}function S(t,e){return t!=t?e==e:t!==e||t&&"object"===x(t)||"function"===typeof t}function C(t){if(null==t)return w;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=t.subscribe.apply(t,n);return i.unsubscribe?function(){return i.unsubscribe()}:i}function E(t){var e;return C(t,(function(t){return e=t}))(),e}function M(t,e,n){t.$$.on_destroy.push(C(e,n))}function T(t,e,n,r){if(t){var i=R(t,e,n,r);return t[0](i)}}function R(t,e,n,r){return t[1]&&r?$(n.ctx.slice(),t[1](r(e))):n.ctx}function A(t,e,n,r){if(t[2]&&r){var i=t[2](r(n));if(void 0===e.dirty)return i;if("object"===x(i)){for(var o=[],a=Math.max(e.dirty.length,i.length),s=0;s<a;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function N(t,e,n,r,i,o){if(i){var a=R(e,n,r,o);t.p(a,i)}}function P(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function I(t){var e={};for(var n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function z(t,e){var n={};for(var r in e=new Set(e),t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function D(t){return null==t?"":t}function B(t,e){t.appendChild(e)}function q(t,e,n){t.insertBefore(e,n||null)}function F(t){t.parentNode.removeChild(t)}function L(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function U(t){return document.createElement(t)}function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function V(t){return document.createTextNode(t)}function K(){return V(" ")}function G(){return V("")}function H(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function W(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Y(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:W(t,r,e[r])}function Q(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function Z(t){return Array.from(t.childNodes)}function X(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function tt(t,e,n){t.classList[n?"add":"remove"](e)}function et(t){f=t}function nt(){if(!f)throw new Error("Function called outside component initialization");return f}function rt(t){nt().$$.on_mount.push(t)}function it(t,e){nt().$$.context.set(t,e)}function ot(t){return nt().$$.context.get(t)}function at(t,e){var n=this,r=t.$$.callbacks[e.type];r&&r.slice().forEach((function(t){return t.call(n,e)}))}var st=[],ct=[],ut=[],lt=[],ft=Promise.resolve(),ht=!1;function dt(t){ut.push(t)}var pt=!1,vt=new Set;function gt(){if(!pt){pt=!0;do{for(var t=0;t<st.length;t+=1){var e=st[t];et(e),mt(e.$$)}for(et(null),st.length=0;ct.length;)ct.pop()();for(var n=0;n<ut.length;n+=1){var r=ut[n];vt.has(r)||(vt.add(r),r())}ut.length=0}while(st.length);for(;lt.length;)lt.pop()();ht=!1,pt=!1,vt.clear()}}function mt(t){if(null!==t.fragment){t.update(),j(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(dt)}}var yt,bt=new Set;function xt(){yt={r:0,c:[],p:yt}}function wt(){yt.r||j(yt.c),yt=yt.p}function $t(t,e){t&&t.i&&(bt.delete(t),t.i(e))}function _t(t,e,n,r){if(t&&t.o){if(bt.has(t))return;bt.add(t),yt.c.push((function(){bt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function kt(t){t&&t.c()}function jt(t,e,n,r){var i=t.$$,o=i.fragment,a=i.on_mount,s=i.on_destroy,c=i.after_update;o&&o.m(e,n),r||dt((function(){var e=a.map(_).filter(O);s?s.push.apply(s,y(e)):j(e),t.$$.on_mount=[]})),c.forEach(dt)}function Ot(t,e){var n=t.$$;null!==n.fragment&&(j(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function St(t,e){-1===t.$$.dirty[0]&&(st.push(t),ht||(ht=!0,ft.then(gt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ct(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],c=f;et(t);var u=t.$$={fragment:null,ctx:null,props:o,update:w,not_equal:i,bound:k(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:k(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};a&&a(u.root);var l=!1;if(u.ctx=n?n(t,e.props||{},(function(e,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return u.ctx&&i(u.ctx[e],u.ctx[e]=r)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](r),l&&St(t,e)),n})):[],u.update(),l=!0,j(u.before_update),u.fragment=!!r&&r(u.ctx),e.target){if(e.hydrate){var h=Z(e.target);u.fragment&&u.fragment.l(h),h.forEach(F)}else u.fragment&&u.fragment.c();e.intro&&$t(t.$$.fragment),jt(t,e.target,e.anchor,e.customElement),gt()}et(c)}var Et=function(){function t(){i(this,t)}var e,n,r;return e=t,(n=[{key:"$destroy",value:function(){Ot(this,1),this.$destroy=w}},{key:"$on",value:function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}},{key:"$set",value:function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}])&&b(e.prototype,n),r&&b(e,r),t}(),Mt=function(t,e){return it(t,e)},Tt=function(t){return ot(t)};function Rt(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}function At(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Nt(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,y,b,x,$,_,k,j,O;return{c:function(){e=U("button"),n=J("svg"),r=J("title"),i=V("prosemirror"),o=J("desc"),a=V("Created using Figma"),s=J("use"),c=J("use"),u=J("use"),l=J("use"),f=J("use"),h=J("use"),d=J("use"),p=J("defs"),v=J("path"),g=J("path"),y=J("path"),b=J("path"),x=J("path"),$=J("path"),_=J("path"),Q(s,"xlink:href","#a"),W(s,"transform","matrix(2 0 0 2 118 116)"),W(s,"fill","#FFF"),Q(c,"xlink:href","#b"),W(c,"transform","rotate(16 59.054 420.192) scale(2)"),W(c,"fill","#FFF"),Q(u,"xlink:href","#c"),W(u,"transform","matrix(2 0 0 2 154.024 141.58)"),W(u,"fill","#363755"),Q(l,"xlink:href","#d"),W(l,"transform","matrix(2 0 0 2 220 334.8)"),W(l,"fill","#FFF"),Q(f,"xlink:href","#e"),W(f,"transform","matrix(2 0 0 2 218.826 262.052)"),W(f,"fill","#363755"),Q(h,"xlink:href","#f"),W(h,"transform","matrix(2 0 0 2 197.108 184.998)"),W(h,"fill","#FFF"),Q(d,"xlink:href","#g"),W(d,"transform","matrix(2 0 0 2 221.8 216)"),W(d,"fill","#363755"),W(v,"id","a"),W(v,"d","M73.5 0C32.859 0 0 32.859 0 73.5S32.859 147 73.5 147 147 114.141 147 73.5 114.069 0 73.5\n        0z"),W(g,"id","b"),W(g,"d","M193.601 107.116c0-13.376 8.238-23.91\n        20.619-31.153-2.244-7.447-5.19-14.6-8.824-21.32-13.886\n        3.633-25.12-1.799-34.568-11.26-9.449-9.437-12.344-20.672-8.709-34.571A111.362 111.362 0 0 0\n        140.799 0c-7.243 12.37-20.339 20.594-33.689 20.594-13.363\n        0-26.446-8.225-33.701-20.594A110.888 110.888 0 0 0 52.1 8.812c3.634 13.9.753 25.134-8.721\n        34.57-9.436 9.462-20.67 14.894-34.569 11.26A112.178 112.178 0 0 0 0 75.963c12.369 7.243\n        20.593 17.777 20.593 31.153 0 13.352-8.224 26.448-20.593 33.704a113.338 113.338 0 0 0 8.811\n        21.321c13.899-3.634 25.133-.752 34.569 8.697 9.448 9.462 12.355 20.696 8.721 34.57a112.653\n        112.653 0 0 0 21.32 8.837c7.243-12.407 20.338-20.619 33.702-20.619 13.35 0 26.446 8.225\n        33.701 20.619a114.22 114.22 0 0 0 21.32-8.837c-3.634-13.874-.752-25.108 8.709-34.57\n        9.449-9.437 20.683-14.869 34.569-11.26a112.343 112.343 0 0 0\n        8.823-21.321c-12.406-7.256-20.644-17.789-20.644-31.141zm-86.491 46.57c-25.732\n        0-46.58-20.849-46.58-46.57 0-25.733 20.86-46.595 46.58-46.595 25.732 0 46.567 20.875 46.567\n        46.595 0 25.734-20.835 46.57-46.567 46.57z"),W(y,"id","c"),W(y,"d","M98.088 49.91c-6.9 83.9 10.8 103.401 10.8 103.401s-55.1\n        5.499-82.7-13.401c-30.5-20.9-26-67.5-25.9-94.6.1-28.4 25.6-45.8 49.9-45.3 29.1.5 50.2 21.6\n        47.9 49.9z"),W(b,"id","d"),W(b,"d","M.1.1c12.2 33.3 22.5 42.7 40 55.2 25.3 18 36.6 17.5 76.3 41C78.1 60.3 30.8 45.7 0 0l.1.1z"),W(x,"id","e"),W(x,"d","M.687 36.474c3 13.3 17.9 29.9 30.4 41.6 24.8 23.2 42 22.4 86\n        54.7-18.2-51.8-18.8-62-43.5-106.1-24.7-44-67.6-20.3-67.6-20.3s-8.4 16.6-5.3 29.9v.2z"),W($,"id","f"),W($,"d","M38.346 11.5s-4-11.6-18-11.5c-30 .2-28.8 52.1 16.9 52 39.6-.1 39.2-49.4\n        16.1-49.6-10.2-.2-15 9.1-15 9.1z"),W(_,"id","g"),W(_,"d","M26.5 15c10.8 0 2 14.9-.6 20.9-1.8-8.4-10.2-20.9.6-20.9zM10.2.1C4.6.1 0 4.6 0 10.3c0 5.6\n        4.5 10.2 10.2 10.2 5.6 0 10.2-4.5 10.2-10.2C20.4 4.7 15.9.1 10.2.1zM40.7 0c-4.8 0-8.8\n        4.5-8.8 10.2 0 5.6 3.9 10.2 8.8 10.2 4.8 0 8.8-4.5 8.8-10.2C49.5 4.6 45.6 0 40.7 0z"),W(n,"width","530"),W(n,"height","530"),W(n,"viewBox","0 0 530 530"),W(n,"xmlns","http://www.w3.org/2000/svg"),W(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),W(n,"class","svelte-wxqd5u"),W(e,"class",k=D("floating-btn ".concat(t[0]))+" svelte-wxqd5u")},m:function(m,w){q(m,e,w),B(e,n),B(n,r),B(r,i),B(n,o),B(o,a),B(n,s),B(n,c),B(n,u),B(n,l),B(n,f),B(n,h),B(n,d),B(n,p),B(p,v),B(p,g),B(p,y),B(p,b),B(p,x),B(p,$),B(p,_),j||(O=H(e,"click",t[1]),j=!0)},p:function(t,n){1&m(n,1)[0]&&k!==(k=D("floating-btn ".concat(t[0]))+" svelte-wxqd5u")&&W(e,"class",k)},i:w,o:w,d:function(t){t&&F(e),j=!1,O()}}}function Pt(t,e,n){var r=e.buttonPosition;return t.$$set=function(t){"buttonPosition"in t&&n(0,r=t.buttonPosition)},[r,function(e){at.call(this,t,e)}]}Rt(".floating-btn.svelte-wxqd5u.svelte-wxqd5u{background:var(--color-blue-bg);border:0;border-radius:50%;box-shadow:0 0 30px rgba(34, 34, 34, 0.3);cursor:pointer;position:fixed;padding:6px;transition:opacity 0.3s;-webkit-transition:opacity 0.3s;z-index:99999}.floating-btn.bottom-right.svelte-wxqd5u.svelte-wxqd5u{bottom:16px;right:16px}.floating-btn.bottom-left.svelte-wxqd5u.svelte-wxqd5u{bottom:16px;left:16px}.floating-btn.top-right.svelte-wxqd5u.svelte-wxqd5u{top:16px;right:16px}.floating-btn.top-left.svelte-wxqd5u.svelte-wxqd5u{top:16px;left:16px}.floating-btn.svelte-wxqd5u.svelte-wxqd5u:hover{opacity:0.7}.floating-btn.svelte-wxqd5u>svg.svelte-wxqd5u{display:block;width:34px;height:34px;position:relative}");var It=function(t){s(n,t);var e=At(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Pt,Nt,S,{buttonPosition:0}),r}return n}(Et);function zt(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bt=[];function qt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,r=new Set;function i(n){if(S(t,n)&&(t=n,e)){var i,o=!Bt.length,a=zt(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;s[1](),Bt.push(s,t)}}catch(u){a.e(u)}finally{a.f()}if(o){for(var c=0;c<Bt.length;c+=2)Bt[c][0](Bt[c+1]);Bt.length=0}}}function o(e){i(e(t))}function a(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,s=[o,a];return r.add(s),1===r.size&&(e=n(i)||w),o(t),function(){r.delete(s),0===r.size&&(e(),e=null)}}return{set:i,update:o,subscribe:a}}function Ft(t,e,n){var r,i=!Array.isArray(t),o=i?[t]:t,a=e.length<2;return r=function(t){var n=!1,r=[],s=0,c=w,u=function(){if(!s){c();var n=e(i?r[0]:r,t);a?t(n):c=O(n)?n:w}},l=o.map((function(t,e){return C(t,(function(t){r[e]=t,s&=~(1<<e),n&&u()}),(function(){s|=1<<e}))}));return n=!0,u(),function(){j(l),c()}},{subscribe:qt(n,r).subscribe}}var Lt="__prosemirror-dev-toolkit__snapshots",Ut=qt([]),Jt=qt(),Vt=qt(),Kt="undefined"!==typeof window?localStorage.getItem(Lt):null;if(Kt&&Kt.length>0)try{var Gt=JSON.parse(Kt);Ut.set(Gt)}catch(Xo){console.error("Corrupted snapshots values in localStorage",Xo)}function Ht(t,e){var n=Object.getPrototypeOf(t.state).constructor.create({schema:t.state.schema,plugins:t.state.plugins,doc:t.state.schema.nodeFromJSON(e)});t.updateState(n)}function Wt(t){Ut.update((function(e){return e.map((function(e){return e.timestamp===t.timestamp?t:e}))}))}function Yt(t){var e=document.createElement("a"),n=new Blob([JSON.stringify(t.doc)],{type:"application/json"});e.href=URL.createObjectURL(n),e.download="".concat(t.name,".json"),e.click()}function Qt(t){Ut.update((function(e){return e.filter((function(e){return e.timestamp!==t.timestamp}))}));var e=E(Jt);(null===e||void 0===e?void 0:e.timestamp)===t.timestamp&&Jt.set(void 0)}Ut.subscribe((function(t){"undefined"!==typeof window&&localStorage.setItem(Lt,JSON.stringify(t))}));function Zt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Xt(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,y,b,x,$;return{c:function(){e=U("ul"),n=U("li"),(r=U("button")).textContent="STATE",i=K(),o=U("li"),(a=U("button")).textContent="HISTORY",s=K(),c=U("li"),(u=U("button")).textContent="PLUGINS",l=K(),f=U("li"),(h=U("button")).textContent="SCHEMA",d=K(),p=U("li"),(v=U("button")).textContent="STRUCTURE",g=K(),y=U("li"),(b=U("button")).textContent="SNAPSHOTS",W(r,"class","svelte-l5aruy"),tt(r,"active","state"===t[0]),W(a,"class","svelte-l5aruy"),tt(a,"active","history"===t[0]),W(u,"class","svelte-l5aruy"),tt(u,"active","plugins"===t[0]),W(h,"class","svelte-l5aruy"),tt(h,"active","schema"===t[0]),W(v,"class","svelte-l5aruy"),tt(v,"active","structure"===t[0]),W(b,"class","svelte-l5aruy"),tt(b,"active","snapshots"===t[0]),W(e,"class","tabs-menu svelte-l5aruy")},m:function(m,w){q(m,e,w),B(e,n),B(n,r),B(e,i),B(e,o),B(o,a),B(e,s),B(e,c),B(c,u),B(e,l),B(e,f),B(f,h),B(e,d),B(e,p),B(p,v),B(e,g),B(e,y),B(y,b),x||($=[H(r,"click",t[2]),H(a,"click",t[3]),H(u,"click",t[4]),H(h,"click",t[5]),H(v,"click",t[6]),H(b,"click",t[7])],x=!0)},p:function(t,e){var n=m(e,1)[0];1&n&&tt(r,"active","state"===t[0]),1&n&&tt(a,"active","history"===t[0]),1&n&&tt(u,"active","plugins"===t[0]),1&n&&tt(h,"active","schema"===t[0]),1&n&&tt(v,"active","structure"===t[0]),1&n&&tt(b,"active","snapshots"===t[0])},i:w,o:w,d:function(t){t&&F(e),x=!1,j($)}}}function te(t,e,n){var r=e.active,i=e.onClickTab;return t.$$set=function(t){"active"in t&&n(0,r=t.active),"onClickTab"in t&&n(1,i=t.onClickTab)},[r,i,function(){return i("state")},function(){return i("history")},function(){return i("plugins")},function(){return i("schema")},function(){return i("structure")},function(){return i("snapshots")}]}Rt("ul.svelte-l5aruy{display:flex;list-style:none;margin:0;overflow-x:scroll;padding:0}button.svelte-l5aruy{background:transparent;border:0;border-bottom:2px solid transparent;color:var(--color-white);cursor:pointer;height:100%;padding:1em}button.svelte-l5aruy:hover{background:rgba(255, 255, 255, 0.05)}button.active.svelte-l5aruy{border-bottom:2px solid var(--color-red-light)}");var ee=function(t){s(n,t);var e=Zt(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,te,Xt,S,{active:0,onClickTab:1}),r}return n}(Et);function ne(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var i=t.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){var s=ne(i.content,o.content,n+1);if(null!=s)return s}n+=i.nodeSize}else n+=i.nodeSize}}function re(t,e,n,r){for(var i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};var a=t.child(--i),s=e.child(--o),c=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){for(var u=0,l=Math.min(a.text.length,s.text.length);u<l&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){var f=re(a.content,s.content,n-1,r-1);if(f)return f}n-=c,r-=c}else n-=c,r-=c}}var ie=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},oe={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};ie.prototype.nodesBetween=function(t,e,n,r,i){void 0===r&&(r=0);for(var o=0,a=0;a<e;o++){var s=this.content[o],c=a+s.nodeSize;if(c>t&&!1!==n(s,r+a,i,o)&&s.content.size){var u=a+1;s.nodesBetween(Math.max(0,t-u),Math.min(s.content.size,e-u),n,r+u)}a=c}},ie.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},ie.prototype.textBetween=function(t,e,n,r){var i="",o=!0;return this.nodesBetween(t,e,(function(a,s){a.isText?(i+=a.text.slice(Math.max(t,s)-s,e-s),o=!n):a.isLeaf&&r?(i+="function"===typeof r?r(a):r,o=!n):!o&&a.isBlock&&(i+=n,o=!0)}),0),i},ie.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new ie(r,this.size+t.size)},ie.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var i=0,o=0;o<e;i++){var a=this.content[i],s=o+a.nodeSize;s>t&&((o<t||s>e)&&(a=a.isText?a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),n.push(a),r+=a.nodeSize),o=s}return new ie(n,r)},ie.prototype.cutByIndex=function(t,e){return t==e?ie.empty:0==t&&e==this.content.length?this:new ie(this.content.slice(t,e))},ie.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new ie(r,i)},ie.prototype.addToStart=function(t){return new ie([t].concat(this.content),this.size+t.nodeSize)},ie.prototype.addToEnd=function(t){return new ie(this.content.concat(t),this.size+t.nodeSize)},ie.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},oe.firstChild.get=function(){return this.content.length?this.content[0]:null},oe.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},oe.childCount.get=function(){return this.content.length},ie.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},ie.prototype.maybeChild=function(t){return this.content[t]},ie.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},ie.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),ne(this,t,e)},ie.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),re(this,t,e,n)},ie.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return se(0,t);if(t==this.size)return se(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var i=r+this.child(n).nodeSize;if(i>=t)return i==t||e>0?se(n+1,i):se(n,r);r=i}},ie.prototype.toString=function(){return"<"+this.toStringInner()+">"},ie.prototype.toStringInner=function(){return this.content.join(", ")},ie.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},ie.fromJSON=function(t,e){if(!e)return ie.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new ie(e.map(t.nodeFromJSON))},ie.fromArray=function(t){if(!t.length)return ie.empty;for(var e,n=0,r=0;r<t.length;r++){var i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new ie(e||t,n)},ie.from=function(t){if(!t)return ie.empty;if(t instanceof ie)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ie([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(ie.prototype,oe);var ae={index:0,offset:0};function se(t,e){return ae.index=t,ae.offset=e,ae}function ce(t,e){if(t===e)return!0;if(!t||"object"!=x(t)||!e||"object"!=x(e))return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!ce(t[r],e[r]))return!1}else{for(var i in t)if(!(i in e)||!ce(t[i],e[i]))return!1;for(var o in e)if(!(o in t))return!1}return!0}ie.empty=new ie([],0);var ue=function(t,e){this.type=t,this.attrs=e};function le(t){var e=Error.call(this,t);return e.__proto__=le.prototype,e}ue.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e},ue.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},ue.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},ue.prototype.eq=function(t){return this==t||this.type==t.type&&ce(this.attrs,t.attrs)},ue.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},ue.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},ue.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},ue.setFrom=function(t){if(!t||0==t.length)return ue.none;if(t instanceof ue)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},ue.none=[],le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le.prototype.name="ReplaceError";var fe=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},he={size:{configurable:!0}};function de(t,e,n){var r=t.findIndex(e),i=r.index,o=r.offset,a=t.maybeChild(i),s=t.findIndex(n),c=s.index,u=s.offset;if(o==e||a.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,a.copy(de(a.content,e-o-1,n-o-1)))}function pe(t,e,n,r){var i=t.findIndex(e),o=i.index,a=i.offset,s=t.maybeChild(o);if(a==e||s.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));var c=pe(s.content,e-a-1,n);return c&&t.replaceChild(o,s.copy(c))}function ve(t,e,n){if(n.openStart>t.depth)throw new le("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new le("Inconsistent open depths");return ge(t,e,n,0)}function ge(t,e,n,r){var i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){var a=ge(t,e,n,r+1);return o.copy(o.content.replaceChild(i,a))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var s=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),i=n-1;i>=0;i--)r=e.node(i).copy(ie.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return we(o,$e(t,s.start,s.end,e,r))}var c=t.parent,u=c.content;return we(c,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}return we(o,_e(t,e,r))}function me(t,e){if(!e.type.compatibleContent(t.type))throw new le("Cannot join "+e.type.name+" onto "+t.type.name)}function ye(t,e,n){var r=t.node(n);return me(r,e.node(n)),r}function be(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function xe(t,e,n,r){var i=(e||t).node(n),o=0,a=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(be(t.nodeAfter,r),o++));for(var s=o;s<a;s++)be(i.child(s),r);e&&e.depth==n&&e.textOffset&&be(e.nodeBefore,r)}function we(t,e){if(!t.type.validContent(e))throw new le("Invalid content for node "+t.type.name);return t.copy(e)}function $e(t,e,n,r,i){var o=t.depth>i&&ye(t,e,i+1),a=r.depth>i&&ye(n,r,i+1),s=[];return xe(null,t,i,s),o&&a&&e.index(i)==n.index(i)?(me(o,a),be(we(o,$e(t,e,n,r,i+1)),s)):(o&&be(we(o,_e(t,e,i+1)),s),xe(e,n,i,s),a&&be(we(a,_e(n,r,i+1)),s)),xe(r,null,i,s),new ie(s)}function _e(t,e,n){var r=[];(xe(null,t,n,r),t.depth>n)&&be(we(ye(t,e,n+1),_e(t,e,n+1)),r);return xe(e,null,n,r),new ie(r)}he.size.get=function(){return this.content.size-this.openStart-this.openEnd},fe.prototype.insertAt=function(t,e){var n=pe(this.content,t+this.openStart,e,null);return n&&new fe(n,this.openStart,this.openEnd)},fe.prototype.removeBetween=function(t,e){return new fe(de(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},fe.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},fe.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},fe.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},fe.fromJSON=function(t,e){if(!e)return fe.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new fe(ie.fromJSON(t,e.content),n,r)},fe.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new fe(t,n,r)},Object.defineProperties(fe.prototype,he),fe.empty=new fe(ie.empty,0,0);var ke=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},je={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};ke.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},je.parent.get=function(){return this.node(this.depth)},je.doc.get=function(){return this.node(0)},ke.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},ke.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},ke.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},ke.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},ke.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},ke.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},ke.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},je.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},je.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},je.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},ke.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)r+=n.child(i).nodeSize;return r},ke.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return ue.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var i=n;n=r,r=i}for(var o=n.marks,a=0;a<o.length;a++)!1!==o[a].type.spec.inclusive||r&&o[a].isInSet(r.marks)||(o=o[a--].removeFromSet(o));return o},ke.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n},ke.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},ke.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Ee(this,t,n)},ke.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},ke.prototype.max=function(t){return t.pos>this.pos?t:this},ke.prototype.min=function(t){return t.pos<this.pos?t:this},ke.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},ke.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,i=e,o=t;;){var a=o.content.findIndex(i),s=a.index,c=a.offset,u=i-c;if(n.push(o,s,r+c),!u)break;if((o=o.child(s)).isText)break;i=u-1,r+=c+1}return new ke(e,n,i)},ke.resolveCached=function(t,e){for(var n=0;n<Oe.length;n++){var r=Oe[n];if(r.pos==e&&r.doc==t)return r}var i=Oe[Se]=ke.resolve(t,e);return Se=(Se+1)%Ce,i},Object.defineProperties(ke.prototype,je);var Oe=[],Se=0,Ce=12,Ee=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},Me={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Me.start.get=function(){return this.$from.before(this.depth+1)},Me.end.get=function(){return this.$to.after(this.depth+1)},Me.parent.get=function(){return this.$from.node(this.depth)},Me.startIndex.get=function(){return this.$from.index(this.depth)},Me.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Ee.prototype,Me);var Te=Object.create(null),Re=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||ie.empty,this.marks=r||ue.none},Ae={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Ae.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},Ae.childCount.get=function(){return this.content.childCount},Re.prototype.child=function(t){return this.content.child(t)},Re.prototype.maybeChild=function(t){return this.content.maybeChild(t)},Re.prototype.forEach=function(t){this.content.forEach(t)},Re.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},Re.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},Ae.textContent.get=function(){return this.textBetween(0,this.content.size,"")},Re.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},Ae.firstChild.get=function(){return this.content.firstChild},Ae.lastChild.get=function(){return this.content.lastChild},Re.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},Re.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},Re.prototype.hasMarkup=function(t,e,n){return this.type==t&&ce(this.attrs,e||t.defaultAttrs||Te)&&ue.sameSet(this.marks,n||ue.none)},Re.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},Re.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},Re.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},Re.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return fe.empty;var r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),a=r.start(o),s=r.node(o).content.cut(r.pos-a,i.pos-a);return new fe(s,r.depth-o,i.depth-o)},Re.prototype.replace=function(t,e,n){return ve(this.resolve(t),this.resolve(e),n)},Re.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,i=n.offset;if(!(e=e.maybeChild(r)))return null;if(i==t||e.isText)return e;t-=i+1}},Re.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},Re.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}},Re.prototype.resolve=function(t){return ke.resolveCached(this,t)},Re.prototype.resolveNoCache=function(t){return ke.resolve(this,t)},Re.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},Ae.isBlock.get=function(){return this.type.isBlock},Ae.isTextblock.get=function(){return this.type.isTextblock},Ae.inlineContent.get=function(){return this.type.inlineContent},Ae.isInline.get=function(){return this.type.isInline},Ae.isText.get=function(){return this.type.isText},Ae.isLeaf.get=function(){return this.type.isLeaf},Ae.isAtom.get=function(){return this.type.isAtom},Re.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),function(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}(this.marks,t)},Re.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},Re.prototype.canReplace=function(t,e,n,r,i){void 0===n&&(n=ie.empty),void 0===r&&(r=0),void 0===i&&(i=n.childCount);var o=this.contentMatchAt(t).matchFragment(n,r,i),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var s=r;s<i;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},Re.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd},Re.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},Re.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=ue.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!ue.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},Re.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},Re.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=ie.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(Re.prototype,Ae);var Ne=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Pe={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Ne.parse=function(t,e){var n=new Ie(t,e);if(null==n.next)return Ne.empty;var r=De(n);n.next&&n.err("Unexpected trailing text");var i=function(t){var e=Object.create(null);return n(Je(t,0));function n(r){var i=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var o=i.indexOf(n),a=o>-1&&i[o+1];Je(t,r).forEach((function(t){a||i.push(n,a=[]),-1==a.indexOf(t)&&a.push(t)}))}}))}));for(var o=e[r.join(",")]=new Ne(r.indexOf(t.length-1)>-1),a=0;a<i.length;a+=2){var s=i[a+1].sort(Ue);o.next.push(i[a],e[s.join(",")]||n(s))}return o}}(function(t){var e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}function o(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(o(n,e))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=o(t.exprs[a],e);if(a==t.exprs.length-1)return s;i(s,e=n())}else{if("star"==t.type){var c=n();return r(e,c),i(o(t.expr,c),c),[r(c)]}if("plus"==t.type){var u=n();return i(o(t.expr,e),u),i(o(t.expr,u),u),[r(u)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){for(var l=e,f=0;f<t.min;f++){var h=n();i(o(t.expr,l),h),l=h}if(-1==t.max)i(o(t.expr,l),l);else for(var d=t.min;d<t.max;d++){var p=n();r(l,p),i(o(t.expr,l),p),l=p}return[r(l)]}if("name"==t.type)return[r(e,null,t.value)]}}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var i=r[n],o=!i.validEnd,a=[],s=0;s<i.next.length;s+=2){var c=i.next[s],u=i.next[s+1];a.push(c.name),!o||c.isText||c.hasRequiredAttrs()||(o=!1),-1==r.indexOf(u)&&r.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i},Ne.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},Ne.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r},Pe.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},Pe.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},Ne.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},Ne.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function i(o,a){var s=o.matchFragment(t,n);if(s&&(!e||s.validEnd))return ie.from(a.map((function(t){return t.createAndFill()})));for(var c=0;c<o.next.length;c+=2){var u=o.next[c],l=o.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(l)){r.push(l);var f=i(l,a.concat(u));if(f)return f}}}(this,[])},Ne.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},Ne.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),i=r.match;if(i.matchType(t)){for(var o=[],a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(var s=0;s<i.next.length;s+=2){var c=i.next[s];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!i.next[s+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},Pe.edgeCount.get=function(){return this.next.length>>1},Ne.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},Ne.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)r+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return r})).join("\n")},Object.defineProperties(Ne.prototype,Pe),Ne.empty=new Ne(!0);var Ie=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},ze={next:{configurable:!0}};function De(t){var e=[];do{e.push(Be(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Be(t){var e=[];do{e.push(qe(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function qe(t){for(var e=function(t){if(t.eat("(")){var e=De(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var i=[];for(var o in n){var a=n[o];a.groups.indexOf(e)>-1&&i.push(a)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=Le(t,e)}return e}function Fe(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function Le(t,e){var n=Fe(t),r=n;return t.eat(",")&&(r="}"!=t.next?Fe(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Ue(t,e){return e-t}function Je(t,e){var n=[];return function e(r){var i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(var o=0;o<i.length;o++){var a=i[o],s=a.term,c=a.to;s||-1!=n.indexOf(c)||e(c)}}(e),n.sort(Ue)}ze.next.get=function(){return this.tokens[this.pos]},Ie.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},Ie.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(Ie.prototype,ze);var Ve=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=function(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new Ge(t[n]);return e}(n.attrs),this.defaultAttrs=function(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},Ke={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Ke.isInline.get=function(){return!this.isBlock},Ke.isTextblock.get=function(){return this.isBlock&&this.inlineContent},Ke.isLeaf.get=function(){return this.contentMatch==Ne.empty},Ke.isAtom.get=function(){return this.isLeaf||this.spec.atom},Ve.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},Ve.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},Ve.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:function(t,e){var n=Object.create(null);for(var r in t){var i=e&&e[r];if(void 0===i){var o=t[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}(this.attrs,t)},Ve.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Re(this,this.computeAttrs(t),ie.from(e),ue.setFrom(n))},Ve.prototype.createChecked=function(t,e,n){if(e=ie.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new Re(this,this.computeAttrs(t),e,ue.setFrom(n))},Ve.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=ie.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(ie.empty,!0);return i?new Re(this,t,e.append(i),ue.setFrom(n)):null},Ve.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},Ve.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},Ve.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},Ve.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:ue.empty:t},Ve.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new Ve(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(Ve.prototype,Ke);var Ge=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},He={isRequired:{configurable:!0}};He.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(Ge.prototype,He);var We={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ye={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Qe={ol:!0,ul:!0};function Ze(t){return(t?1:0)|("full"===t?2:0)}var Xe=function(t,e,n,r,i,o,a){this.type=t,this.attrs=e,this.solid=i,this.match=o||(4&a?null:t.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=ue.none,this.pendingMarks=r,this.stashMarks=[]};Xe.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(ie.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},Xe.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=ie.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(ie.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},Xe.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},Xe.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):nn(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},Xe.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!We.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var tn=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,i=e.topNode,o=Ze(e.preserveWhitespace)|(n?4:0);r=i?new Xe(i.type,i.attrs,ue.none,ue.none,!0,e.topMatch||i.type.contentMatch,o):new Xe(n?null:t.schema.topNodeType,null,ue.none,ue.none,!0,null,o),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},en={top:{configurable:!0},currentPos:{configurable:!0}};function nn(t,e){var n=e.schema.nodes,r=function(r){var i=n[r];if(i.allowsMarkType(t)){var o=[];return function t(n){o.push(n);for(var r=0;r<n.edgeCount;r++){var i=n.edge(r),a=i.type,s=i.next;if(a==e)return!0;if(o.indexOf(s)<0&&t(s))return!0}}(i.contentMatch)?{v:!0}:void 0}};for(var i in n){var o=r(i);if(o)return o.v}}en.top.get=function(){return this.nodes[this.open]},tn.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(t),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r)}},tn.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},tn.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();Qe.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&Qe.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:Ye.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);var o,a=this.top,s=this.needsBlock;if(We.hasOwnProperty(r))o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(a),this.needsBlock=s}else this.addElementByRule(t,i,!1===i.consuming?n:null)},tn.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},tn.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},tn.prototype.readStyles=function(t){var e=ue.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e},tn.prototype.addElementByRule=function(t,e,n){var r,i,o,a=this;e.node?(i=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var s=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return a.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,r)}r&&(this.sync(s),this.open--),o&&this.removePendingMark(o,s)},tn.prototype.addAll=function(t,e,n,r){for(var i=n||0,o=n?t.childNodes[n]:t.firstChild,a=null==r?null:t.childNodes[r];o!=a;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o),e&&We.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},tn.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)this.enterInner(e[a],null,!1);return!0},tn.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,i=0;i<t.marks.length;i++)n.type&&!n.type.allowsMarkType(t.marks[i].type)||(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},tn.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},tn.prototype.enterInner=function(t,e,n,r){this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t,e);var o=null==r?-5&i.options:Ze(r);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new Xe(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++},tn.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},tn.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},tn.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},en.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},tn.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},tn.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},tn.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},tn.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},tn.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1);return function t(a,s){for(;a>=0;a--){var c=n[a];if(""==c){if(a==n.length-1||0==a)continue;for(;s>=o;s--)if(t(a-1,s))return!0;return!1}var u=s>0||0==s&&i?e.nodes[s].type:r&&s>=o?r.node(s-o).type:null;if(!u||u.name!=c&&-1==u.groups.indexOf(c))return!1;s--}return!0}(n.length-1,this.open)},tn.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}},tn.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},tn.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var i=r.popFromStashMark(t);i&&r.type&&r.type.allowsMarkType(i.type)&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(tn.prototype,en);var rn=function(t,e){this.nodes=t||{},this.marks=e||{}};function on(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function an(t){return t.document||window.document}rn.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=an(e).createDocumentFragment());var i=n,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);for(var n=0,a=0;n<o.length&&a<t.marks.length;){var s=t.marks[a];if(r.marks[s.type.name]){if(!s.eq(o[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<o.length;)i=o.pop(),o.pop();for(;a<t.marks.length;){var c=t.marks[a++],u=r.serializeMark(c,t.isInline,e);u&&(o.push(c,i),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(r.serializeNodeInner(t,e))})),n},rn.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=rn.renderSpec(an(e),this.nodes[t.type.name](t)),r=n.dom,i=n.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return r},rn.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n},rn.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&rn.renderSpec(an(n),r(t,e))},rn.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));var o=null,a=n?t.createElementNS(n,r):t.createElement(r),s=e[1],c=1;if(s&&"object"==x(s)&&null==s.nodeType&&!Array.isArray(s))for(var u in c=2,s)if(null!=s[u]){var l=u.indexOf(" ");l>0?a.setAttributeNS(u.slice(0,l),u.slice(l+1),s[u]):a.setAttribute(u,s[u])}for(var f=c;f<e.length;f++){var h=e[f];if(0===h){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var d=rn.renderSpec(t,h,n),p=d.dom,v=d.contentDOM;if(a.appendChild(p),v){if(o)throw new RangeError("Multiple content holes");o=v}}return{dom:a,contentDOM:o}},rn.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new rn(this.nodesFromSchema(t),this.marksFromSchema(t)))},rn.nodesFromSchema=function(t){var e=on(t.nodes);return e.text||(e.text=function(t){return t.text}),e},rn.marksFromSchema=function(t){return on(t.marks)};var sn={prettyPrint:function(t,e){var n,r,i,o,a,s;for(r=(e=e||{}).indent_size||4,i=e.indent_char||" ",a=e.brace_style||"collapse",o=0==e.max_char?1/0:e.max_char||70,s=e.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],n=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}},this.get_content=function(){for(var t="",e=[],n=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(t,this.Utils.whitespace))e.length&&(n=!0),this.line_char_count--;else{if(n){if(this.line_char_count>=this.max_char){e.push("\n");for(var r=0;r<this.indent_level;r++)e.push(this.indent_string);this.line_char_count=0}else e.push(" "),this.line_char_count++;n=!1}e.push(t)}}return e.length?e.join(""):""},this.get_contents_to=function(t){if(this.pos==this.input.length)return["","TK_EOF"];var e="",n=new RegExp("</"+t+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),i=r?r.index:this.input.length;return this.pos<i&&(e=this.input.substring(this.pos,i),this.pos=i),e},this.record_tag=function(t){this.tags[t+"count"]?(this.tags[t+"count"]++,this.tags[t+this.tags[t+"count"]]=this.indent_level):(this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level),this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!==e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[e+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1==this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.get_tag=function(){var t,e,n="",r=[],i=!1;do{if(this.pos>=this.input.length)return r.length?r.join(""):["","TK_EOF"];n=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(n,this.Utils.whitespace)?(i=!0,this.line_char_count--):("'"!==n&&'"'!==n||r[1]&&"!"===r[1]||(n+=this.get_unformatted(n),i=!0),"="===n&&(i=!1),r.length&&"="!==r[r.length-1]&&">"!==n&&i&&(this.line_char_count>=this.max_char?(this.print_newline(!1,r),this.line_char_count=0):(r.push(" "),this.line_char_count++),i=!1),"<"===n&&(t=this.pos-1),r.push(n))}while(">"!==n);var o,a=r.join("");o=-1!=a.indexOf(" ")?a.indexOf(" "):a.indexOf(">");var c=a.substring(1,o).toLowerCase();if("/"===a.charAt(a.length-2)||this.Utils.in_array(c,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===c)this.record_tag(c),this.tag_type="SCRIPT";else if("style"===c)this.record_tag(c),this.tag_type="STYLE";else if(this.Utils.in_array(c,s)){var u=this.get_unformatted("</"+c+">",a);r.push(u),t>0&&this.Utils.in_array(this.input.charAt(t-1),this.Utils.whitespace)&&r.splice(0,0,this.input.charAt(t-1)),e=this.pos-1,this.Utils.in_array(this.input.charAt(e+1),this.Utils.whitespace)&&r.push(this.input.charAt(e+1)),this.tag_type="SINGLE"}else if("!"===c.charAt(0))if(-1!=c.indexOf("[if")){if(-1!=a.indexOf("!IE")){u=this.get_unformatted("--\x3e",a);r.push(u)}this.tag_type="START"}else if(-1!=c.indexOf("[endif"))this.tag_type="END",this.unindent();else if(-1!=c.indexOf("[cdata[")){u=this.get_unformatted("]]>",a);r.push(u),this.tag_type="SINGLE"}else{u=this.get_unformatted("--\x3e",a);r.push(u),this.tag_type="SINGLE"}else"/"===c.charAt(0)?(this.retrieve_tag(c.substring(1)),this.tag_type="END"):(this.record_tag(c),this.tag_type="START"),this.Utils.in_array(c,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return r.join("")},this.get_unformatted=function(t,e){if(e&&-1!=e.toLowerCase().indexOf(t))return"";var n="",r="",i=!0;do{if(this.pos>=this.input.length)return r;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n",this.line_char_count=0;continue}}r+=n,this.line_char_count++,i=!0}while(-1==r.toLowerCase().indexOf(t));return r},this.get_token=function(){var t;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var e=this.last_token.substr(7);return"string"!==typeof(t=this.get_contents_to(e))?t:[t,"TK_"+e]}return"CONTENT"===this.current_mode?"string"!==typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!==typeof(t=this.get_tag())?t:[t,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(t){return(t=this.indent_level+t||0)<1?"":Array(t+1).join(this.indent_string)},this.printer=function(t,e,n,r,i){this.input=t||"",this.output=[],this.indent_character=e,this.indent_string="",this.indent_size=n,this.brace_style=i,this.indent_level=0,this.max_char=r,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(t,e){if(this.line_char_count=0,e&&e.length){if(!t)for(;this.Utils.in_array(e[e.length-1],this.Utils.whitespace);)e.pop();e.push("\n");for(var n=0;n<this.indent_level;n++)e.push(this.indent_string)}},this.print_token=function(t){this.output.push(t)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this},n.printer(t,i,r,o,a);;){var c=n.get_token();if(n.token_text=c[0],n.token_type=c[1],"TK_EOF"===n.token_type)break;switch(n.token_type){case"TK_TAG_START":n.print_newline(!1,n.output),n.print_token(n.token_text),n.indent(),n.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===n.last_token&&""===n.last_text){var u=n.token_text.match(/\w+/)[0],l=n.output[n.output.length-1].match(/<\s*(\w+)/);null!==l&&l[1]===u||n.print_newline(!0,n.output)}n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var f=n.token_text.match(/^\s*<([a-z]+)/i);f&&n.Utils.in_array(f[1],s)||n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_CONTENT":""!==n.token_text&&n.print_token(n.token_text),n.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==n.token_text){n.output.push("\n");var h=n.token_text;if("TK_SCRIPT"==n.token_type)var d="function"==typeof js_beautify&&js_beautify;else if("TK_STYLE"==n.token_type)d="function"==typeof css_beautify&&css_beautify;if("keep"==e.indent_scripts)var p=0;else if("separate"==e.indent_scripts)p=-n.indent_level;else p=1;var v=n.get_full_indent(p);if(d)h=d(h.replace(/^\s*/,v),e);else{var g=h.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(n.indent_string).length-1,m=n.get_full_indent(p-g);h=h.replace(/^\s*/,v).replace(/\r\n|\r|\n/g,"\n"+m).replace(/\s*$/,"")}h&&(n.print_token(h),n.print_newline(!0,n.output))}n.current_mode="TAG"}n.last_token=n.token_type,n.last_text=n.token_text}return n.output.join("")}},cn={exports:{}},un=u(Object.freeze({__proto__:null}));(function(t,e){e=e&&e.hasOwnProperty("default")?e.default:e;var n="function"===typeof Symbol&&"symbol"===x(Symbol.iterator)?function(t){return x(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":x(t)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+x(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==x(e)&&"function"!==typeof e?t:e},c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(Xo){i=!0,o=Xo}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},l=function(){function t(e){r(this,t),this.selfOptions=e||{},this.pipes={}}return i(t,[{key:"options",value:function(t){return t&&(this.selfOptions=t),this.selfOptions}},{key:"pipe",value:function(t,e){var n=e;if("string"===typeof t){if("undefined"===typeof n)return this.pipes[t];this.pipes[t]=n}if(t&&t.name){if(n=t,n.processor===this)return n;this.pipes[n.name]=n}return n.processor=this,n}},{key:"process",value:function(t,e){var n=t;n.options=this.options();for(var r=e||t.pipe||"default",i=void 0,o=void 0;r;)"undefined"!==typeof n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"===typeof r&&(r=this.pipe(r)),r.process(n),o=n,i=r,r=null,n&&n.next&&(n=n.next,r=o.nextPipe||n.pipe||i);return n.hasResult?n.result:void 0}}]),t}(),f=function(){function t(e){r(this,t),this.name=e,this.filters=[]}return i(t,[{key:"process",value:function(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,r=this.filters.length,i=t,o=0;o<r;o++){var a=this.filters[o];if(e&&this.log("filter: "+a.filterName),a(i),"object"===("undefined"===typeof i?"undefined":n(i))&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)}},{key:"log",value:function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)}},{key:"append",value:function(){var t;return(t=this.filters).push.apply(t,arguments),this}},{key:"prepend",value:function(){var t;return(t=this.filters).unshift.apply(t,arguments),this}},{key:"indexOf",value:function(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++)if(this.filters[e].filterName===t)return e;throw new Error("filter not found: "+t)}},{key:"list",value:function(){return this.filters.map((function(t){return t.filterName}))}},{key:"after",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e+1,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"before",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"replace",value:function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,1),Array.prototype.splice.apply(this.filters,n),this}},{key:"remove",value:function(t){var e=this.indexOf(t);return this.filters.splice(e,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(t){if(!1!==t){if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var n=new Error(e.name+" failed");throw n.noResult=!0,n}},this}}else this.resultCheck=null}}]),t}(),h=function(){function t(){r(this,t)}return i(t,[{key:"setResult",value:function(t){return this.result=t,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(t,e){return"string"===typeof t||t instanceof f?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this}},{key:"push",value:function(t,e){return t.parent=this,"undefined"!==typeof e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this}}]),t}(),d="function"===typeof Array.isArray?Array.isArray:function(t){return t instanceof Array};function p(t){var e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}function v(t){if("object"!==("undefined"===typeof t?"undefined":n(t)))return t;if(null===t)return null;if(d(t))return t.map(v);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return p(t);var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=v(t[r]));return e}var g=function(t){function e(t,n){r(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.left=t,i.right=n,i.pipe="diff",i}return a(e,t),i(e,[{key:"setResult",value:function(t){if(this.options.cloneDiffValues&&"object"===("undefined"===typeof t?"undefined":n(t))){var e="function"===typeof this.options.cloneDiffValues?this.options.cloneDiffValues:v;"object"===n(t[0])&&(t[0]=e(t[0])),"object"===n(t[1])&&(t[1]=e(t[1]))}return h.prototype.setResult.apply(this,arguments)}}]),e}(h),m=function(t){function e(t,n){r(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.left=t,i.delta=n,i.pipe="patch",i}return a(e,t),e}(h),y=function(t){function e(t){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.delta=t,n.pipe="reverse",n}return a(e,t),e}(h),b="function"===typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},w=function(t){if(t.left!==t.right)if("undefined"!==typeof t.left)if("undefined"!==typeof t.right){if("function"===typeof t.left||"function"===typeof t.right)throw new Error("functions are not supported");t.leftType=null===t.left?"null":n(t.left),t.rightType=null===t.right?"null":n(t.right),t.leftType===t.rightType&&"boolean"!==t.leftType&&"number"!==t.leftType?("object"===t.leftType&&(t.leftIsArray=b(t.left)),"object"===t.rightType&&(t.rightIsArray=b(t.right)),t.leftIsArray===t.rightIsArray?t.left instanceof RegExp&&(t.right instanceof RegExp?t.setResult([t.left.toString(),t.right.toString()]).exit():t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()}else t.setResult([t.left,0,0]).exit();else{if("function"===typeof t.right)throw new Error("functions are not supported");t.setResult([t.right]).exit()}else t.setResult(void 0).exit()};w.filterName="trivial";var $=function(t){if("undefined"!==typeof t.delta){if(t.nested=!b(t.delta),!t.nested)if(1!==t.delta.length)if(2!==t.delta.length)3===t.delta.length&&0===t.delta[2]&&t.setResult(void 0).exit();else{if(t.left instanceof RegExp){var e=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(e)return void t.setResult(new RegExp(e[1],e[2])).exit()}t.setResult(t.delta[1]).exit()}else t.setResult(t.delta[0]).exit()}else t.setResult(t.left).exit()};$.filterName="trivial";var _=function(t){"undefined"!==typeof t.delta?(t.nested=!b(t.delta),t.nested||(1!==t.delta.length?2!==t.delta.length?3===t.delta.length&&0===t.delta[2]&&t.setResult([t.delta[0]]).exit():t.setResult([t.delta[1],t.delta[0]]).exit():t.setResult([t.delta[0],0,0]).exit())):t.setResult(t.delta).exit()};function k(t){if(t&&t.children){for(var e=t.children.length,n=void 0,r=t.result,i=0;i<e;i++)"undefined"!==typeof(n=t.children[i]).result&&((r=r||{})[n.childName]=n.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()}}function j(t){if(!t.leftIsArray&&"object"===t.leftType){var e=void 0,n=void 0,r=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(r&&!r(e,t)||(n=new g(t.left[e],t.right[e]),t.push(n,e)));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(r&&!r(e,t)||"undefined"===typeof t.left[e]&&(n=new g(void 0,t.right[e]),t.push(n,e)));t.children&&0!==t.children.length?t.exit():t.setResult(void 0).exit()}}_.filterName="trivial",k.filterName="collectChildren",j.filterName="objects";var O=function(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new m(t.left[e],t.delta[e]),t.push(n,e);t.exit()}};O.filterName="objects";var S=function(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,r=0;r<e;r++)n=t.children[r],Object.prototype.hasOwnProperty.call(t.left,n.childName)&&void 0===n.result?delete t.left[n.childName]:t.left[n.childName]!==n.result&&(t.left[n.childName]=n.result);t.setResult(t.left).exit()}};S.filterName="collectChildren";var C=function(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new y(t.delta[e]),t.push(n,e);t.exit()}};function E(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,r={},i=0;i<e;i++)r[(n=t.children[i]).childName]!==n.result&&(r[n.childName]=n.result);t.setResult(r).exit()}}C.filterName="objects",E.filterName="collectChildren";var M=function(t,e,n,r){return t[n]===e[r]},T=function(t,e,n,r){var i=t.length,o=e.length,a=void 0,s=void 0,c=[i+1];for(a=0;a<i+1;a++)for(c[a]=[o+1],s=0;s<o+1;s++)c[a][s]=0;for(c.match=n,a=1;a<i+1;a++)for(s=1;s<o+1;s++)n(t,e,a-1,s-1,r)?c[a][s]=c[a-1][s-1]+1:c[a][s]=Math.max(c[a-1][s],c[a][s-1]);return c},R=function(t,e,n,r){for(var i=e.length,o=n.length,a={sequence:[],indices1:[],indices2:[]};0!==i&&0!==o;)t.match(e,n,i-1,o-1,r)?(a.sequence.unshift(e[i-1]),a.indices1.unshift(i-1),a.indices2.unshift(o-1),--i,--o):t[i][o-1]>t[i-1][o]?--o:--i;return a},A={get:function(t,e,n,r){var i=r||{},o=T(t,e,n||M,i),a=R(o,t,e,i);return"string"===typeof t&&"string"===typeof e&&(a.sequence=a.sequence.join("")),a}},N=3,P="function"===typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},I="function"===typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]===e)return r;return-1};function z(t,e,n,r){for(var i=0;i<n;i++)for(var o=t[i],a=0;a<r;a++){var s=e[a];if(i!==a&&o===s)return!0}}function D(t,e,r,i,o){var a=t[r],s=e[i];if(a===s)return!0;if("object"!==("undefined"===typeof a?"undefined":n(a))||"object"!==("undefined"===typeof s?"undefined":n(s)))return!1;var c=o.objectHash;if(!c)return o.matchByPosition&&r===i;var u=void 0,l=void 0;return"number"===typeof r?(o.hashCache1=o.hashCache1||[],"undefined"===typeof(u=o.hashCache1[r])&&(o.hashCache1[r]=u=c(a,r))):u=c(a),"undefined"!==typeof u&&("number"===typeof i?(o.hashCache2=o.hashCache2||[],"undefined"===typeof(l=o.hashCache2[i])&&(o.hashCache2[i]=l=c(s,i))):l=c(s),"undefined"!==typeof l&&u===l)}var B=function(t){if(t.leftIsArray){var e={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},n=0,r=0,i=void 0,o=void 0,a=void 0,s=t.left,c=t.right,u=s.length,l=c.length,f=void 0;for(u>0&&l>0&&!e.objectHash&&"boolean"!==typeof e.matchByPosition&&(e.matchByPosition=!z(s,c,u,l));n<u&&n<l&&D(s,c,n,n,e);)i=n,f=new g(t.left[i],t.right[i]),t.push(f,i),n++;for(;r+n<u&&r+n<l&&D(s,c,u-1-r,l-1-r,e);)o=u-1-r,a=l-1-r,f=new g(t.left[o],t.right[a]),t.push(f,a),r++;var h=void 0;if(n+r!==u)if(n+r!==l){delete e.hashCache1,delete e.hashCache2;var d=s.slice(n,u-r),p=c.slice(n,l-r),v=A.get(d,p,D,e),m=[];for(h=h||{_t:"a"},i=n;i<u-r;i++)I(v.indices1,i-n)<0&&(h["_"+i]=[s[i],0,0],m.push(i));var y=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(y=!1);var b=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(b=!0);var x=m.length;for(i=n;i<l-r;i++){var w=I(v.indices2,i-n);if(w<0){var $=!1;if(y&&x>0)for(var _=0;_<x;_++)if(D(d,p,(o=m[_])-n,i-n,e)){h["_"+o].splice(1,2,i,N),b||(h["_"+o][0]=""),a=i,f=new g(t.left[o],t.right[a]),t.push(f,a),m.splice(_,1),$=!0;break}$||(h[i]=[c[i]])}else o=v.indices1[w]+n,a=v.indices2[w]+n,f=new g(t.left[o],t.right[a]),t.push(f,a)}t.setResult(h).exit()}else{for(h=h||{_t:"a"},i=n;i<u-r;i++)h["_"+i]=[s[i],0,0];t.setResult(h).exit()}else{if(u===l)return void t.setResult(void 0).exit();for(h=h||{_t:"a"},i=n;i<l-r;i++)h[i]=[c[i]];t.setResult(h).exit()}}};B.filterName="arrays";var q={numerically:function(t,e){return t-e},numericallyBy:function(t){return function(e,n){return e[t]-n[t]}}},F=function(t){if(t.nested&&"a"===t.delta._t){var e=void 0,n=void 0,r=t.delta,i=t.left,o=[],a=[],s=[];for(e in r)if("_t"!==e)if("_"===e[0]){if(0!==r[e][2]&&r[e][2]!==N)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+r[e][2]);o.push(parseInt(e.slice(1),10))}else 1===r[e].length?a.push({index:parseInt(e,10),value:r[e][0]}):s.push({index:parseInt(e,10),delta:r[e]});for(e=(o=o.sort(q.numerically)).length-1;e>=0;e--){var c=r["_"+(n=o[e])],u=i.splice(n,1)[0];c[2]===N&&a.push({index:c[1],value:u})}var l=(a=a.sort(q.numericallyBy("index"))).length;for(e=0;e<l;e++){var f=a[e];i.splice(f.index,0,f.value)}var h=s.length,d=void 0;if(h>0)for(e=0;e<h;e++){var p=s[e];d=new m(t.left[p.index],p.delta),t.push(d,p.index)}t.children?t.exit():t.setResult(t.left).exit()}};F.filterName="arrays";var L=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,r=0;r<e;r++)n=t.children[r],t.left[n.childName]=n.result;t.setResult(t.left).exit()}};L.filterName="arraysCollectChildren";var U=function(t){if(t.nested){if("a"===t.delta._t){var e=void 0,n=void 0;for(e in t.delta)"_t"!==e&&(n=new y(t.delta[e]),t.push(n,e));t.exit()}}else t.delta[2]===N&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),N]).exit())};U.filterName="arrays";var J=function(t,e,n){if("string"===typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(P(n)&&0===n[2])return"_"+e;var r=+e;for(var i in t){var o=t[i];if(P(o))if(o[2]===N){var a=parseInt(i.substr(1),10),s=o[1];if(s===+e)return a;a<=r&&s>r?r++:a>=r&&s<r&&r--}else 0===o[2]?parseInt(i.substr(1),10)<=r&&r++:1===o.length&&i<=r&&r--}return r};function V(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,r={_t:"a"},i=0;i<e;i++){var o=(n=t.children[i]).newName;"undefined"===typeof o&&(o=J(t.delta,n.childName,n.result)),r[o]!==n.result&&(r[o]=n.result)}t.setResult(r).exit()}}V.filterName="arraysCollectChildren";var K=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};function G(t,e){return t(e={exports:{}},e.exports),e.exports}K.filterName="dates";var H=G((function(t){function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var n=-1,r=1,i=0;e.prototype.diff_main=function(t,e,n,r){"undefined"==typeof r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[i,t]]:[];"undefined"==typeof n&&(n=!0);var a=n,s=this.diff_commonPrefix(t,e),c=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var u=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var l=this.diff_compute_(t,e,a,o);return c&&l.unshift([i,c]),u&&l.push([i,u]),this.diff_cleanupMerge(l),l},e.prototype.diff_compute_=function(t,e,o,a){var s;if(!t)return[[r,e]];if(!e)return[[n,t]];var c=t.length>e.length?t:e,u=t.length>e.length?e:t,l=c.indexOf(u);if(-1!=l)return s=[[r,c.substring(0,l)],[i,u],[r,c.substring(l+u.length)]],t.length>e.length&&(s[0][0]=s[2][0]=n),s;if(1==u.length)return[[n,t],[r,e]];var f=this.diff_halfMatch_(t,e);if(f){var h=f[0],d=f[1],p=f[2],v=f[3],g=f[4],m=this.diff_main(h,p,o,a),y=this.diff_main(d,v,o,a);return m.concat([[i,g]],y)}return o&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,a):this.diff_bisect_(t,e,a)},e.prototype.diff_lineMode_=function(t,e,o){t=(d=this.diff_linesToChars_(t,e)).chars1,e=d.chars2;var a=d.lineArray,s=this.diff_main(t,e,!1,o);this.diff_charsToLines_(s,a),this.diff_cleanupSemantic(s),s.push([i,""]);for(var c=0,u=0,l=0,f="",h="";c<s.length;){switch(s[c][0]){case r:l++,h+=s[c][1];break;case n:u++,f+=s[c][1];break;case i:if(u>=1&&l>=1){s.splice(c-u-l,u+l),c=c-u-l;for(var d,p=(d=this.diff_main(f,h,!1,o)).length-1;p>=0;p--)s.splice(c,0,d[p]);c+=d.length}l=0,u=0,f="",h=""}c++}return s.pop(),s},e.prototype.diff_bisect_=function(t,e,i){for(var o=t.length,a=e.length,s=Math.ceil((o+a)/2),c=s,u=2*s,l=new Array(u),f=new Array(u),h=0;h<u;h++)l[h]=-1,f[h]=-1;l[c+1]=0,f[c+1]=0;for(var d=o-a,p=d%2!=0,v=0,g=0,m=0,y=0,b=0;b<s&&!((new Date).getTime()>i);b++){for(var x=-b+v;x<=b-g;x+=2){for(var w=c+x,$=(S=x==-b||x!=b&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-x;S<o&&$<a&&t.charAt(S)==e.charAt($);)S++,$++;if(l[w]=S,S>o)g+=2;else if($>a)v+=2;else if(p&&(j=c+d-x)>=0&&j<u&&-1!=f[j]&&S>=(k=o-f[j]))return this.diff_bisectSplit_(t,e,S,$,i)}for(var _=-b+m;_<=b-y;_+=2){for(var k,j=c+_,O=(k=_==-b||_!=b&&f[j-1]<f[j+1]?f[j+1]:f[j-1]+1)-_;k<o&&O<a&&t.charAt(o-k-1)==e.charAt(a-O-1);)k++,O++;if(f[j]=k,k>o)y+=2;else if(O>a)m+=2;else if(!p){var S;if((w=c+d-_)>=0&&w<u&&-1!=l[w]&&($=c+(S=l[w])-w,S>=(k=o-k)))return this.diff_bisectSplit_(t,e,S,$,i)}}}return[[n,t],[r,e]]},e.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),c=e.substring(r),u=this.diff_main(o,a,!1,i),l=this.diff_main(s,c,!1,i);return u.concat(l)},e.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function i(t){for(var e="",i=0,o=-1,a=n.length;o<t.length-1;){-1==(o=t.indexOf("\n",i))&&(o=t.length-1);var s=t.substring(i,o+1);i=o+1,(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?e+=String.fromCharCode(r[s]):(e+=String.fromCharCode(a),r[s]=a,n[a++]=s)}return e}return n[0]="",{chars1:i(t),chars2:i(e),lineArray:n}},e.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],o=0;o<r.length;o++)i[o]=e[r.charCodeAt(o)];t[n][1]=i.join("")}},e.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},e.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},e.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,a=1;;){var s=t.substring(i-a),c=e.indexOf(s);if(-1==c)return o;a+=c,0!=c&&t.substring(i-a)!=e.substring(0,a)||(o=a,a++)}},e.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(t,e,n){for(var r,o,a,s,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,l="";-1!=(u=e.indexOf(c,u+1));){var f=i.diff_commonPrefix(t.substring(n),e.substring(u)),h=i.diff_commonSuffix(t.substring(0,n),e.substring(0,u));l.length<h+f&&(l=e.substring(u-h,u)+e.substring(u,u+f),r=t.substring(0,n-h),o=t.substring(n+f),a=e.substring(0,u-h),s=e.substring(u+f))}return 2*l.length>=t.length?[r,o,a,s,l]:null}var a,s,c,u,l,f=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));return f||h?(a=h?f&&f[4].length>h[4].length?f:h:f,t.length>e.length?(s=a[0],c=a[1],u=a[2],l=a[3]):(u=a[0],l=a[1],s=a[2],c=a[3]),[s,c,u,l,a[4]]):null},e.prototype.diff_cleanupSemantic=function(t){for(var e=!1,o=[],a=0,s=null,c=0,u=0,l=0,f=0,h=0;c<t.length;)t[c][0]==i?(o[a++]=c,u=f,l=h,f=0,h=0,s=t[c][1]):(t[c][0]==r?f+=t[c][1].length:h+=t[c][1].length,s&&s.length<=Math.max(u,l)&&s.length<=Math.max(f,h)&&(t.splice(o[a-1],0,[n,s]),t[o[a-1]+1][0]=r,a--,c=--a>0?o[a-1]:-1,u=0,l=0,f=0,h=0,s=null,e=!0)),c++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),c=1;c<t.length;){if(t[c-1][0]==n&&t[c][0]==r){var d=t[c-1][1],p=t[c][1],v=this.diff_commonOverlap_(d,p),g=this.diff_commonOverlap_(p,d);v>=g?(v>=d.length/2||v>=p.length/2)&&(t.splice(c,0,[i,p.substring(0,v)]),t[c-1][1]=d.substring(0,d.length-v),t[c+1][1]=p.substring(v),c++):(g>=d.length/2||g>=p.length/2)&&(t.splice(c,0,[i,d.substring(0,g)]),t[c-1][0]=r,t[c-1][1]=p.substring(0,p.length-g),t[c+1][0]=n,t[c+1][1]=d.substring(g),c++),c++}c++}},e.prototype.diff_cleanupSemanticLossless=function(t){function n(t,n){if(!t||!n)return 6;var r=t.charAt(t.length-1),i=n.charAt(0),o=r.match(e.nonAlphaNumericRegex_),a=i.match(e.nonAlphaNumericRegex_),s=o&&r.match(e.whitespaceRegex_),c=a&&i.match(e.whitespaceRegex_),u=s&&r.match(e.linebreakRegex_),l=c&&i.match(e.linebreakRegex_),f=u&&t.match(e.blanklineEndRegex_),h=l&&n.match(e.blanklineStartRegex_);return f||h?5:u||l?4:o&&!s&&c?3:s||c?2:o||a?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==i&&t[r+1][0]==i){var o=t[r-1][1],a=t[r][1],s=t[r+1][1],c=this.diff_commonSuffix(o,a);if(c){var u=a.substring(a.length-c);o=o.substring(0,o.length-c),a=u+a.substring(0,a.length-c),s=u+s}for(var l=o,f=a,h=s,d=n(o,a)+n(a,s);a.charAt(0)===s.charAt(0);){o+=a.charAt(0),a=a.substring(1)+s.charAt(0),s=s.substring(1);var p=n(o,a)+n(a,s);p>=d&&(d=p,l=o,f=a,h=s)}t[r-1][1]!=l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=f,h?t[r+1][1]=h:(t.splice(r+1,1),r--))}r++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,o=[],a=0,s=null,c=0,u=!1,l=!1,f=!1,h=!1;c<t.length;)t[c][0]==i?(t[c][1].length<this.Diff_EditCost&&(f||h)?(o[a++]=c,u=f,l=h,s=t[c][1]):(a=0,s=null),f=h=!1):(t[c][0]==n?h=!0:f=!0,s&&(u&&l&&f&&h||s.length<this.Diff_EditCost/2&&u+l+f+h==3)&&(t.splice(o[a-1],0,[n,s]),t[o[a-1]+1][0]=r,a--,s=null,u&&l?(f=h=!0,a=0):(c=--a>0?o[a-1]:-1,f=h=!1),e=!0)),c++;e&&this.diff_cleanupMerge(t)},e.prototype.diff_cleanupMerge=function(t){t.push([i,""]);for(var e,o=0,a=0,s=0,c="",u="";o<t.length;)switch(t[o][0]){case r:s++,u+=t[o][1],o++;break;case n:a++,c+=t[o][1],o++;break;case i:a+s>1?(0!==a&&0!==s&&(0!==(e=this.diff_commonPrefix(u,c))&&(o-a-s>0&&t[o-a-s-1][0]==i?t[o-a-s-1][1]+=u.substring(0,e):(t.splice(0,0,[i,u.substring(0,e)]),o++),u=u.substring(e),c=c.substring(e)),0!==(e=this.diff_commonSuffix(u,c))&&(t[o][1]=u.substring(u.length-e)+t[o][1],u=u.substring(0,u.length-e),c=c.substring(0,c.length-e))),0===a?t.splice(o-s,a+s,[r,u]):0===s?t.splice(o-a,a+s,[n,c]):t.splice(o-a-s,a+s,[n,c],[r,u]),o=o-a-s+(a?1:0)+(s?1:0)+1):0!==o&&t[o-1][0]==i?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,s=0,a=0,c="",u=""}""===t[t.length-1][1]&&t.pop();var l=!1;for(o=1;o<t.length-1;)t[o-1][0]==i&&t[o+1][0]==i&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)==t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),l=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),l=!0)),o++;l&&this.diff_cleanupMerge(t)},e.prototype.diff_xIndex=function(t,e){var i,o=0,a=0,s=0,c=0;for(i=0;i<t.length&&(t[i][0]!==r&&(o+=t[i][1].length),t[i][0]!==n&&(a+=t[i][1].length),!(o>e));i++)s=o,c=a;return t.length!=i&&t[i][0]===n?c:c+(e-s)},e.prototype.diff_prettyHtml=function(t){for(var e=[],o=/&/g,a=/</g,s=/>/g,c=/\n/g,u=0;u<t.length;u++){var l=t[u][0],f=t[u][1].replace(o,"&amp;").replace(a,"&lt;").replace(s,"&gt;").replace(c,"&para;<br>");switch(l){case r:e[u]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case n:e[u]='<del style="background:#ffe6e6;">'+f+"</del>";break;case i:e[u]="<span>"+f+"</span>"}}return e.join("")},e.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)t[n][0]!==r&&(e[n]=t[n][1]);return e.join("")},e.prototype.diff_text2=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]!==n&&(e[r]=t[r][1]);return e.join("")},e.prototype.diff_levenshtein=function(t){for(var e=0,o=0,a=0,s=0;s<t.length;s++){var c=t[s][0],u=t[s][1];switch(c){case r:o+=u.length;break;case n:a+=u.length;break;case i:e+=Math.max(o,a),o=0,a=0}}return e+=Math.max(o,a)},e.prototype.diff_toDelta=function(t){for(var e=[],o=0;o<t.length;o++)switch(t[o][0]){case r:e[o]="+"+encodeURI(t[o][1]);break;case n:e[o]="-"+t[o][1].length;break;case i:e[o]="="+t[o][1].length}return e.join("\t").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(t,e){for(var o=[],a=0,s=0,c=e.split(/\t/g),u=0;u<c.length;u++){var l=c[u].substring(1);switch(c[u].charAt(0)){case"+":try{o[a++]=[r,decodeURI(l)]}catch(d){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var f=parseInt(l,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+l);var h=t.substring(s,s+=f);"="==c[u].charAt(0)?o[a++]=[i,h]:o[a++]=[n,h];break;default:if(c[u])throw new Error("Invalid diff operation in diff_fromDelta: "+c[u])}}if(s!=t.length)throw new Error("Delta length ("+s+") does not equal source text length ("+t.length+").");return o},e.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},e.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this;function o(t,r){var o=t/e.length,a=Math.abs(n-r);return i.Match_Distance?o+a/i.Match_Distance:a?1:o}var a=this.Match_Threshold,s=t.indexOf(e,n);-1!=s&&(a=Math.min(o(0,s),a),-1!=(s=t.lastIndexOf(e,n+e.length))&&(a=Math.min(o(0,s),a)));var c,u,l=1<<e.length-1;s=-1;for(var f,h=e.length+t.length,d=0;d<e.length;d++){for(c=0,u=h;c<u;)o(d,n+u)<=a?c=u:h=u,u=Math.floor((h-c)/2+c);h=u;var p=Math.max(1,n-u+1),v=Math.min(n+u,t.length)+e.length,g=Array(v+2);g[v+1]=(1<<d)-1;for(var m=v;m>=p;m--){var y=r[t.charAt(m-1)];if(g[m]=0===d?(g[m+1]<<1|1)&y:(g[m+1]<<1|1)&y|(f[m+1]|f[m])<<1|1|f[m+1],g[m]&l){var b=o(d,m-1);if(b<=a){if(a=b,!((s=m-1)>n))break;p=Math.max(1,2*n-s)}}}if(o(d+1,n)>a)break;f=g}return s},e.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},e.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var o=e.substring(t.start2-r,t.start2);o&&t.diffs.unshift([i,o]);var a=e.substring(t.start2+t.length1,t.start2+t.length1+r);a&&t.diffs.push([i,a]),t.start1-=o.length,t.start2-=o.length,t.length1+=o.length+a.length,t.length2+=o.length+a.length}},e.prototype.patch_make=function(t,o,a){var s,c;if("string"==typeof t&&"string"==typeof o&&"undefined"==typeof a)s=t,(c=this.diff_main(s,o,!0)).length>2&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(t&&"object"==x(t)&&"undefined"==typeof o&&"undefined"==typeof a)c=t,s=this.diff_text1(c);else if("string"==typeof t&&o&&"object"==x(o)&&"undefined"==typeof a)s=t,c=o;else{if("string"!=typeof t||"string"!=typeof o||!a||"object"!=x(a))throw new Error("Unknown call format to patch_make.");s=t,c=a}if(0===c.length)return[];for(var u=[],l=new e.patch_obj,f=0,h=0,d=0,p=s,v=s,g=0;g<c.length;g++){var m=c[g][0],y=c[g][1];switch(f||m===i||(l.start1=h,l.start2=d),m){case r:l.diffs[f++]=c[g],l.length2+=y.length,v=v.substring(0,d)+y+v.substring(d);break;case n:l.length1+=y.length,l.diffs[f++]=c[g],v=v.substring(0,d)+v.substring(d+y.length);break;case i:y.length<=2*this.Patch_Margin&&f&&c.length!=g+1?(l.diffs[f++]=c[g],l.length1+=y.length,l.length2+=y.length):y.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(l,p),u.push(l),l=new e.patch_obj,f=0,p=v,h=d)}m!==r&&(h+=y.length),m!==n&&(d+=y.length)}return f&&(this.patch_addContext_(l,p),u.push(l)),u},e.prototype.patch_deepCopy=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=new e.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=i.diffs[a].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},e.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var o=this.patch_addPadding(t);e=o+e+o,this.patch_splitMax(t);for(var a=0,s=[],c=0;c<t.length;c++){var u,l,f=t[c].start2+a,h=this.diff_text1(t[c].diffs),d=-1;if(h.length>this.Match_MaxBits?-1!=(u=this.match_main(e,h.substring(0,this.Match_MaxBits),f))&&(-1==(d=this.match_main(e,h.substring(h.length-this.Match_MaxBits),f+h.length-this.Match_MaxBits))||u>=d)&&(u=-1):u=this.match_main(e,h,f),-1==u)s[c]=!1,a-=t[c].length2-t[c].length1;else if(s[c]=!0,a=u-f,h==(l=-1==d?e.substring(u,u+h.length):e.substring(u,d+this.Match_MaxBits)))e=e.substring(0,u)+this.diff_text2(t[c].diffs)+e.substring(u+h.length);else{var p=this.diff_main(h,l,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(p)/h.length>this.Patch_DeleteThreshold)s[c]=!1;else{this.diff_cleanupSemanticLossless(p);for(var v,g=0,m=0;m<t[c].diffs.length;m++){var y=t[c].diffs[m];y[0]!==i&&(v=this.diff_xIndex(p,g)),y[0]===r?e=e.substring(0,u+v)+y[1]+e.substring(u+v):y[0]===n&&(e=e.substring(0,u+v)+e.substring(u+this.diff_xIndex(p,g+y[1].length))),y[0]!==n&&(g+=y[1].length)}}}}return[e=e.substring(o.length,e.length-o.length),s]},e.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var o=t[0],a=o.diffs;if(0==a.length||a[0][0]!=i)a.unshift([i,n]),o.start1-=e,o.start2-=e,o.length1+=e,o.length2+=e;else if(e>a[0][1].length){var s=e-a[0][1].length;a[0][1]=n.substring(a[0][1].length)+a[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}return 0==(a=(o=t[t.length-1]).diffs).length||a[a.length-1][0]!=i?(a.push([i,n]),o.length1+=e,o.length2+=e):e>a[a.length-1][1].length&&(s=e-a[a.length-1][1].length,a[a.length-1][1]+=n.substring(0,s),o.length1+=s,o.length2+=s),n},e.prototype.patch_splitMax=function(t){for(var o=this.Match_MaxBits,a=0;a<t.length;a++)if(!(t[a].length1<=o)){var s=t[a];t.splice(a--,1);for(var c=s.start1,u=s.start2,l="";0!==s.diffs.length;){var f=new e.patch_obj,h=!0;for(f.start1=c-l.length,f.start2=u-l.length,""!==l&&(f.length1=f.length2=l.length,f.diffs.push([i,l]));0!==s.diffs.length&&f.length1<o-this.Patch_Margin;){var d=s.diffs[0][0],p=s.diffs[0][1];d===r?(f.length2+=p.length,u+=p.length,f.diffs.push(s.diffs.shift()),h=!1):d===n&&1==f.diffs.length&&f.diffs[0][0]==i&&p.length>2*o?(f.length1+=p.length,c+=p.length,h=!1,f.diffs.push([d,p]),s.diffs.shift()):(p=p.substring(0,o-f.length1-this.Patch_Margin),f.length1+=p.length,c+=p.length,d===i?(f.length2+=p.length,u+=p.length):h=!1,f.diffs.push([d,p]),p==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(p.length))}l=(l=this.diff_text2(f.diffs)).substring(l.length-this.Patch_Margin);var v=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);""!==v&&(f.length1+=v.length,f.length2+=v.length,0!==f.diffs.length&&f.diffs[f.diffs.length-1][0]===i?f.diffs[f.diffs.length-1][1]+=v:f.diffs.push([i,v])),h||t.splice(++a,0,f)}}},e.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},e.prototype.patch_fromText=function(t){var o=[];if(!t)return o;for(var a=t.split("\n"),s=0,c=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<a.length;){var u=a[s].match(c);if(!u)throw new Error("Invalid patch string: "+a[s]);var l=new e.patch_obj;for(o.push(l),l.start1=parseInt(u[1],10),""===u[2]?(l.start1--,l.length1=1):"0"==u[2]?l.length1=0:(l.start1--,l.length1=parseInt(u[2],10)),l.start2=parseInt(u[3],10),""===u[4]?(l.start2--,l.length2=1):"0"==u[4]?l.length2=0:(l.start2--,l.length2=parseInt(u[4],10)),s++;s<a.length;){var f=a[s].charAt(0);try{var h=decodeURI(a[s].substring(1))}catch(d){throw new Error("Illegal escape in patch_fromText: "+h)}if("-"==f)l.diffs.push([n,h]);else if("+"==f)l.diffs.push([r,h]);else if(" "==f)l.diffs.push([i,h]);else{if("@"==f)break;if(""!==f)throw new Error('Invalid patch mode "'+f+'" in: '+h)}s++}}return o},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case r:t="+";break;case n:t="-";break;case i:t=" "}e[o+1]=t+encodeURI(this.diffs[o][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=r,t.exports.DIFF_EQUAL=i})),W=2,Y=60,Q=null,Z=function(t){if(!Q){var e=void 0;if("undefined"!==typeof diff_match_patch)e="function"===typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(H)try{e=H&&new H}catch(Xo){e=null}if(!e){if(!t)return null;var n=new Error("text diff_match_patch library not found");throw n.diff_match_patch_not_found=!0,n}Q={diff:function(t,n){return e.patch_toText(e.patch_make(t,n))},patch:function(t,n){for(var r=e.patch_apply(e.patch_fromText(n),t),i=0;i<r[1].length;i++)r[1][i]||(new Error("text patch failed").textPatchFailed=!0);return r[0]}}}return Q},X=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||Y;if(t.left.length<e||t.right.length<e)t.setResult([t.left,t.right]).exit();else{var n=Z();if(n){var r=n.diff;t.setResult([r(t.left,t.right),0,W]).exit()}else t.setResult([t.left,t.right]).exit()}}};X.filterName="texts";var tt=function(t){if(!t.nested&&t.delta[2]===W){var e=Z(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};tt.filterName="texts";var et=function(t){var e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=null,s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(e=0,n=(r=t.split("\n")).length;e<n;e++){var c=(i=r[e]).slice(0,1);"@"===c?(a=s.exec(i),r[e]="@@ -"+a[3]+","+a[4]+" +"+a[1]+","+a[2]+" @@"):"+"===c?(r[e]="-"+r[e].slice(1),"+"===r[e-1].slice(0,1)&&(o=r[e],r[e]=r[e-1],r[e-1]=o)):"-"===c&&(r[e]="+"+r[e].slice(1))}return r.join("\n")},nt=function(t){t.nested||t.delta[2]===W&&t.setResult([et(t.delta[0]),0,W]).exit()};nt.filterName="texts";var rt=function(){function t(e){r(this,t),this.processor=new l(e),this.processor.pipe(new f("diff").append(k,w,K,X,j,B).shouldHaveResult()),this.processor.pipe(new f("patch").append(S,L,$,tt,O,F).shouldHaveResult()),this.processor.pipe(new f("reverse").append(E,V,_,nt,C,U).shouldHaveResult())}return i(t,[{key:"options",value:function(){var t;return(t=this.processor).options.apply(t,arguments)}},{key:"diff",value:function(t,e){return this.processor.process(new g(t,e))}},{key:"patch",value:function(t,e){return this.processor.process(new m(t,e))}},{key:"reverse",value:function(t){return this.processor.process(new y(t))}},{key:"unpatch",value:function(t,e){return this.patch(t,this.reverse(e))}},{key:"clone",value:function(t){return v(t)}}]),t}(),it="function"===typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},ot="function"===typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},at=function(t){return"_"===t.substr(0,1)?t.slice(1):t},st=function(t){return"_t"===t?-1:"_"===t.substr(0,1)?parseInt(t.slice(1),10):parseInt(t,10)+.1},ct=function(t,e){return st(t)-st(e)},ut=function(){function t(){r(this,t)}return i(t,[{key:"format",value:function(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),this.finalize(n)}},{key:"prepareContext",value:function(t){t.buffer=[],t.out=function(){var t;(t=this.buffer).push.apply(t,arguments)}}},{key:"typeFormattterNotFound",value:function(t,e){throw new Error("cannot format delta type: "+e)}},{key:"typeFormattterErrorFormatter",value:function(t,e){return e.toString()}},{key:"finalize",value:function(t){var e=t.buffer;if(it(e))return e.join("")}},{key:"recurse",value:function(t,e,n,r,i,o,a){var s=e&&o?o.value:n;if("undefined"!==typeof e||"undefined"!==typeof r){var c=this.getDeltaType(e,o),u="node"===c?"a"===e._t?"array":"object":"";"undefined"!==typeof r?this.nodeBegin(t,r,i,c,u,a):this.rootBegin(t,c,u);try{(this["format_"+c]||this.typeFormattterNotFound(t,c)).call(this,t,e,s,r,i,o)}catch(Xo){this.typeFormattterErrorFormatter(t,Xo,e,s,r,i,o),"undefined"!==typeof console&&console.error&&console.error(Xo.stack)}"undefined"!==typeof r?this.nodeEnd(t,r,i,c,u,a):this.rootEnd(t,c,u)}}},{key:"formatDeltaChildren",value:function(t,e,n){var r=this;this.forEachDeltaKey(e,n,(function(i,o,a,s){r.recurse(t,e[i],n?n[o]:void 0,i,o,a,s)}))}},{key:"forEachDeltaKey",value:function(t,e,n){var r=ot(t),i="a"===t._t,o={},a=void 0;if("undefined"!==typeof e)for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&("undefined"!==typeof t[a]||i&&"undefined"!==typeof t["_"+a]||r.push(a));for(a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=t[a];it(s)&&3===s[2]&&(o[s[1].toString()]={key:a,value:e&&e[parseInt(a.substr(1))]},!1!==this.includeMoveDestinations&&"undefined"===typeof e&&"undefined"===typeof t[s[1]]&&r.push(s[1].toString()))}i?r.sort(ct):r.sort();for(var c=0,u=r.length;c<u;c++){var l=r[c];if(!i||"_t"!==l){var f=i?"number"===typeof l?l:parseInt(at(l),10):l,h=c===u-1;n(l,f,o[f],h)}}}},{key:"getDeltaType",value:function(t,e){if("undefined"===typeof t)return"undefined"!==typeof e?"movedestination":"unchanged";if(it(t)){if(1===t.length)return"added";if(2===t.length)return"modified";if(3===t.length&&0===t[2])return"deleted";if(3===t.length&&2===t[2])return"textdiff";if(3===t.length&&3===t[2])return"moved"}else if("object"===("undefined"===typeof t?"undefined":n(t)))return"node";return"unknown"}},{key:"parseTextDiff",value:function(t){for(var e=[],n=t.split("\n@@ "),r=0,i=n.length;r<i;r++){var o=n[r],a={pieces:[]},s=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(o).slice(1);a.location={line:s[0],chr:s[1]};for(var c=o.split("\n").slice(1),u=0,l=c.length;u<l;u++){var f=c[u];if(f.length){var h={type:"context"};"+"===f.substr(0,1)?h.type="added":"-"===f.substr(0,1)&&(h.type="deleted"),h.text=f.slice(1),a.pieces.push(h)}}e.push(a)}return e}}]),t}(),lt=Object.freeze({default:ut}),ft=function(t){function e(){return r(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),i(e,[{key:"typeFormattterErrorFormatter",value:function(t,e){t.out('<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatValue",value:function(t,e){t.out("<pre>"+ht(JSON.stringify(e,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var o=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var a=o.pieces,s=0,c=a.length;s<c;s++){var u=a[s];t.out('<span class="jsondiffpatch-textdiff-'+u.type+'">'+ht(decodeURI(u.text))+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,e,n){var r="jsondiffpatch-"+e+(n?" jsondiffpatch-child-node-type-"+n:"");t.out('<div class="jsondiffpatch-delta '+r+'">')}},{key:"rootEnd",value:function(t){t.out("</div>"+(t.hasArrows?'<script type="text/javascript">setTimeout('+dt.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function(t,e,n,r,i){var o="jsondiffpatch-"+r+(i?" jsondiffpatch-child-node-type-"+i:"");t.out('<li class="'+o+'" data-key="'+n+'"><div class="jsondiffpatch-property-name">'+n+"</div>")}},{key:"nodeEnd",value:function(t){t.out("</li>")}},{key:"format_unchanged",value:function(t,e,n){"undefined"!==typeof n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))}},{key:"format_movedestination",value:function(t,e,n){"undefined"!==typeof n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))}},{key:"format_node",value:function(t,e,n){var r="a"===e._t?"array":"object";t.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+r+'">'),this.formatDeltaChildren(t,e,n),t.out("</ul>")}},{key:"format_added",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_modified",value:function(t,e){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,e[1]),t.out("</div>")}},{key:"format_deleted",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_moved",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-moved-destination">'+e[1]+"</div>"),t.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),t.hasArrows=!0}},{key:"format_textdiff",value:function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,e[0]),t.out("</div>")}}]),e}(ut);function ht(t){for(var e=t,n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],r=0;r<n.length;r++)e=e.replace(n[r][0],n[r][1]);return e}var dt=function(t){var e=t||document,n=function(t){var e=t.textContent,n=t.innerText;return e||n},r=function(t,e){for(var n=t.children,r=0,i=n.length;r<i;r++)e(n[r],r)};!function(t,e,n){for(var r=t.querySelectorAll(e),i=0,o=r.length;i<o;i++)n(r[i])}(e,".jsondiffpatch-arrow",(function(t){var e=t.parentNode,i=t.children,o=t.style,a=e,s=i[0],c=s.children[1];s.style.display="none";var u=n(a.querySelector(".jsondiffpatch-moved-destination")),l=a.parentNode,f=void 0;if(r(l,(function(t){t.getAttribute("data-key")===u&&(f=t)})),f)try{var h=f.offsetTop-a.offsetTop;s.setAttribute("height",Math.abs(h)+6),o.top=-8+(h>0?0:h)+"px";var d=h>0?"M30,0 Q-10,"+Math.round(h/2)+" 26,"+(h-4):"M30,"+-h+" Q-10,"+Math.round(-h/2)+" 26,4";c.setAttribute("d",d),s.style.display=""}catch(Xo){}}))},pt=function(t,e,n){var r=e||document.body,i="jsondiffpatch-unchanged-",o={showing:i+"showing",hiding:i+"hiding",visible:i+"visible",hidden:i+"hidden"},a=r.classList;if(a){if(!n)return a.remove(o.showing),a.remove(o.hiding),a.remove(o.visible),a.remove(o.hidden),void(!1===t&&a.add(o.hidden));!1===t?(a.remove(o.showing),a.add(o.visible),setTimeout((function(){a.add(o.hiding)}),10)):(a.remove(o.hiding),a.add(o.showing),a.remove(o.hidden));var s=setInterval((function(){dt(r)}),100);setTimeout((function(){a.remove(o.showing),a.remove(o.hiding),!1===t?(a.add(o.hidden),a.remove(o.visible)):(a.add(o.visible),a.remove(o.hidden)),setTimeout((function(){a.remove(o.visible),clearInterval(s)}),n+400)}),n)}},vt=function(t,e){return pt(!1,t,e)},gt=void 0;function mt(t,e){return gt||(gt=new ft),gt.format(t,e)}var yt=Object.freeze({showUnchanged:pt,hideUnchanged:vt,default:ft,format:mt}),bt=function(t){function e(){r(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!1,t}return a(e,t),i(e,[{key:"prepareContext",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+("undefined"===typeof t?1:t),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},t.row=function(e,n){t.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),t.out(t.indentPad),t.out('</pre><pre style="display: inline-block">'),t.out(e),t.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),t.out(n),t.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.row("",'<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var o=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var a=o.pieces,s=0,c=a.length;s<c;s++){var u=a[s];t.out('<span class="jsondiffpatch-textdiff-'+u.type+'">'+u.text+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,e,n){t.out('<table class="jsondiffpatch-annotated-delta">'),"node"===e&&(t.row("{"),t.indent()),"array"===n&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(t,e){"node"===e&&(t.indent(-1),t.row("}")),t.out("</table>")}},{key:"nodeBegin",value:function(t,e,n,r,i){t.row("&quot;"+e+"&quot;: {"),"node"===r&&t.indent(),"array"===i&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(t,e,n,r,i,o){"node"===r&&t.indent(-1),t.row("}"+(o?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}}]),e}(ut),xt=function(t){return'<pre style="display:inline-block">&quot;'+t+"&quot;</pre>"},wt={added:function(t,e,n,r){var i=" <pre>([newValue])</pre>";return"undefined"===typeof r?"new value"+i:"number"===typeof r?"insert at index "+r+i:"add property "+xt(r)+i},modified:function(t,e,n,r){var i=" <pre>([previousValue, newValue])</pre>";return"undefined"===typeof r?"modify value"+i:"number"===typeof r?"modify at index "+r+i:"modify property "+xt(r)+i},deleted:function(t,e,n,r){var i=" <pre>([previousValue, 0, 0])</pre>";return"undefined"===typeof r?"delete value"+i:"number"===typeof r?"remove index "+r+i:"delete property "+xt(r)+i},moved:function(t,e,n,r){return'move from <span title="(position to remove at original state)">index '+r+'</span> to <span title="(position to insert at final state)">index '+t[1]+"</span>"},textdiff:function(t,e,n,r){return"text diff"+("undefined"===typeof r?"":"number"===typeof r?" at index "+r:" at property "+xt(r))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},$t=function(t,e){var n=this.getDeltaType(e),r=wt[n],i=r&&r.apply(r,Array.prototype.slice.call(arguments,1)),o=JSON.stringify(e,null,2);"textdiff"===n&&(o=o.split("\\n").join('\\n"+\n   "')),t.indent(),t.row(o,i),t.indent(-1)};bt.prototype.format_added=$t,bt.prototype.format_modified=$t,bt.prototype.format_deleted=$t,bt.prototype.format_moved=$t,bt.prototype.format_textdiff=$t;var _t=void 0;function kt(t,e){return _t||(_t=new bt),_t.format(t,e)}var jt=Object.freeze({default:bt,format:kt}),Ot={add:"add",remove:"remove",replace:"replace",move:"move"},St=function(t){function e(){r(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!0,t}return a(e,t),i(e,[{key:"prepareContext",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.result=[],t.path=[],t.pushCurrentOp=function(t){var e=t.op,n=t.value,r={op:e,path:this.currentPath()};"undefined"!==typeof n&&(r.value=n),this.result.push(r)},t.pushMoveOp=function(t){var e=this.currentPath();this.result.push({op:Ot.move,from:e,path:this.toPath(t)})},t.currentPath=function(){return"/"+this.path.join("/")},t.toPath=function(t){var e=this.path.slice();return e[e.length-1]=t,"/"+e.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.out("[ERROR] "+e)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(t,e,n){t.path.push(n)}},{key:"nodeEnd",value:function(t){t.path.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}},{key:"format_added",value:function(t,e){t.pushCurrentOp({op:Ot.add,value:e[0]})}},{key:"format_modified",value:function(t,e){t.pushCurrentOp({op:Ot.replace,value:e[1]})}},{key:"format_deleted",value:function(t){t.pushCurrentOp({op:Ot.remove})}},{key:"format_moved",value:function(t,e){var n=e[1];t.pushMoveOp(n)}},{key:"format_textdiff",value:function(){throw new Error("Not implemented")}},{key:"format",value:function(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),n.result}}]),e}(ut),Ct=function(t){return t[t.length-1]},Et=function(t,e){return t.sort(e),t},Mt=function(t,e){var n=parseInt(t,10),r=parseInt(e,10);return isNaN(n)||isNaN(r)?0:r-n},Tt=function(t){return Et(t,(function(t,e){var n=t.path.split("/"),r=e.path.split("/");return n.length!==r.length?n.length-r.length:Mt(Ct(n),Ct(r))}))},Rt=function(t,e){var n=Array(e.length+1).fill().map((function(){return[]}));return t.map((function(t){var n=e.map((function(e){return e(t)})).indexOf(!0);return n<0&&(n=e.length),{item:t,position:n}})).reduce((function(t,e){return t[e.position].push(e.item),t}),n)},At=function(t){return"move"===t.op},Nt=function(t){return"remove"===t.op},Pt=function(t){var e=Rt(t,[At,Nt]),n=c(e,3),r=n[0],i=n[1],o=n[2],a=Tt(i);return[].concat(u(a),u(r),u(o))},It=void 0,zt=function(t,e){return It||(It=new St),Pt(It.format(t,e))},Dt=function(t,e){console.log(zt(t,e))},Bt=Object.freeze({default:St,partitionOps:Rt,format:zt,log:Dt});function qt(t){return e&&e[t]||function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}}var Ft={added:qt("green"),deleted:qt("red"),movedestination:qt("gray"),moved:qt("yellow"),unchanged:qt("gray"),error:qt("white.bgRed"),textDiffLine:qt("gray")},Lt=function(t){function e(){r(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.includeMoveDestinations=!1,t}return a(e,t),i(e,[{key:"prepareContext",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+("undefined"===typeof t?1:t),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},t.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},t.out=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e.length;r<i;r++){var o=e[r].split("\n").join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(o=this.color[0](o)),this.buffer.push(o)}},t.pushColor=function(t){this.color=this.color||[],this.color.unshift(t)},t.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(t,e){t.pushColor(Ft.error),t.out("[ERROR]"+e),t.popColor()}},{key:"formatValue",value:function(t,e){t.out(JSON.stringify(e,null,2))}},{key:"formatTextDiffString",value:function(t,e){var n=this.parseTextDiff(e);t.indent();for(var r=0,i=n.length;r<i;r++){var o=n[r];t.pushColor(Ft.textDiffLine),t.out(o.location.line+","+o.location.chr+" "),t.popColor();for(var a=o.pieces,s=0,c=a.length;s<c;s++){var u=a[s];t.pushColor(Ft[u.type]),t.out(u.text),t.popColor()}r<i-1&&t.outLine()}t.indent(-1)}},{key:"rootBegin",value:function(t,e,n){t.pushColor(Ft[e]),"node"===e&&(t.out("array"===n?"[":"{"),t.indent())}},{key:"rootEnd",value:function(t,e,n){"node"===e&&(t.indent(-1),t.out("array"===n?"]":"}")),t.popColor()}},{key:"nodeBegin",value:function(t,e,n,r,i){t.pushColor(Ft[r]),t.out(n+": "),"node"===r&&(t.out("array"===i?"[":"{"),t.indent())}},{key:"nodeEnd",value:function(t,e,n,r,i,o){"node"===r&&(t.indent(-1),t.out("array"===i?"]":"}"+(o?"":","))),o||t.outLine(),t.popColor()}},{key:"format_unchanged",value:function(t,e,n){"undefined"!==typeof n&&this.formatValue(t,n)}},{key:"format_movedestination",value:function(t,e,n){"undefined"!==typeof n&&this.formatValue(t,n)}},{key:"format_node",value:function(t,e,n){this.formatDeltaChildren(t,e,n)}},{key:"format_added",value:function(t,e){this.formatValue(t,e[0])}},{key:"format_modified",value:function(t,e){t.pushColor(Ft.deleted),this.formatValue(t,e[0]),t.popColor(),t.out(" => "),t.pushColor(Ft.added),this.formatValue(t,e[1]),t.popColor()}},{key:"format_deleted",value:function(t,e){this.formatValue(t,e[0])}},{key:"format_moved",value:function(t,e){t.out("==> "+e[1])}},{key:"format_textdiff",value:function(t,e){this.formatTextDiffString(t,e[0])}}]),e}(ut),Ut=void 0,Jt=function(t,e){return Ut||(Ut=new Lt),Ut.format(t,e)};function Vt(t,e){console.log(Jt(t,e))}var Kt=Object.freeze({default:Lt,format:Jt,log:Vt}),Gt=Object.freeze({base:lt,html:yt,annotated:jt,jsonpatch:Bt,console:Kt});function Ht(t,e){var n=void 0;return"string"===typeof e&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):e}function Wt(t){return new rt(t)}var Yt=void 0;function Qt(){return Yt||(Yt=new rt),Yt.diff.apply(Yt,arguments)}function Zt(){return Yt||(Yt=new rt),Yt.patch.apply(Yt,arguments)}function Xt(){return Yt||(Yt=new rt),Yt.unpatch.apply(Yt,arguments)}function te(){return Yt||(Yt=new rt),Yt.reverse.apply(Yt,arguments)}function ee(){return Yt||(Yt=new rt),Yt.clone.apply(Yt,arguments)}t.DiffPatcher=rt,t.formatters=Gt,t.console=Kt,t.create=Wt,t.dateReviver=Ht,t.diff=Qt,t.patch=Zt,t.unpatch=Xt,t.reverse=te,t.clone=ee,Object.defineProperty(t,"__esModule",{value:!0})})(cn.exports,un);var ln=new cn.exports.DiffPatcher({arrays:{detectMove:!1,includeValueOnMove:!1},textDiff:{minLength:1}});function fn(t,e){return ln.diff(t,e)}var hn=["docChanged","isGeneric","scrolledIntoView","selectionSet","storedMarksSet"];function dn(t){return Object.keys(t).concat(hn).reduce((function(e,n){return e[n]=t[n],e}),{})}function pn(t){return{type:t.type,empty:t.empty,anchor:t.anchor,head:t.head,from:t.from,to:t.to}}function vn(t){return("00"+t).slice(-2)}var gn=function(t){var e,n=new Date(t);return[vn(n.getHours()),vn(n.getMinutes()),vn(n.getSeconds()),(e=n.getMilliseconds(),("000"+e).slice(-3))].join(":")},mn=/(&lt;\/?[\w\d\s="']+&gt;)/gim,yn=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(mn,"<span style='color: cadetblue;'>$&</span>")};var bn=qt(new Map),xn=qt([]),wn=qt(void 0);function $n(t,e,n){var i=E(bn),o=E(xn)[0],a=function(t,e,n,r){var i=rn.fromSchema(e.schema),o=e.selection,a=i.serializeFragment(o.content().content),s=[];if(a)for(var c=a.firstChild;c;)s.push(c.outerHTML),c=c.nextSibling;var u=r?r.state:n,l=fn(u.doc.toJSON(),e.doc.toJSON()),f=fn(pn(u.selection),pn(e.selection));return{id:Math.random().toString()+Math.random().toString(),state:e,tr:dn(t),timestamp:t.time,timeStr:gn(t.time),contentDiff:l,selectionDiff:f,selectionHtml:yn(sn.prettyPrint(s.join("\n"),{max_char:60,indent_size:2}))}}(t,e,n,i.get((null===o||void 0===o?void 0:o.topEntryId)||""));bn.update((function(t){return new Map(t.set(a.id,a))})),wn.set(a);var s=!a.contentDiff;if((null===o||void 0===o?void 0:o.isGroup)&&s){var c={isGroup:s,entryIds:[a.id].concat(Object(r.a)(o.entryIds)),topEntryId:a.id,expanded:o.expanded};xn.update((function(t){return[c].concat(Object(r.a)(t.slice(1)))}))}else{var u={isGroup:s,entryIds:[a.id],topEntryId:a.id,expanded:!1};xn.update((function(t){return[u].concat(Object(r.a)(t))}))}}function _n(){bn.set(new Map),xn.set([]),wn.set(void 0)}var kn=["jsonID","empty","anchor","from","head","to"],jn=["$anchor","$head","$cursor","$to","$from"],On=["nodeAfter","nodeBefore","textOffset"];function Sn(t){return kn.reduce((function(e,n){return e[n]=t[n],e}),{})}function Cn(t){return kn.concat(jn).reduce((function(e,n){var r=t[n];if(r&&jn.includes(n)){var i={};On.forEach((function(t){i[t]=r[t]})),r=Object.assign(Object.assign({},r),i)}return e[n]=r,e}),{})}function En(t,e,n,r,i){var o=i?[].concat(y(i.path),[t]):[];return{id:"[".concat(o.join(","),"]"),index:t,key:e,value:n,depth:r+1,collapsed:!0,type:Mn(n),path:o,parentId:i?i.id:null,circularOfId:null,children:[]}}function Mn(t){return Array.isArray(t)?"array":t instanceof Map?"map":t instanceof Set?"set":t instanceof Date?"date":null===t?"null":x(t)}function Tn(t,e,n,r,i,o,a,s,c,u,l){var f;if((null===(f=l.omitKeys)||void 0===f?void 0:f.includes(e))||l.maxDepth&&r>=l.maxDepth)return null;var h=En(t,e,n,r,o),d=s.get(h.id);if(i?h.collapsed=!1:d&&!u?h.collapsed=d.collapsed:l.shouldExpandNode&&(h.collapsed=!l.shouldExpandNode(h)),a.set(h.id,h),function(t,e,n,r){if(!e)return!0;if(t.collapsed&&(null===e||void 0===e?void 0:e.collapsed))return!1;if(!r.stopCircularRecursion)return!0;if(r.isCircularNode)return r.isCircularNode(t,n);if("object"===t.type||"array"===t.type){var i=n.get(t.value);if(i&&t.id!==i.id)return t.circularOfId=i.id,!1;n.set(t.value,t)}return!0}(h,o,c,l)){var p=l.mapChildren&&l.mapChildren(n,Mn(n),h),v=null!==p&&void 0!==p?p:function(t,e){switch(e){case"array":return t.map((function(t,e){return[e.toString(),t]}));case"map":return Array.from(t.entries()).map((function(t,e){var n=m(t,2),r=n[0],i=n[1];return["[map entry ".concat(e,"]"),{"[key]":r,"[value]":i}]}));case"set":return Array.from(t.values()).map((function(t,e){return["[set entry ".concat(e,"]"),t]}));case"object":return Object.entries(t);default:return[]}}(n,Mn(n));h.children=v.map((function(t,e){var n=m(t,2);return Tn(e,n[0],n[1],r+1,!1,h,a,s,c,u,l)})).filter((function(t){return null!==t}))}return h}function Rn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function An(t,e,n){var r=t.slice();return r[14]=e[n],r}function Nn(t){var e,n,r,i,o;return{c:function(){e=U("button"),n=V("\u25b6"),W(e,"class",r=D("arrow-btn ".concat(t[0].collapsed?"collapsed":""))+" svelte-ngcjq5")},m:function(r,a){q(r,e,a),B(e,n),i||(o=H(e,"click",t[9]),i=!0)},p:function(t,n){1&n&&r!==(r=D("arrow-btn ".concat(t[0].collapsed?"collapsed":""))+" svelte-ngcjq5")&&W(e,"class",r)},d:function(t){t&&F(e),i=!1,o()}}}function Pn(t){var e,n=t[5].formatValue(t[0].value,t[0])+"";return{c:function(){e=V(n)},m:function(t,n){q(t,e,n)},p:function(t,r){1&r&&n!==(n=t[5].formatValue(t[0].value,t[0])+"")&&X(e,n)},i:w,o:w,d:function(t){t&&F(e)}}}function In(t){var e,n,r,i=t[3];function o(t){return{props:{value:t[0].value,node:t[0],defaultFormatter:t[10]}}}return i&&(e=new i(o(t))),{c:function(){e&&kt(e.$$.fragment),n=G()},m:function(t,i){e&&jt(e,t,i),q(t,n,i),r=!0},p:function(t,r){var a={};if(1&r&&(a.value=t[0].value),1&r&&(a.node=t[0]),i!==(i=t[3])){if(e){xt();var s=e;_t(s.$$.fragment,1,0,(function(){Ot(s,1)})),wt()}i?(kt((e=new i(o(t))).$$.fragment),$t(e.$$.fragment,1),jt(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i:function(t){r||(e&&$t(e.$$.fragment,t),r=!0)},o:function(t){e&&_t(e.$$.fragment,t),r=!1},d:function(t){t&&F(n),e&&Ot(e,t)}}}function zn(t){var e,n,r;return{c:function(){(e=U("button")).textContent="log",W(e,"class","log-copy-button svelte-ngcjq5")},m:function(i,o){q(i,e,o),n||(r=H(e,"click",t[7]),n=!0)},p:w,d:function(t){t&&F(e),n=!1,r()}}}function Dn(t){var e,n,r;return{c:function(){(e=U("button")).textContent="copy",W(e,"class","log-copy-button svelte-ngcjq5")},m:function(i,o){q(i,e,o),n||(r=H(e,"click",t[8]),n=!0)},p:w,d:function(t){t&&F(e),n=!1,r()}}}function Bn(t){for(var e,n,r,i=t[0].children,o=[],a=0;a<i.length;a+=1)o[a]=qn(An(t,i,a));var s=function(t){return _t(o[t],1,1,(function(){o[t]=null}))};return{c:function(){e=U("li"),n=U("ul");for(var t=0;t<o.length;t+=1)o[t].c();W(n,"class","svelte-ngcjq5"),W(e,"class","row svelte-ngcjq5")},m:function(t,i){q(t,e,i),B(e,n);for(var a=0;a<o.length;a+=1)o[a].m(n,null);r=!0},p:function(t,e){if(1&e){var r;for(i=t[0].children,r=0;r<i.length;r+=1){var a=An(t,i,r);o[r]?(o[r].p(a,e),$t(o[r],1)):(o[r]=qn(a),o[r].c(),$t(o[r],1),o[r].m(n,null))}for(xt(),r=i.length;r<o.length;r+=1)s(r);wt()}},i:function(t){if(!r){for(var e=0;e<i.length;e+=1)$t(o[e]);r=!0}},o:function(t){o=o.filter(Boolean);for(var e=0;e<o.length;e+=1)_t(o[e]);r=!1},d:function(t){t&&F(e),L(o,t)}}}function qn(t){var e,n;return e=new Un({props:{id:t[14].id}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r={};1&n&&(r.id=t[14].id),e.$set(r)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Fn(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,y,b,x,w=t[0].key+"",$=t[2]&&Nn(t),_=[In,Pn],k=[];function O(t,e){return t[3]?0:1}c=O(t),u=k[c]=_[c](t);var S=t[1].showLogButton&&zn(t),C=t[1].showCopyButton&&Dn(t),E=!t[0].collapsed&&t[2]&&Bn(t);return{c:function(){e=U("li"),$&&$.c(),n=K(),r=U("div"),i=V(w),o=V(":"),a=K(),s=U("div"),u.c(),f=K(),h=U("div"),S&&S.c(),d=K(),C&&C.c(),v=K(),E&&E.c(),g=G(),W(r,"class","node-key svelte-ngcjq5"),tt(r,"has-children",t[2]),tt(r,"p-left",!t[2]),W(s,"class","node-value svelte-ngcjq5"),W(s,"data-type",l=t[0].type),tt(s,"expanded",!t[0].collapsed&&t[2]),tt(s,"has-children",t[2]),W(h,"class","buttons svelte-ngcjq5"),W(e,"class","row svelte-ngcjq5"),W(e,"data-tree-id",p=t[0].id),tt(e,"collapsed",t[0].collapsed&&t[2])},m:function(u,l){q(u,e,l),$&&$.m(e,null),B(e,n),B(e,r),B(r,i),B(r,o),B(e,a),B(e,s),k[c].m(s,null),B(e,f),B(e,h),S&&S.m(h,null),B(h,d),C&&C.m(h,null),q(u,v,l),E&&E.m(u,l),q(u,g,l),y=!0,b||(x=[H(r,"click",t[9]),H(s,"click",t[9])],b=!0)},p:function(t,o){var a=m(o,1)[0];t[2]?$?$.p(t,a):(($=Nn(t)).c(),$.m(e,n)):$&&($.d(1),$=null),(!y||1&a)&&w!==(w=t[0].key+"")&&X(i,w),4&a&&tt(r,"has-children",t[2]),4&a&&tt(r,"p-left",!t[2]);var f=c;(c=O(t))===f?k[c].p(t,a):(xt(),_t(k[f],1,1,(function(){k[f]=null})),wt(),(u=k[c])?u.p(t,a):(u=k[c]=_[c](t)).c(),$t(u,1),u.m(s,null)),(!y||1&a&&l!==(l=t[0].type))&&W(s,"data-type",l),5&a&&tt(s,"expanded",!t[0].collapsed&&t[2]),4&a&&tt(s,"has-children",t[2]),t[1].showLogButton?S?S.p(t,a):((S=zn(t)).c(),S.m(h,d)):S&&(S.d(1),S=null),t[1].showCopyButton?C?C.p(t,a):((C=Dn(t)).c(),C.m(h,null)):C&&(C.d(1),C=null),(!y||1&a&&p!==(p=t[0].id))&&W(e,"data-tree-id",p),5&a&&tt(e,"collapsed",t[0].collapsed&&t[2]),!t[0].collapsed&&t[2]?E?(E.p(t,a),5&a&&$t(E,1)):((E=Bn(t)).c(),$t(E,1),E.m(g.parentNode,g)):E&&(xt(),_t(E,1,1,(function(){E=null})),wt())},i:function(t){y||($t(u),$t(E),y=!0)},o:function(t){_t(u),_t(E),y=!1},d:function(t){t&&F(e),$&&$.d(),k[c].d(),S&&S.d(),C&&C.d(),t&&F(v),E&&E.d(t),t&&F(g),b=!1,j(x)}}}function Ln(t,e,n){var r,i,o,a,s,c=w;t.$$.on_destroy.push((function(){return c()}));var u,l=e.id,f=ot("svelte-tree-view"),h=f.treeStore,d=f.propsStore,p=f.rootElementStore;return M(t,p,(function(t){return n(12,a=t)})),h.treeMap.subscribe((function(t){var e=t.get(l);e&&u!==e&&n(0,u=e)})),t.$$set=function(t){"id"in t&&n(11,l=t.id)},t.$$.update=function(){if(2048&t.$$.dirty){var e=h.getNode(l);if(!e)throw Error("[svelte-tree-view] TreeViewNode.svelte received undefined node from treeMapStore whereas it should be already unmounted!");n(0,u=e)}1&t.$$.dirty&&n(2,r=u&&u.children.length>0),2&t.$$.dirty&&n(3,o=s.valueComponent)},n(4,i=d.props),c(),c=C(i,(function(t){return n(1,s=t)})),[u,s,r,o,i,d,p,function(){console.info("%c [svelte-tree-view]: Property added to window._node","color: #b8e248"),console.log(u.value);try{"undefined"!==typeof window&&(window._node=u.value)}catch(Xo){console.error("Failed to set _node, window was undefined")}},function(){try{navigator.clipboard.writeText(JSON.stringify(u.value))}catch(Xo){console.error("Copying node to clipboard failed: ",Xo)}},function(){var t;r?h.toggleCollapse(u.id):u.circularOfId&&(h.expandAllNodesToNode(u.circularOfId),null===(t=a.querySelector('li[data-tree-id="'.concat(u.circularOfId,'"]')))||void 0===t||t.scrollIntoView())},function(t){return d.formatValue(t,u)},l]}Rt("ul.svelte-ngcjq5.svelte-ngcjq5{display:flex;flex-direction:column;height:max-content;list-style:none;padding:0;padding-left:var(--tree-view-left-indent);margin:0;width:100%}li.svelte-ngcjq5.svelte-ngcjq5{align-items:baseline;display:flex;height:max-content;line-height:var(--tree-view-line-height);list-style:none;width:100%}li.svelte-ngcjq5+li.svelte-ngcjq5{margin-top:0.25em}.empty-block.svelte-ngcjq5.svelte-ngcjq5{visibility:hidden}.node-key.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base0D);margin-right:var(--tree-view-key-margin-right)}.node-key.has-children.svelte-ngcjq5.svelte-ngcjq5{cursor:pointer}.node-key.p-left.svelte-ngcjq5.svelte-ngcjq5{padding-left:1.1em}.node-value.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base0B);margin-right:0.5em;word-break:break-all}.node-value[data-type=number].svelte-ngcjq5.svelte-ngcjq5,.node-value[data-type=boolean].svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base09)}.node-value[data-type=null].svelte-ngcjq5.svelte-ngcjq5,.node-value[data-type=undefined].svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base08)}.node-value.expanded.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base03)}.node-value.has-children.svelte-ngcjq5.svelte-ngcjq5{cursor:pointer}.arrow-btn.svelte-ngcjq5.svelte-ngcjq5{background:transparent;border:0;color:var(--tree-view-base0D);cursor:pointer;margin-right:0.7em;padding:0;transition:all 150ms ease 0s;transform:rotateZ(90deg);transform-origin:47% 43%;position:relative;line-height:1.1em;font-size:0.75em}.arrow-btn.collapsed.svelte-ngcjq5.svelte-ngcjq5{transform:rotateZ(0deg)}.buttons.svelte-ngcjq5.svelte-ngcjq5{display:flex;flex-wrap:wrap}.log-copy-button.svelte-ngcjq5.svelte-ngcjq5{background:transparent;border:0;color:var(--tree-view-base0D);cursor:pointer;margin:0;padding:0 0.5em}.log-copy-button.svelte-ngcjq5.svelte-ngcjq5:hover{background:rgba(255, 162, 177, 0.4);border-radius:2px;color:var(--tree-view-base07)}");var Un=function(t){s(n,t);var e=Rn(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Ln,Fn,S,{id:11}),r}return n}(Et);function Jn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Vn(t,e,n){var r=t.slice();return r[18]=e[n],r}function Kn(t){var e,n;return e=new Un({props:{id:t[18].id}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.id=t[18].id),e.$set(r)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Gn(t){for(var e,n,r,i=t[2].children,o=[],a=0;a<i.length;a+=1)o[a]=Kn(Vn(t,i,a));var s=function(t){return _t(o[t],1,1,(function(){o[t]=null}))};return{c:function(){e=U("ul");for(var r=0;r<o.length;r+=1)o[r].c();W(e,"class",n=D("".concat(t[3].class||""," svelte-tree-view"))+" svelte-q3pq1s")},m:function(n,i){q(n,e,i);for(var a=0;a<o.length;a+=1)o[a].m(e,null);t[13](e),r=!0},p:function(t,a){var c=m(a,1)[0];if(4&c){var u;for(i=t[2].children,u=0;u<i.length;u+=1){var l=Vn(t,i,u);o[u]?(o[u].p(l,c),$t(o[u],1)):(o[u]=Kn(l),o[u].c(),$t(o[u],1),o[u].m(e,null))}for(xt(),u=i.length;u<o.length;u+=1)s(u);wt()}(!r||8&c&&n!==(n=D("".concat(t[3].class||""," svelte-tree-view"))+" svelte-q3pq1s"))&&W(e,"class",n)},i:function(t){if(!r){for(var e=0;e<i.length;e+=1)$t(o[e]);r=!0}},o:function(t){o=o.filter(Boolean);for(var e=0;e<o.length;e+=1)_t(o[e]);r=!1},d:function(n){n&&F(e),L(o,n),t[13](null)}}}function Hn(t,e,n){var r,i,o,a=w;t.$$.on_destroy.push((function(){return a()}));var s=e,c=s.data,u=s.theme,l=void 0===u?void 0:u,f=s.showLogButton,h=void 0!==f&&f,d=s.showCopyButton,p=void 0!==d&&d,v=s.valueComponent,g=void 0===v?void 0:v,m=s.recursionOpts,y=void 0===m?{}:m,b=s.valueFormatter,x=void 0===b?void 0:b,_=null,k={maxDepth:16,omitKeys:[],stopCircularRecursion:!1,shouldExpandNode:function(){return!1}},j={showLogButton:h,showCopyButton:p,valueComponent:g,recursionOpts:Object.assign(Object.assign({},k),y),valueFormatter:x},O=function(t){var e=qt(t),n=Ft(e,(function(t){return t.recursionOpts}));return{props:e,recursionOpts:n,setProps:function(t){e.set(t)},formatValue:function(t,n){var r=E(e).valueFormatter,i=r?r(t,n):void 0;if(i)return i;switch(n.type){case"array":return"".concat(n.circularOfId?"circular":""," [] ").concat(t.length," items");case"object":return"".concat(n.circularOfId?"circular":""," {} ").concat(Object.keys(t).length," keys");case"map":case"set":return"".concat(n.circularOfId?"circular":""," () ").concat(t.size," entries");case"date":return"".concat(t.toISOString());case"string":return'"'.concat(t,'"');case"boolean":return t?"true":"false";default:return t}}}}(j),S=function(){var t=qt(null);return{set:t.set,subscribe:t.subscribe}}(),M=function(t){var e=En(0,"root",[],0,null),n=qt(e),r=qt(new Map),i=qt(new Map);return{tree:n,treeMap:r,defaultRootNode:e,init:function(t,o,a){t?n.set(t):n.set(e),r.set(o),i.set(a)},getNode:function(t){return E(r).get(t)},toggleCollapse:function(e){var n=E(r).get(e);if(n){var i=Object.assign(Object.assign({},n),{collapsed:!n.collapsed});r.update((function(t){return new Map(t.set(n.id,i))}));var o=E(t.recursionOpts);o&&this.expandNodeChildren(i,o)}else console.warn("Attempted to collapse non-existent node: ".concat(e))},expandNodeChildren:function(t,e){var n=this.getNode((null===t||void 0===t?void 0:t.parentId)||"")||null;if(!n)throw Error("No parent in expandNodeChildren for node: "+t);var o=new Map(E(r)),a=E(r),s=E(i),c=Tn(t.index,t.key,t.value,t.depth,!t.collapsed,n,o,a,s,!1,e);c&&(n.children=n.children.map((function(t){return t.id===c.id?c:t})),o.set(c.id,c),o.set(n.id,n),r.set(o),i.set(s))},expandAllNodesToNode:function(t){var e=new Map(E(r));!function t(e,n){n&&(e.set(n.id,Object.assign(Object.assign({},n),{collapsed:!1})),n.parentId&&t(e,e.get(n.parentId)))}(e,e.get(t)),r.set(e)}}}(O);return it("svelte-tree-view",{propsStore:O,rootElementStore:S,treeStore:M}),rt((function(){S.set(_)})),t.$$set=function(t){n(3,e=$($({},e),I(t))),"data"in t&&n(4,c=t.data),"theme"in t&&n(5,l=t.theme),"showLogButton"in t&&n(6,h=t.showLogButton),"showCopyButton"in t&&n(7,p=t.showCopyButton),"valueComponent"in t&&n(8,g=t.valueComponent),"recursionOpts"in t&&n(9,y=t.recursionOpts),"valueFormatter"in t&&n(10,x=t.valueFormatter)},t.$$.update=function(){if(5568&t.$$.dirty&&n(12,j={showLogButton:h,showCopyButton:p,valueComponent:g,valueFormatter:x,recursionOpts:j.recursionOpts}),6672&t.$$.dirty){var e=Object.assign(Object.assign({},k),y),r=(null===n(11,o=null===j||void 0===j?void 0:j.recursionOpts)||void 0===o?void 0:o.shouldExpandNode)!==e.shouldExpandNode,i=E(M.treeMap),a=function(t,e,n,r){var i=new Map,o=new Map;return{treeMap:i,tree:Tn(-1,"root",t,-1,!0,null,i,e,o,r,n),iteratedValues:o}}(c,i,e,r),s=a.treeMap,u=a.tree,f=a.iteratedValues;M.init(u,s,f),n(12,j.recursionOpts=e,j),O.setProps(j)}var d;if(33&t.$$.dirty&&(l&&_))for(d in l){var v=l[d];_&&d.includes("--tree-view-base")&&v&&_.style.setProperty("--tree-view-".concat(d),v)}},n(1,r=M.tree),a(),a=C(r,(function(t){return n(2,i=t)})),e=I(e),[_,r,i,e,c,l,h,p,g,y,x,o,j,function(t){ct[t?"unshift":"push"]((function(){n(0,_=t)}))}]}Rt(".svelte-q3pq1s{box-sizing:border-box}:root{--tree-view-base00:#363755;--tree-view-base01:#604d49;--tree-view-base02:#6d5a55;--tree-view-base03:#d1929b;--tree-view-base04:#b79f8d;--tree-view-base05:#f9f8f2;--tree-view-base06:#f7f4f1;--tree-view-base07:#faf8f5;--tree-view-base08:#fa3e7e;--tree-view-base09:#fd993c;--tree-view-base0A:#f6bf81;--tree-view-base0B:#b8e248;--tree-view-base0C:#b4efe4;--tree-view-base0D:#85d9ef;--tree-view-base0E:#be87ff;--tree-view-base0F:#d6724c;--tree-view-font-family:'Helvetica Neue', 'Calibri Light', Roboto, sans-serif;--tree-view-font-size:13px;--tree-view-left-indent:0.875em;--tree-view-line-height:1.1;--tree-view-key-margin-right:0.5em}ul.svelte-q3pq1s{background:var(--tree-view-base00);font-family:var(--tree-view-font-family);font-size:var(--tree-view-font-size);height:max-content;list-style:none;margin:0;padding:0;width:max-content}");var Wn=function(t){s(n,t);var e=Jn(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Hn,Gn,S,{data:4,theme:5,showLogButton:6,showCopyButton:7,valueComponent:8,recursionOpts:9,valueFormatter:10}),r}return n}(Et);function Yn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}Rt("section.svelte-1w8fqnu{border-top:1px solid rgba(255, 162, 177, 0.2);color:var(--color-white);display:flex;height:calc(100% - var(--height-tabs-menu));width:100%}.split-view h2{color:var(--color-red-gray);font-family:var(--font-sans);font-size:var(--font-medium);font-weight:400;letter-spacing:1px;margin:0;text-transform:uppercase}.split-view > .left-panel{display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view > .right-panel{border-left:1px solid rgba(255, 162, 177, 0.2);display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view .hidden{visibility:hidden}");var Qn=function(t){return{}},Zn=function(t){return{class:"right-panel"}},Xn=function(t){return{}},tr=function(t){return{class:"left-panel"}};function er(t){var e,n,r,i=t[1].left,o=T(i,t,t[0],tr),a=t[1].right,s=T(a,t,t[0],Zn);return{c:function(){e=U("section"),o&&o.c(),n=K(),s&&s.c(),W(e,"class","split-view svelte-1w8fqnu")},m:function(t,i){q(t,e,i),o&&o.m(e,null),B(e,n),s&&s.m(e,null),r=!0},p:function(t,e){var n=m(e,1)[0];o&&o.p&&(!r||1&n)&&N(o,i,t,t[0],r?A(i,t[0],n,Xn):P(t[0]),tr),s&&s.p&&(!r||1&n)&&N(s,a,t,t[0],r?A(a,t[0],n,Qn):P(t[0]),Zn)},i:function(t){r||($t(o,t),$t(s,t),r=!0)},o:function(t){_t(o,t),_t(s,t),r=!1},d:function(t){t&&F(e),o&&o.d(t),s&&s.d(t)}}}function nr(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope;return t.$$set=function(t){"$$scope"in t&&n(0,o=t.$$scope)},[o,i]}var rr=function(t){s(n,t);var e=Yn(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,nr,er,S,{}),r}return n}(Et);function ir(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function or(t){for(var e,n,r,i,o=t[3].default,a=T(o,t,t[2],null),s=[t[1]],c={},u=0;u<s.length;u+=1)c=$(c,s[u]);return{c:function(){e=U("button"),a&&a.c(),Y(e,c),tt(e,"selected",t[0]),tt(e,"svelte-gbjxau",!0)},m:function(o,s){q(o,e,s),a&&a.m(e,null),e.autofocus&&e.focus(),n=!0,r||(i=[H(e,"click",t[4]),H(e,"mouseover",t[5]),H(e,"mouseenter",t[6]),H(e,"mouseleave",t[7]),H(e,"focus",t[8])],r=!0)},p:function(t,r){var i=m(r,1)[0];a&&a.p&&(!n||4&i)&&N(a,o,t,t[2],n?A(o,t[2],i,null):P(t[2]),null),Y(e,c=function(t,e){for(var n={},r={},i={$$scope:1},o=t.length;o--;){var a=t[o],s=e[o];if(s){for(var c in a)c in s||(r[c]=1);for(var u in s)i[u]||(n[u]=s[u],i[u]=1);t[o]=s}else for(var l in a)i[l]=1}for(var f in r)f in n||(n[f]=void 0);return n}(s,[t[1]])),tt(e,"selected",t[0]),tt(e,"svelte-gbjxau",!0)},i:function(t){n||($t(a,t),n=!0)},o:function(t){_t(a,t),n=!1},d:function(t){t&&F(e),a&&a.d(t),r=!1,j(i)}}}function ar(t,e,n){var r=["selected"],i=z(e,r),o=e,a=o.$$slots,s=void 0===a?{}:a,c=o.$$scope,u=e.selected,l=void 0!==u&&u,f={class:[i.class]};return t.$$set=function(t){e=$($({},e),I(t)),n(9,i=z(e,r)),"selected"in t&&n(0,l=t.selected),"$$scope"in t&&n(2,c=t.$$scope)},[l,f,c,s,function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)},function(e){at.call(this,t,e)}]}Rt("button.svelte-gbjxau{background:transparent;border:0;border-radius:2px;color:var(--color-gray-light);cursor:pointer;font-size:var(--font-small);padding:6px 10px;text-transform:uppercase}button.svelte-gbjxau:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-gbjxau{background:rgba(255, 162, 177, 0.4)}");var sr=function(t){s(n,t);var e=ir(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,ar,or,S,{selected:0}),r}return n}(Et);function cr(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function ur(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function lr(t){var e,n,r,i,o,a,s,c;return(o=new sr({props:{$$slots:{default:[ur]},$$scope:{ctx:t}}})).$on("click",t[6]),s=new Wn({props:{class:"tree-view",data:t[0],showLogButton:!0,showCopyButton:!0,valueFormatter:gr}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Current doc",i=K(),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),W(n,"class","top-row svelte-3eo07f"),W(e,"slot","left"),W(e,"class","left-panel svelte-3eo07f")},m:function(t,u){q(t,e,u),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),jt(s,e,null),c=!0},p:function(t,e){var n={};1024&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);var r={};1&e&&(r.data=t[0]),s.$set(r)},i:function(t){c||($t(o.$$.fragment,t),$t(s.$$.fragment,t),c=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),c=!1},d:function(t){t&&F(e),Ot(o),Ot(s)}}}function fr(t){var e;return{c:function(){W(e=U("span"),"class","caret-icon svelte-3eo07f"),tt(e,"expanded",t[5])},m:function(t,n){q(t,e,n)},p:function(t,n){32&n&&tt(e,"expanded",t[5])},d:function(t){t&&F(e)}}}function hr(t){var e,n;return e=new Wn({props:{class:"tree-view",data:t[2]}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.data=t[2]),e.$set(r)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function dr(t){var e;return{c:function(){(e=U("div")).textContent="No active marks",W(e,"class","no-marks svelte-3eo07f")},m:function(t,n){q(t,e,n)},p:w,i:w,o:w,d:function(t){t&&F(e)}}}function pr(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,m,y,b;(o=new sr({props:{class:"selection-btn",$$slots:{default:[fr]},$$scope:{ctx:t}}})).$on("click",t[7]),s=new Wn({props:{class:"tree-view",data:t[1]}});var x=[dr,hr],w=[];function $(t,e){return 0===t[2].length?0:1}return h=$(t),d=w[h]=x[h](t),y=new Wn({props:{class:"tree-view",data:{nodeSize:t[3],childCount:t[4]}}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Selection",i=K(),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),c=K(),u=U("div"),(l=U("h2")).textContent="Active marks",f=K(),d.c(),p=K(),v=U("div"),(g=U("h2")).textContent="Document stats",m=K(),kt(y.$$.fragment),W(n,"class","top-row svelte-3eo07f"),W(e,"slot","right"),W(e,"class","right-panel svelte-3eo07f")},m:function(t,d){q(t,e,d),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),jt(s,e,null),B(e,c),B(e,u),B(u,l),B(u,f),w[h].m(u,null),B(e,p),B(e,v),B(v,g),B(v,m),jt(y,v,null),b=!0},p:function(t,e){var n={};1056&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);var r={};2&e&&(r.data=t[1]),s.$set(r);var i=h;(h=$(t))===i?w[h].p(t,e):(xt(),_t(w[i],1,1,(function(){w[i]=null})),wt(),(d=w[h])?d.p(t,e):(d=w[h]=x[h](t)).c(),$t(d,1),d.m(u,null));var a={};24&e&&(a.data={nodeSize:t[3],childCount:t[4]}),y.$set(a)},i:function(t){b||($t(o.$$.fragment,t),$t(s.$$.fragment,t),$t(d),$t(y.$$.fragment,t),b=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),_t(d),_t(y.$$.fragment,t),b=!1},d:function(t){t&&F(e),Ot(o),Ot(s),w[h].d(),Ot(y)}}}function vr(t){var e,n;return e=new rr({props:{$$slots:{right:[pr],left:[lr]},$$scope:{ctx:t}}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r=m(n,1)[0],i={};1087&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function gr(t,e){if("object"===e.type&&t.type)return"{} ".concat(t.type)}function mr(t,e,n){var r=Tt("editor-view").view,i=r.state.doc.toJSON(),o=Sn(r.state.selection),a=r.state,s=[],c=r.state.doc.nodeSize,u=r.state.doc.childCount,l=!1;return wn.subscribe((function(t){if(t){var e=t.state;a=e,n(0,i=e.doc.toJSON()),n(1,o=l?Cn(e.selection):Sn(e.selection)),n(2,s=function(t){if(t.selection.empty){var e=t.selection.$from,n=t.storedMarks;return n?n.map((function(t){return t.type.name})):e.marks().map((function(t){return t.type.name}))}var r=t.selection.$head,i=t.selection.$anchor,o=new Set;return r.marks().forEach((function(t){return o.add(t.type.name)})),i.marks().forEach((function(t){return o.add(t.type.name)})),Array.from(o)}(e)),n(3,c=e.doc.nodeSize),n(4,u=e.doc.childCount)}})),[i,o,s,c,u,l,function(){console.log(i),window._doc=i},function(){n(5,l=!l),n(1,o=l?Cn(a.selection):Sn(a.selection))}]}Rt("@charset \"UTF-8\";.top-row.svelte-3eo07f{align-items:center;display:flex;justify-content:space-between}.left-panel.svelte-3eo07f{overflow:scroll}.right-panel.svelte-3eo07f{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:200px;width:200px}.split-view .selection-btn{height:24px;width:35px}.caret-icon.svelte-3eo07f::before{content:'\u25b6'}.caret-icon.expanded.svelte-3eo07f::before{content:'\u25bc'}.no-marks.svelte-3eo07f{color:var(--color-blue-light);margin:0.5em 0 1em 1em}.split-view .tree-view{margin:0.5em 0 1em 0}");var yr=function(t){s(n,t);var e=cr(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,mr,vr,S,{}),r}return n}(Et);function br(t,e,n){if("array"===e)return[]}function xr(t,e){if("array"===e&&0===t[1]&&0===t[2])return[];if("array"===e&&"string"===typeof t[0]&&0===t[1]&&2===t[2])return[];if("array"===e&&1===t.length&&"object"===typeof t[0])return[];if("object"===e&&"a"===t._t){var n=[];for(var r in t)"_t"!==r&&("_"===r.charAt(0)?n.push([r.substr(1),t[r]]):n.push([r,t[r]]));return n}}function wr(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function $r(t,e,n){var r=t.slice();return r[5]=e[n],r[7]=n,r}function _r(t,e,n){var r=t.slice();return r[8]=e[n],r}function kr(t){var e,n,r,i=t[5].entries.length+"";return{c:function(){e=V("["),n=V(i),r=V("]")},m:function(t,i){q(t,e,i),q(t,n,i),q(t,r,i)},p:function(t,e){1&e&&i!==(i=t[5].entries.length+"")&&X(n,i)},d:function(t){t&&F(e),t&&F(n),t&&F(r)}}}function jr(t){var e;return{c:function(){W(e=U("span"),"class","caret-icon svelte-1migjw3"),tt(e,"expanded",t[5].expanded)},m:function(t,n){q(t,e,n)},p:function(t,n){1&n&&tt(e,"expanded",t[5].expanded)},d:function(t){t&&F(e)}}}function Or(t){for(var e,n=t[5].entries,r=[],i=0;i<n.length;i+=1)r[i]=Sr(_r(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=G()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i].m(t,n);q(t,e,n)},p:function(t,i){if(7&i){var o;for(n=t[5].entries,o=0;o<n.length;o+=1){var a=_r(t,n,o);r[o]?r[o].p(a,i):(r[o]=Sr(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){L(r,t),t&&F(e)}}}function Sr(t){var e,n,r,i,o,a,s,c=(null===(e=t[8])||void 0===e?void 0:e.timeStr)+"";function u(){return t[4](t[8],t[7])}return{c:function(){var e;n=U("li"),r=U("button"),i=V(c),o=K(),W(r,"class","p-left svelte-1migjw3"),W(n,"class","svelte-1migjw3"),tt(n,"selected",t[1]===(null===(e=t[8])||void 0===e?void 0:e.id))},m:function(t,e){q(t,n,e),B(n,r),B(r,i),B(n,o),a||(s=H(r,"click",u),a=!0)},p:function(e,r){var o,a;(t=e,1&r&&c!==(c=(null===(o=t[8])||void 0===o?void 0:o.timeStr)+"")&&X(i,c),3&r)&&tt(n,"selected",t[1]===(null===(a=t[8])||void 0===a?void 0:a.id))},d:function(t){t&&F(n),a=!1,s()}}}function Cr(t){var e,n,r,i,o,a,s,c,u,l,f,h,d=(null===(e=t[5])||void 0===e||null===(n=e.topEntry)||void 0===n?void 0:n.timeStr)+"",p=t[5].isGroup&&kr(t),v=t[5].isGroup&&t[5].entries.length>1&&jr(t);function g(){return t[3](t[5],t[7])}var m=t[5].isGroup&&t[5].expanded&&Or(t);return{c:function(){var e,n;r=U("li"),i=U("button"),o=U("span"),a=V(d),s=K(),p&&p.c(),c=K(),v&&v.c(),u=K(),m&&m.c(),l=G(),W(i,"class","svelte-1migjw3"),tt(i,"is-group",t[5].isGroup),W(r,"class","svelte-1migjw3"),tt(r,"selected",!t[5].expanded&&t[1]===(null===(e=t[5])||void 0===e||null===(n=e.topEntry)||void 0===n?void 0:n.id))},m:function(t,e){q(t,r,e),B(r,i),B(i,o),B(o,a),B(o,s),p&&p.m(o,null),B(i,c),v&&v.m(i,null),q(t,u,e),m&&m.m(t,e),q(t,l,e),f||(h=H(i,"click",g),f=!0)},p:function(e,n){var s,c,u,f;(t=e,1&n&&d!==(d=(null===(s=t[5])||void 0===s||null===(c=s.topEntry)||void 0===c?void 0:c.timeStr)+"")&&X(a,d),t[5].isGroup?p?p.p(t,n):((p=kr(t)).c(),p.m(o,null)):p&&(p.d(1),p=null),t[5].isGroup&&t[5].entries.length>1?v?v.p(t,n):((v=jr(t)).c(),v.m(i,null)):v&&(v.d(1),v=null),1&n&&tt(i,"is-group",t[5].isGroup),3&n)&&tt(r,"selected",!t[5].expanded&&t[1]===(null===(u=t[5])||void 0===u||null===(f=u.topEntry)||void 0===f?void 0:f.id));t[5].isGroup&&t[5].expanded?m?m.p(t,n):((m=Or(t)).c(),m.m(l.parentNode,l)):m&&(m.d(1),m=null)},d:function(t){t&&F(r),p&&p.d(),v&&v.d(),t&&F(u),m&&m.d(t),t&&F(l),f=!1,h()}}}function Er(t){for(var e,n=t[0],r=[],i=0;i<n.length;i+=1)r[i]=Cr($r(t,n,i));return{c:function(){e=U("ul");for(var t=0;t<r.length;t+=1)r[t].c();W(e,"class","svelte-1migjw3")},m:function(t,n){q(t,e,n);for(var i=0;i<r.length;i+=1)r[i].m(e,null)},p:function(t,i){var o=m(i,1)[0];if(7&o){var a;for(n=t[0],a=0;a<n.length;a+=1){var s=$r(t,n,a);r[a]?r[a].p(s,o):(r[a]=Cr(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:w,o:w,d:function(t){t&&F(e),L(r,t)}}}function Mr(t,e,n){var r=e.listItems,i=void 0===r?[]:r,o=e.selectedId,a=e.onSelect;return t.$$set=function(t){"listItems"in t&&n(0,i=t.listItems),"selectedId"in t&&n(1,o=t.selectedId),"onSelect"in t&&n(2,a=t.onSelect)},[i,o,a,function(t,e){return t.topEntry&&a(t.topEntry.id,e,!0)},function(t,e){return t&&a(t.id,e,!1)}]}Rt("@charset \"UTF-8\";ul.svelte-1migjw3.svelte-1migjw3{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-1migjw3.svelte-1migjw3{transition:background 0.1s}li.svelte-1migjw3.svelte-1migjw3:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}li.selected.svelte-1migjw3.svelte-1migjw3{background:rgba(255, 162, 177, 0.4)}li.svelte-1migjw3+li.svelte-1migjw3{border-top:1px solid var(--color-purple)}button.svelte-1migjw3.svelte-1migjw3{background:transparent;border:0;color:var(--color-gray-light);cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-small);height:100%;justify-content:space-between;padding:6px 18px;text-transform:uppercase;width:100%}button.p-left.svelte-1migjw3.svelte-1migjw3{margin-left:1em}.caret-icon.svelte-1migjw3.svelte-1migjw3::before{content:'\u25b6'}.caret-icon.expanded.svelte-1migjw3.svelte-1migjw3::before{content:'\u25bc'}");var Tr=function(t){s(n,t);var e=wr(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Mr,Er,S,{listItems:0,selectedId:1,onSelect:2}),r}return n}(Et);function Rr(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Ar(t,e,n){var r=t.slice();return r[4]=e[n],r}function Nr(t){var e,n=t[0](t[1])+"";return{c:function(){e=V(n)},m:function(t,n){q(t,e,n)},p:function(t,r){3&r&&n!==(n=t[0](t[1])+"")&&X(e,n)},d:function(t){t&&F(e)}}}function Pr(t){var e;function n(t,e){return 1===t[1].length?Br:2===t[1].length?Dr:3===t[1].length&&0===t[1][1]&&0===t[1][2]?zr:3===t[1].length&&2===t[1][2]?Ir:void 0}var r=n(t),i=r&&r(t);return{c:function(){i&&i.c(),e=G()},m:function(t,n){i&&i.m(t,n),q(t,e,n)},p:function(t,o){r===(r=n(t))&&i?i.p(t,o):(i&&i.d(1),(i=r&&r(t))&&(i.c(),i.m(e.parentNode,e)))},d:function(t){i&&i.d(t),t&&F(e)}}}function Ir(t){for(var e,n=Vr(t[1][0]),r=[],i=0;i<n.length;i+=1)r[i]=Ur(Ar(t,n,i));return{c:function(){e=U("span");for(var t=0;t<r.length;t+=1)r[t].c();W(e,"class","updated svelte-ld8g2r")},m:function(t,n){q(t,e,n);for(var i=0;i<r.length;i+=1)r[i].m(e,null)},p:function(t,i){if(2&i){var o;for(n=Vr(t[1][0]),o=0;o<n.length;o+=1){var a=Ar(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ur(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){t&&F(e),L(r,t)}}}function zr(t){var e,n,r=Kr(t[1][0])+"";return{c:function(){e=U("span"),n=V(r),W(e,"class","deleted svelte-ld8g2r")},m:function(t,r){q(t,e,r),B(e,n)},p:function(t,e){2&e&&r!==(r=Kr(t[1][0])+"")&&X(n,r)},d:function(t){t&&F(e)}}}function Dr(t){var e,n,r,i,o,a,s,c,u=Kr(t[1][0])+"",l=Kr(t[1][1])+"";return{c:function(){e=U("span"),n=U("span"),r=V(u),i=K(),(o=U("span")).textContent="=>",a=K(),s=U("span"),c=V(l),W(n,"class","deleted svelte-ld8g2r"),W(o,"class","arrow svelte-ld8g2r"),W(s,"class","added svelte-ld8g2r"),W(e,"class","updated svelte-ld8g2r")},m:function(t,u){q(t,e,u),B(e,n),B(n,r),B(e,i),B(e,o),B(e,a),B(e,s),B(s,c)},p:function(t,e){2&e&&u!==(u=Kr(t[1][0])+"")&&X(r,u),2&e&&l!==(l=Kr(t[1][1])+"")&&X(c,l)},d:function(t){t&&F(e)}}}function Br(t){var e,n,r=Kr(t[1][0])+"";return{c:function(){e=U("span"),n=V(r),W(e,"class","added svelte-ld8g2r")},m:function(t,r){q(t,e,r),B(e,n)},p:function(t,e){2&e&&r!==(r=Kr(t[1][0])+"")&&X(n,r)},d:function(t){t&&F(e)}}}function qr(t){var e,n,r=t[4].raw+"";return{c:function(){e=U("span"),n=V(r)},m:function(t,r){q(t,e,r),B(e,n)},p:function(t,e){2&e&&r!==(r=t[4].raw+"")&&X(n,r)},d:function(t){t&&F(e)}}}function Fr(t){var e,n,r=t[4].add+"";return{c:function(){e=U("span"),n=V(r),W(e,"class","added svelte-ld8g2r")},m:function(t,r){q(t,e,r),B(e,n)},p:function(t,e){2&e&&r!==(r=t[4].add+"")&&X(n,r)},d:function(t){t&&F(e)}}}function Lr(t){var e,n,r=t[4].delete+"";return{c:function(){e=U("span"),n=V(r),W(e,"class","deleted svelte-ld8g2r")},m:function(t,r){q(t,e,r),B(e,n)},p:function(t,e){2&e&&r!==(r=t[4].delete+"")&&X(n,r)},d:function(t){t&&F(e)}}}function Ur(t){var e;function n(t,e){return t[4].delete?Lr:t[4].add?Fr:qr}var r=n(t),i=r(t);return{c:function(){i.c(),e=G()},m:function(t,n){i.m(t,n),q(t,e,n)},p:function(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(e.parentNode,e)))},d:function(t){i.d(t),t&&F(e)}}}function Jr(t){var e,n;function r(t,n){return(null==e||2&n)&&(e=!!Array.isArray(t[1])),e?Pr:Nr}var i=r(t,-1),o=i(t);return{c:function(){o.c(),n=G()},m:function(t,e){o.m(t,e),q(t,n,e)},p:function(t,e){var a=m(e,1)[0];i===(i=r(t,a))&&o?o.p(t,a):(o.d(1),(o=i(t))&&(o.c(),o.m(n.parentNode,n)))},i:w,o:w,d:function(t){o.d(t),t&&F(n)}}}function Vr(t){return t.split(/\n/gm).slice(1).map((function(t){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t.startsWith("-")?"delete":t.startsWith("+")?"add":"raw",t.substr(1).replace(/\s/gm,"\xa0"))}))}function Kr(t){return"string"===typeof t?t:function(t){if(null===t)return"null";var e=JSON.stringify(t);return"undefined"===typeof e?"undefined":e.length>22?"".concat(e.substr(0,15),"\u2026").concat(e.substr(-5)):e}(t)}function Gr(t,e,n){var r,i=e.value,o=e.node,a=e.defaultFormatter;return t.$$set=function(t){"value"in t&&n(2,i=t.value),"node"in t&&n(3,o=t.node),"defaultFormatter"in t&&n(0,a=t.defaultFormatter)},t.$$.update=function(){8&t.$$.dirty&&n(1,r=o.value)},[a,r,i,o]}Rt(".added.svelte-ld8g2r.svelte-ld8g2r{display:inline-block;background:var(--color-green-light);border-radius:1px;color:var(--color-green);padding:1px 2px;text-indent:0;min-height:1ex}.deleted.svelte-ld8g2r.svelte-ld8g2r{display:inline-block;background:var(--color-red);border-radius:1px;color:var(--color-gray-light);padding:1px 2px;text-decoration:line-through;text-indent:0;min-height:1ex}.updated.svelte-ld8g2r.svelte-ld8g2r{word-break:break-all}.updated.svelte-ld8g2r .added.svelte-ld8g2r{background:var(--color-yellow)}.arrow.svelte-ld8g2r.svelte-ld8g2r{color:var(--color-green-light)}");var Hr=function(t){s(n,t);var e=Rr(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Gr,Jr,S,{value:2,node:3,defaultFormatter:0}),r}return n}(Et);function Wr(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Yr(t){var e,n,r,i;return r=new Tr({props:{listItems:t[4],selectedId:(null===(e=t[0])||void 0===e?void 0:e.id)||"",onSelect:t[7]}}),{c:function(){n=U("div"),kt(r.$$.fragment),W(n,"slot","left"),W(n,"class","left-panel svelte-1vpsh9t")},m:function(t,e){q(t,n,e),jt(r,n,null),i=!0},p:function(t,e){var n,i={};16&e&&(i.listItems=t[4]),1&e&&(i.selectedId=(null===(n=t[0])||void 0===n?void 0:n.id)||""),r.$set(i)},i:function(t){i||($t(r.$$.fragment,t),i=!0)},o:function(t){_t(r.$$.fragment,t),i=!1},d:function(t){t&&F(n),Ot(r)}}}function Qr(t){var e;return{c:function(){(e=U("div")).textContent="Docs are equal.",W(e,"class","equal-diff svelte-1vpsh9t")},m:function(t,n){q(t,e,n)},p:w,i:w,o:w,d:function(t){t&&F(e)}}}function Zr(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p=t[0].contentDiff&&Xr(t),v=t[0].selectionDiff&&ei(t),g=t[0].selectionHtml.length>0&&ri(t),m=t[1]&&oi(t);(f=new sr({props:{$$slots:{default:[ci]},$$scope:{ctx:t}}})).$on("click",t[5]);var y=t[1]&&ui(t);return{c:function(){e=U("div"),p&&p.c(),n=K(),v&&v.c(),r=K(),g&&g.c(),i=K(),o=U("div"),a=U("div"),(s=U("h2")).textContent="Transaction",c=K(),u=U("div"),m&&m.c(),l=K(),kt(f.$$.fragment),h=K(),y&&y.c(),W(a,"class","title-container svelte-1vpsh9t"),W(o,"class","entry-row svelte-1vpsh9t")},m:function(t,b){q(t,e,b),p&&p.m(e,null),B(e,n),v&&v.m(e,null),B(e,r),g&&g.m(e,null),B(e,i),B(e,o),B(o,a),B(a,s),B(a,c),B(a,u),m&&m.m(u,null),B(u,l),jt(f,u,null),B(o,h),y&&y.m(o,null),d=!0},p:function(t,a){t[0].contentDiff?p?(p.p(t,a),1&a&&$t(p,1)):((p=Xr(t)).c(),$t(p,1),p.m(e,n)):p&&(xt(),_t(p,1,1,(function(){p=null})),wt()),t[0].selectionDiff?v?(v.p(t,a),1&a&&$t(v,1)):((v=ei(t)).c(),$t(v,1),v.m(e,r)):v&&(xt(),_t(v,1,1,(function(){v=null})),wt()),t[0].selectionHtml.length>0?g?(g.p(t,a),1&a&&$t(g,1)):((g=ri(t)).c(),$t(g,1),g.m(e,i)):g&&(xt(),_t(g,1,1,(function(){g=null})),wt()),t[1]?m?(m.p(t,a),2&a&&$t(m,1)):((m=oi(t)).c(),$t(m,1),m.m(u,l)):m&&(xt(),_t(m,1,1,(function(){m=null})),wt());var s={};2050&a&&(s.$$scope={dirty:a,ctx:t}),f.$set(s),t[1]?y?(y.p(t,a),2&a&&$t(y,1)):((y=ui(t)).c(),$t(y,1),y.m(o,null)):y&&(xt(),_t(y,1,1,(function(){y=null})),wt())},i:function(t){d||($t(p),$t(v),$t(g),$t(m),$t(f.$$.fragment,t),$t(y),d=!0)},o:function(t){_t(p),_t(v),_t(g),_t(m),_t(f.$$.fragment,t),_t(y),d=!1},d:function(t){t&&F(e),p&&p.d(),v&&v.d(),g&&g.d(),m&&m.d(),Ot(f),y&&y.d()}}}function Xr(t){var e,n,r,i,o,a,s,c;return o=new sr({props:{class:"hidden",$$slots:{default:[ti]},$$scope:{ctx:t}}}),s=new Wn({props:{class:"tree-view",data:t[0].contentDiff,showLogButton:!0,showCopyButton:!0,valueComponent:Hr,recursionOpts:{maxDepth:12,mapChildren:xr,shouldExpandNode:hi}}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Doc diff",i=K(),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),W(n,"class","title-container svelte-1vpsh9t"),W(e,"class","entry-row svelte-1vpsh9t")},m:function(t,u){q(t,e,u),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),jt(s,e,null),c=!0},p:function(t,e){var n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);var r={};1&e&&(r.data=t[0].contentDiff),s.$set(r)},i:function(t){c||($t(o.$$.fragment,t),$t(s.$$.fragment,t),c=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),c=!1},d:function(t){t&&F(e),Ot(o),Ot(s)}}}function ti(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function ei(t){var e,n,r,i,o,a,s,c;return o=new sr({props:{class:"hidden",$$slots:{default:[ni]},$$scope:{ctx:t}}}),s=new Wn({props:{class:"tree-view",data:t[0].selectionDiff,valueComponent:Hr,recursionOpts:{mapChildren:br,shouldExpandNode:di}}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Selection diff",i=K(),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),W(n,"class","title-container svelte-1vpsh9t"),W(e,"class","entry-row svelte-1vpsh9t")},m:function(t,u){q(t,e,u),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),jt(s,e,null),c=!0},p:function(t,e){var n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);var r={};1&e&&(r.data=t[0].selectionDiff),s.$set(r)},i:function(t){c||($t(o.$$.fragment,t),$t(s.$$.fragment,t),c=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),c=!1},d:function(t){t&&F(e),Ot(o),Ot(s)}}}function ni(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function ri(t){var e,n,r,i,o,a,s,c,u,l=t[0].selectionHtml+"";return o=new sr({props:{class:"hidden",$$slots:{default:[ii]},$$scope:{ctx:t}}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Selection content",i=K(),kt(o.$$.fragment),a=K(),s=U("pre"),c=U("code"),W(n,"class","title-container svelte-1vpsh9t"),W(s,"class","selection-html svelte-1vpsh9t"),W(e,"class","entry-row svelte-1vpsh9t")},m:function(t,f){q(t,e,f),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),B(e,s),B(s,c),c.innerHTML=l,u=!0},p:function(t,e){var n={};2048&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n),(!u||1&e)&&l!==(l=t[0].selectionHtml+"")&&(c.innerHTML=l)},i:function(t){u||($t(o.$$.fragment,t),u=!0)},o:function(t){_t(o.$$.fragment,t),u=!1},d:function(t){t&&F(e),Ot(o)}}}function ii(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function oi(t){var e,n,r,i;return(e=new sr({props:{$$slots:{default:[ai]},$$scope:{ctx:t}}})).$on("click",t[8]),(r=new sr({props:{$$slots:{default:[si]},$$scope:{ctx:t}}})).$on("click",t[6]),{c:function(){kt(e.$$.fragment),n=K(),kt(r.$$.fragment)},m:function(t,o){jt(e,t,o),q(t,n,o),jt(r,t,o),i=!0},p:function(t,n){var i={};2052&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);var o={};2048&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i:function(t){i||($t(e.$$.fragment,t),$t(r.$$.fragment,t),i=!0)},o:function(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),i=!1},d:function(t){Ot(e,t),t&&F(n),Ot(r,t)}}}function ai(t){var e,n=t[2]?"collapse":"expand";return{c:function(){e=V(n)},m:function(t,n){q(t,e,n)},p:function(t,r){4&r&&n!==(n=t[2]?"collapse":"expand")&&X(e,n)},d:function(t){t&&F(e)}}}function si(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function ci(t){var e,n=t[1]?"hide":"show";return{c:function(){e=V(n)},m:function(t,n){q(t,e,n)},p:function(t,r){2&r&&n!==(n=t[1]?"hide":"show")&&X(e,n)},d:function(t){t&&F(e)}}}function ui(t){var e,n;return e=new Wn({props:{class:"tree-view",data:t[0].tr,showLogButton:!0,showCopyButton:!0,recursionOpts:t[3]}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r={};1&n&&(r.data=t[0].tr),8&n&&(r.recursionOpts=t[3]),e.$set(r)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function li(t){var e,n,r,i,o=[Zr,Qr],a=[];function s(t,e){return t[0]?0:1}return n=s(t),r=a[n]=o[n](t),{c:function(){e=U("div"),r.c(),W(e,"slot","right"),W(e,"class","right-panel")},m:function(t,r){q(t,e,r),a[n].m(e,null),i=!0},p:function(t,i){var c=n;(n=s(t))===c?a[n].p(t,i):(xt(),_t(a[c],1,1,(function(){a[c]=null})),wt(),(r=a[n])?r.p(t,i):(r=a[n]=o[n](t)).c(),$t(r,1),r.m(e,null))},i:function(t){i||($t(r),i=!0)},o:function(t){_t(r),i=!1},d:function(t){t&&F(e),a[n].d()}}}function fi(t){var e,n;return e=new rr({props:{$$slots:{right:[li],left:[Yr]},$$scope:{ctx:t}}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r=m(n,1)[0],i={};2079&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}Rt(".hidden{display:none;visibility:hidden}.left-panel.svelte-1vpsh9t.svelte-1vpsh9t{flex-grow:0;padding:0;min-width:190px;width:190px}.title-container.svelte-1vpsh9t.svelte-1vpsh9t{align-items:center;display:flex;justify-content:space-between}.entry-row.svelte-1vpsh9t+.entry-row.svelte-1vpsh9t{margin-top:1em}.selection-html.svelte-1vpsh9t.svelte-1vpsh9t{font-weight:100;margin:0.5em 0 0 0;padding:0}.equal-diff.svelte-1vpsh9t.svelte-1vpsh9t{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var hi=function(){return!0},di=function(){return!0};function pi(t,e,n){var r,i,o;M(t,bn,(function(t){return n(9,i=t)})),M(t,xn,(function(t){return n(10,o=t)}));var a=void 0,s=!1,c=!1,u={maxDepth:12,stopCircularRecursion:!0,omitKeys:["schema"],shouldExpandNode:function(){return c}};return wn.subscribe((function(t){t&&n(0,a=t)})),t.$$.update=function(){1536&t.$$.dirty&&n(4,r=o.map((function(t){return{isGroup:t.isGroup,topEntry:i.get(t.topEntryId),entries:t.entryIds.map((function(t){return i.get(t)})),expanded:t.expanded}})))},[a,s,c,u,r,function(){n(1,s=!s)},function(){console.info("%c [prosemirror-dev-toolkit]: Property added to window._tr","color: #b8e248"),console.log(null===a||void 0===a?void 0:a.tr),window._tr=null===a||void 0===a?void 0:a.tr},function(t,e,o){n(0,a=i.get(t));var s=r[e];s.isGroup&&s.entries.length>1&&o&&xn.update((function(t){return t.map((function(t,n){return n!==e?t:Object.assign(Object.assign({},t),{expanded:!t.expanded})}))}))},function(){n(2,c=!c),n(3,u=Object.assign(Object.assign({},u),{shouldExpandNode:function(){return c}}))},i,o]}var vi=function(t){s(n,t);var e=Wr(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,pi,fi,S,{}),r}return n}(Et);function gi(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function mi(t,e,n){var r=t.slice();return r[4]=e[n],r}function yi(t){var e,n,r,i,o,a,s=t[4].value+"";function c(){return t[3](t[4])}return{c:function(){e=U("li"),n=U("button"),r=V(s),i=K(),W(n,"class","svelte-dz5oya"),tt(n,"selected",t[1]===t[4].key),W(e,"class","svelte-dz5oya")},m:function(t,s){q(t,e,s),B(e,n),B(n,r),B(e,i),o||(a=H(n,"click",c),o=!0)},p:function(e,i){t=e,1&i&&s!==(s=t[4].value+"")&&X(r,s),3&i&&tt(n,"selected",t[1]===t[4].key)},d:function(t){t&&F(e),o=!1,a()}}}function bi(t){for(var e,n=t[0],r=[],i=0;i<n.length;i+=1)r[i]=yi(mi(t,n,i));return{c:function(){e=U("ul");for(var t=0;t<r.length;t+=1)r[t].c();W(e,"class","svelte-dz5oya")},m:function(t,n){q(t,e,n);for(var i=0;i<r.length;i+=1)r[i].m(e,null)},p:function(t,i){var o=m(i,1)[0];if(7&o){var a;for(n=t[0],a=0;a<n.length;a+=1){var s=mi(t,n,a);r[a]?r[a].p(s,o):(r[a]=yi(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:w,o:w,d:function(t){t&&F(e),L(r,t)}}}function xi(t,e,n){var r=e.listItems,i=void 0===r?[]:r,o=e.selectedKey,a=e.onSelect;return t.$$set=function(t){"listItems"in t&&n(0,i=t.listItems),"selectedKey"in t&&n(1,o=t.selectedKey),"onSelect"in t&&n(2,a=t.onSelect)},[i,o,a,function(t){return a(t)}]}Rt("ul.svelte-dz5oya.svelte-dz5oya{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-dz5oya+li.svelte-dz5oya{border-top:1px solid var(--color-purple)}button.svelte-dz5oya.svelte-dz5oya{background:transparent;border:0;color:var(--color-gray-light);cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-small);font-weight:100;height:100%;padding:6px 18px;text-transform:uppercase;width:100%}button.svelte-dz5oya.svelte-dz5oya:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-dz5oya.svelte-dz5oya{background:rgba(255, 162, 177, 0.4)}");var wi=function(t){s(n,t);var e=gi(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,xi,bi,S,{listItems:0,selectedKey:1,onSelect:2}),r}return n}(Et);function $i(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function _i(t){var e,n,r,i;return r=new wi({props:{listItems:t[4],selectedKey:null===(e=t[0])||void 0===e?void 0:e.key,onSelect:t[5]}}),{c:function(){n=U("div"),kt(r.$$.fragment),W(n,"slot","left"),W(n,"class","left-panel svelte-yzp7j8")},m:function(t,e){q(t,n,e),jt(r,n,null),i=!0},p:function(t,e){var n,i={};16&e&&(i.listItems=t[4]),1&e&&(i.selectedKey=null===(n=t[0])||void 0===n?void 0:n.key),r.$set(i)},i:function(t){i||($t(r.$$.fragment,t),i=!0)},o:function(t){_t(r.$$.fragment,t),i=!1},d:function(t){t&&F(n),Ot(r)}}}function ki(t){var e,n,r,i,o,a,s,c;return(o=new sr({props:{$$slots:{default:[ji]},$$scope:{ctx:t}}})).$on("click",t[6]),(s=new sr({props:{$$slots:{default:[Oi]},$$scope:{ctx:t}}})).$on("click",t[7]),{c:function(){e=U("div"),(n=U("h2")).textContent="Plugin state",r=K(),i=U("div"),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),W(e,"class","top-row svelte-yzp7j8")},m:function(t,u){q(t,e,u),B(e,n),B(e,r),B(e,i),jt(o,i,null),B(i,a),jt(s,i,null),c=!0},p:function(t,e){var n={};2050&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);var r={};2048&e&&(r.$$scope={dirty:e,ctx:t}),s.$set(r)},i:function(t){c||($t(o.$$.fragment,t),$t(s.$$.fragment,t),c=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),c=!1},d:function(t){t&&F(e),Ot(o),Ot(s)}}}function ji(t){var e,n=t[1]?"collapse":"expand";return{c:function(){e=V(n)},m:function(t,n){q(t,e,n)},p:function(t,r){2&r&&n!==(n=t[1]?"collapse":"expand")&&X(e,n)},d:function(t){t&&F(e)}}}function Oi(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function Si(t){var e;return{c:function(){(e=U("div")).textContent="Plugin has no state",W(e,"class","empty-state svelte-yzp7j8")},m:function(t,n){q(t,e,n)},p:w,i:w,o:w,d:function(t){t&&F(e)}}}function Ci(t){var e,n;return e=new Wn({props:{data:t[3],showLogButton:!0,showCopyButton:!0,recursionOpts:t[2]}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r={};8&n&&(r.data=t[3]),4&n&&(r.recursionOpts=t[2]),e.$set(r)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Ei(t){var e,n,r,i,o,a=t[3]&&ki(t),s=[Ci,Si],c=[];function u(t,e){return t[3]?0:1}return r=u(t),i=c[r]=s[r](t),{c:function(){e=U("div"),a&&a.c(),n=K(),i.c(),W(e,"slot","right"),W(e,"class","right-panel svelte-yzp7j8")},m:function(t,i){q(t,e,i),a&&a.m(e,null),B(e,n),c[r].m(e,null),o=!0},p:function(t,o){t[3]?a?(a.p(t,o),8&o&&$t(a,1)):((a=ki(t)).c(),$t(a,1),a.m(e,n)):a&&(xt(),_t(a,1,1,(function(){a=null})),wt());var l=r;(r=u(t))===l?c[r].p(t,o):(xt(),_t(c[l],1,1,(function(){c[l]=null})),wt(),(i=c[r])?i.p(t,o):(i=c[r]=s[r](t)).c(),$t(i,1),i.m(e,null))},i:function(t){o||($t(a),$t(i),o=!0)},o:function(t){_t(a),_t(i),o=!1},d:function(t){t&&F(e),a&&a.d(),c[r].d()}}}function Mi(t){var e,n;return e=new rr({props:{$$slots:{right:[Ei],left:[_i]},$$scope:{ctx:t}}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r=m(n,1)[0],i={};2079&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Ti(t,e,n){var r,i,o=Tt("editor-view").view,a=!1,s={maxDepth:10,stopCircularRecursion:!0,shouldExpandNode:function(){return a}},c=o.state,u=c.plugins,l=u[0];return wn.subscribe((function(t){t&&(n(8,c=t.state),n(9,u=c.plugins),n(0,l=u.find((function(t){return t.key===(null===l||void 0===l?void 0:l.key)}))))})),t.$$.update=function(){257&t.$$.dirty&&n(3,r=null===l||void 0===l?void 0:l.getState(c)),768&t.$$.dirty&&n(4,i=u.map((function(t){return{key:t.key,value:t.key.toUpperCase(),empty:!t.getState(c)}})))},[l,a,s,r,i,function(t){n(0,l=u.find((function(e){return e.key===t.key})))},function(){n(1,a=!a),n(2,s=Object.assign(Object.assign({},s),{shouldExpandNode:function(){return a}}))},function(){window._plugin=[l,r],console.info("%c [prosemirror-dev-toolkit]: Property added to window._plugin","color: #b8e248"),console.log(l),console.log(r)},c,u]}Rt(".top-row.svelte-yzp7j8{align-items:center;display:flex;justify-content:space-between;margin-bottom:0.5em}.left-panel.svelte-yzp7j8{flex-grow:0;overflow:scroll;padding:0;min-width:190px;width:190px}.right-panel.svelte-yzp7j8{border-left:1px solid rgba(255, 162, 177, 0.2)}.empty-state.svelte-yzp7j8{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var Ri=function(t){s(n,t);var e=$i(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Ti,Mi,S,{}),r}return n}(Et);function Ai(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Ni(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function Pi(t){var e,n,r,i,o,a,s,c;return o=new sr({props:{class:"hidden",$$slots:{default:[Ni]},$$scope:{ctx:t}}}),s=new Wn({props:{class:"tree-view",data:t[0],showLogButton:!0,showCopyButton:!0,recursionOpts:{stopCircularRecursion:!0}}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Nodes",i=K(),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),W(n,"class","top-row svelte-rlg9jo"),W(e,"slot","left"),W(e,"class","left-panel svelte-rlg9jo")},m:function(t,u){q(t,e,u),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),jt(s,e,null),c=!0},p:function(t,e){var n={};8&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i:function(t){c||($t(o.$$.fragment,t),$t(s.$$.fragment,t),c=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),c=!1},d:function(t){t&&F(e),Ot(o),Ot(s)}}}function Ii(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function zi(t){var e,n,r,i,o,a,s,c;return o=new sr({props:{class:"hidden",$$slots:{default:[Ii]},$$scope:{ctx:t}}}),s=new Wn({props:{class:"tree-view",data:t[1],showLogButton:!0,showCopyButton:!0,recursionOpts:{stopCircularRecursion:!0}}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Marks",i=K(),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),W(n,"class","top-row svelte-rlg9jo"),W(e,"slot","right"),W(e,"class","right-panel svelte-rlg9jo")},m:function(t,u){q(t,e,u),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),jt(s,e,null),c=!0},p:function(t,e){var n={};8&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i:function(t){c||($t(o.$$.fragment,t),$t(s.$$.fragment,t),c=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),c=!1},d:function(t){t&&F(e),Ot(o),Ot(s)}}}function Di(t){var e,n;return e=new rr({props:{$$slots:{right:[zi],left:[Pi]},$$scope:{ctx:t}}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r=m(n,1)[0],i={};8&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Bi(t){var e=Tt("editor-view").view;return[e.state.schema.nodes,e.state.schema.marks]}Rt(".hidden{display:none;visibility:hidden}.top-row.svelte-rlg9jo{align-items:center;display:flex;justify-content:space-between}.left-panel.svelte-rlg9jo{overflow:scroll;padding:1em}.right-panel.svelte-rlg9jo{border-left:1px solid rgba(255, 162, 177, 0.2);overflow:scroll;padding:1em}");var qi=function(t){s(n,t);var e=Ai(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Bi,Di,S,{}),r}return n}(Et);function Fi(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Li(t,e,n){var r=t.slice();return r[13]=e[n],r[15]=n,r}function Ui(t){var e,n;return e=new Ki({props:{node:t[13],startPos:t[5][t[15]]}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.node=t[13]),32&n&&(r.startPos=t[5][t[15]]),e.$set(r)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Ji(t){for(var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,y,b=t[2].content,x=[],w=0;w<b.length;w+=1)x[w]=Ui(Li(t,b,w));var $=function(t){return _t(x[t],1,1,(function(){x[t]=null}))};return{c:function(){e=U("li"),n=U("div"),r=U("div"),i=V(t[0]),o=K(),a=U("button"),s=V(t[6]),c=K(),u=U("div"),l=V(t[4]),h=K(),d=U("ul");for(var v=0;v<x.length;v+=1)x[v].c();W(r,"class","number-box svelte-bmzpc6"),W(a,"aria-label","Show node info button"),W(a,"class","svelte-bmzpc6"),tt(a,"selected",!1),W(u,"class","number-box svelte-bmzpc6"),W(n,"class","doc-node-body svelte-bmzpc6"),W(n,"style",f="background: ".concat(t[7])),W(d,"class","svelte-bmzpc6"),tt(d,"inline-children",t[3]),W(e,"class",p=D("".concat(t[9].class||""," doc-node"))+" svelte-bmzpc6"),tt(e,"root",t[1])},m:function(f,p){q(f,e,p),B(e,n),B(n,r),B(r,i),B(n,o),B(n,a),B(a,s),B(n,c),B(n,u),B(u,l),B(e,h),B(e,d);for(var m=0;m<x.length;m+=1)x[m].m(d,null);v=!0,g||(y=H(a,"click",t[8]),g=!0)},p:function(t,r){var o=m(r,1)[0];if((!v||1&o)&&X(i,t[0]),(!v||64&o)&&X(s,t[6]),(!v||16&o)&&X(l,t[4]),(!v||128&o&&f!==(f="background: ".concat(t[7])))&&W(n,"style",f),36&o){var a;for(b=t[2].content,a=0;a<b.length;a+=1){var c=Li(t,b,a);x[a]?(x[a].p(c,o),$t(x[a],1)):(x[a]=Ui(c),x[a].c(),$t(x[a],1),x[a].m(d,null))}for(xt(),a=b.length;a<x.length;a+=1)$(a);wt()}8&o&&tt(d,"inline-children",t[3]),(!v||512&o&&p!==(p=D("".concat(t[9].class||""," doc-node"))+" svelte-bmzpc6"))&&W(e,"class",p),514&o&&tt(e,"root",t[1])},i:function(t){if(!v){for(var e=0;e<b.length;e+=1)$t(x[e]);v=!0}},o:function(t){x=x.filter(Boolean);for(var e=0;e<x.length;e+=1)_t(x[e]);v=!1},d:function(t){t&&F(e),L(x,t),g=!1,y()}}}function Vi(t,e,n){var r,i,o,a,s,c,u=Tt("doc-view"),l=u.colors,f=u.handleNodeClick,h=e,d=h.node,p=h.startPos,v=h.isRoot,g=void 0!==v&&v;return t.$$set=function(t){n(9,e=$($({},e),I(t))),"node"in t&&n(10,d=t.node),"startPos"in t&&n(0,p=t.startPos),"isRoot"in t&&n(1,g=t.isRoot)},t.$$.update=function(){1024&t.$$.dirty&&n(2,r=d.content),1024&t.$$.dirty&&n(7,i=l[d.type.name]),1024&t.$$.dirty&&n(6,o=d.isText&&d.marks.length>0?"".concat(d.type.name," - [").concat(d.marks.map((function(t){return t.type.name})).join(", "),"]"):d.type.name),1027&t.$$.dirty&&n(5,a=Array(d.childCount).fill(void 0).reduce((function(t,e,n){if(0===n)return[g?0:p+1];var r=t[n-1],i=d.child(n-1);return[].concat(y(t),[r+i.nodeSize])}),[])),1025&t.$$.dirty&&n(4,s=p+d.nodeSize),4&t.$$.dirty&&n(3,c=r.content.every((function(t){return t.isInline})))},e=I(e),[p,g,r,c,s,a,o,i,function(){f(d)},e,d]}Rt(".doc-node.svelte-bmzpc6{border-left:1px solid var(--color-blue-bg);border-right:1px solid var(--color-blue-bg);display:flex;flex-direction:column;padding:0 12px}.doc-node.root.svelte-bmzpc6{border:0;padding:0}.doc-node-body.svelte-bmzpc6{background:var(--color-blue-bg);color:var(--color-black);display:flex;font-size:13px;margin-top:3px}.number-box.svelte-bmzpc6{padding:3px 6px;background:rgba(255, 255, 255, 0.3)}button.svelte-bmzpc6{background:transparent;border:0;color:var(--color-black);cursor:pointer;display:flex;height:100%;padding:3px 9px;white-space:pre;width:100%}button.svelte-bmzpc6:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-bmzpc6{background:rgba(255, 162, 177, 0.4)}ul.svelte-bmzpc6{list-style:none;margin:0;padding:0}.inline-children.svelte-bmzpc6{border-left:1px solid var(--color-purple);border-right:1px solid var(--color-purple);display:flex;flex-wrap:wrap;padding:0 12px}.inline-children.svelte-bmzpc6>.doc-node{flex-grow:1;padding:0}");var Ki=function(t){s(n,t);var e=Fi(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Vi,Ji,S,{node:10,startPos:0,isRoot:1}),r}return n}(Et),Gi=["#EA7C7F","#67B0C6","#94BB7F","#CA9EDB","#DCDC5D","#B9CC7C","#DD97D8","#FFB761","#4D8FD1","#F36E98","#E45F44","#A6A4AE","#FCC047","#FFC129","#D3929C","#4CBCD4","#8D7BC0"];function Hi(t){return Object.keys(t.nodes).reduce((function(t,e,n){var r=n>=Gi.length?function(t,e){var n=t/e;return Math.round(e*(n-Math.floor(n)))}(n,Gi.length):n;return t[e]=Gi[r],t}),{})}function Wi(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Yi(t){var e,n,r;return n=new Ki({props:{class:t[1].class,node:t[0],startPos:0,depth:0,isRoot:!0}}),{c:function(){e=U("ul"),kt(n.$$.fragment),W(e,"class","svelte-is7zuw")},m:function(t,i){q(t,e,i),jt(n,e,null),r=!0},p:function(t,e){var r=m(e,1)[0],i={};2&r&&(i.class=t[1].class),1&r&&(i.node=t[0]),n.$set(i)},i:function(t){r||($t(n.$$.fragment,t),r=!0)},o:function(t){_t(n.$$.fragment,t),r=!1},d:function(t){t&&F(e),Ot(n)}}}function Qi(t,e,n){var r=e,i=r.doc,o=r.schema,a=r.selected,s=void 0===a?{type:"",start:0,end:0}:a,c=r.handleNodeSelect;return Mt("doc-view",{selected:s,colors:Hi(o),handleNodeClick:c}),t.$$set=function(t){n(1,e=$($({},e),I(t))),"doc"in t&&n(0,i=t.doc),"schema"in t&&n(2,o=t.schema),"selected"in t&&n(3,s=t.selected),"handleNodeSelect"in t&&n(4,c=t.handleNodeSelect)},e=I(e),[i,e,o,s,c]}Rt("ul.svelte-is7zuw{list-style:none;margin:0;padding:0}");var Zi=function(t){s(n,t);var e=Wi(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Qi,Yi,S,{doc:0,schema:2,selected:3,handleNodeSelect:4}),r}return n}(Et);function Xi(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function to(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function eo(t){var e,n,r,i,o,a,s,c;return o=new sr({props:{class:"hidden",$$slots:{default:[to]},$$scope:{ctx:t}}}),s=new Zi({props:{class:"m-top",doc:t[0],schema:t[2],handleNodeSelect:t[3]}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Current doc",i=K(),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),W(n,"class","top-row svelte-1e856uc"),W(e,"slot","left"),W(e,"class","left-panel")},m:function(t,u){q(t,e,u),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),jt(s,e,null),c=!0},p:function(t,e){var n={};256&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);var r={};1&e&&(r.doc=t[0]),s.$set(r)},i:function(t){c||($t(o.$$.fragment,t),$t(s.$$.fragment,t),c=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),c=!1},d:function(t){t&&F(e),Ot(o),Ot(s)}}}function no(t){var e;return{c:function(){e=V("log")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function ro(t){var e,n,r,i,o,a,s,c;return(o=new sr({props:{$$slots:{default:[no]},$$scope:{ctx:t}}})).$on("click",t[4]),s=new Wn({props:{class:"m-top",data:t[1]}}),{c:function(){e=U("div"),n=U("div"),(r=U("h2")).textContent="Node info",i=K(),kt(o.$$.fragment),a=K(),kt(s.$$.fragment),W(n,"class","top-row svelte-1e856uc"),W(e,"slot","right"),W(e,"class","right-panel svelte-1e856uc")},m:function(t,u){q(t,e,u),B(e,n),B(n,r),B(n,i),jt(o,n,null),B(e,a),jt(s,e,null),c=!0},p:function(t,e){var n={};256&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);var r={};2&e&&(r.data=t[1]),s.$set(r)},i:function(t){c||($t(o.$$.fragment,t),$t(s.$$.fragment,t),c=!0)},o:function(t){_t(o.$$.fragment,t),_t(s.$$.fragment,t),c=!1},d:function(t){t&&F(e),Ot(o),Ot(s)}}}function io(t){var e,n;return e=new rr({props:{$$slots:{right:[ro],left:[eo]},$$scope:{ctx:t}}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r=m(n,1)[0],i={};259&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function oo(t,e,n){var r,i,o=Tt("editor-view").view,a=o.state.doc,s=o.state.doc,c=o.state.schema;return wn.subscribe((function(t){t&&(clearTimeout(i),i=setTimeout((function(){n(0,a=t.state.doc)}),100))})),t.$$.update=function(){32&t.$$.dirty&&n(1,r=s.toJSON())},[a,r,c,function(t){n(5,s=t)},function(){console.log(s),window._node=s,console.info("%c [prosemirror-dev-toolkit]: Property added to window._node","color: #b8e248")},s]}Rt(".hidden{display:none;visibility:hidden}.top-row.svelte-1e856uc{align-items:center;display:flex;justify-content:space-between}.right-panel.svelte-1e856uc{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:220px;width:220px}.split-view .m-top{margin-top:0.5em}");var ao=function(t){s(n,t);var e=Xi(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,oo,io,S,{}),r}return n}(Et);function so(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function co(t,e,n){var r=t.slice();return r[23]=e[n],r}function uo(t){var e,n,r,i,o=t[23].name+"";function a(){return t[16](t[23])}return{c:function(){e=U("button"),n=V(o),W(e,"class","unstyled-btn svelte-5viivh"),W(e,"aria-label","Edit snapshot name button")},m:function(t,o){q(t,e,o),B(e,n),r||(i=H(e,"dblclick",a),r=!0)},p:function(e,r){t=e,1&r&&o!==(o=t[23].name+"")&&X(n,o)},d:function(t){t&&F(e),r=!1,i()}}}function lo(t){var e,n,r,i;return{c:function(){(e=U("input")).value=n=t[2].name,W(e,"class","svelte-5viivh")},m:function(n,o){q(n,e,o),r||(i=[H(e,"input",t[5]),H(e,"keypress",t[6])],r=!0)},p:function(t,r){4&r&&n!==(n=t[2].name)&&e.value!==n&&(e.value=n)},d:function(t){t&&F(e),r=!1,j(i)}}}function fo(t){var e;return{c:function(){e=V("Show")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function ho(t){var e;return{c:function(){e=V("Hide")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function po(t){var e;return{c:function(){e=V("Delete")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function vo(t){var e;return{c:function(){e=V("Confirm Delete")},m:function(t,n){q(t,e,n)},d:function(t){t&&F(e)}}}function go(t){var e,n,r,i,o,a,s,c,u,l,f,h;function d(t,e){return t[2]&&t[2].timestamp===t[23].timestamp?lo:uo}var p=d(t),v=p(t);function g(t,e){var n;return(null===(n=t[1])||void 0===n?void 0:n.timestamp)===t[23].timestamp?ho:fo}var m=g(t),y=m(t);function b(){return t[17](t[23])}function x(){return t[18](t[23])}function w(){return t[19](t[23])}function $(t,e){var n;return(null===(n=t[3])||void 0===n?void 0:n.timestamp)===t[23].timestamp?vo:po}var _=$(t),k=_(t);function O(){return t[20](t[23])}return{c:function(){e=U("li"),v.c(),n=K(),r=U("button"),y.c(),i=K(),(o=U("button")).textContent="Restore",a=K(),(s=U("button")).textContent="Export",c=K(),u=U("button"),k.c(),l=K(),W(r,"class","snapshot-btn ml-2 svelte-5viivh"),W(o,"class","snapshot-btn svelte-5viivh"),W(s,"class","snapshot-btn svelte-5viivh"),W(u,"class","snapshot-btn svelte-5viivh"),W(e,"class","svelte-5viivh")},m:function(t,d){q(t,e,d),v.m(e,null),B(e,n),B(e,r),y.m(r,null),B(e,i),B(e,o),B(e,a),B(e,s),B(e,c),B(e,u),k.m(u,null),B(e,l),f||(h=[H(r,"click",b),H(o,"click",x),H(s,"click",w),H(u,"click",O)],f=!0)},p:function(i,o){p===(p=d(t=i))&&v?v.p(t,o):(v.d(1),(v=p(t))&&(v.c(),v.m(e,n))),m!==(m=g(t))&&(y.d(1),(y=m(t))&&(y.c(),y.m(r,null))),_!==(_=$(t))&&(k.d(1),(k=_(t))&&(k.c(),k.m(u,null)))},d:function(t){t&&F(e),v.d(),y.d(),k.d(),f=!1,j(h)}}}function mo(t){for(var e,n=t[0],r=[],i=0;i<n.length;i+=1)r[i]=go(co(t,n,i));return{c:function(){e=U("ul");for(var t=0;t<r.length;t+=1)r[t].c();W(e,"class","svelte-5viivh")},m:function(t,n){q(t,e,n);for(var i=0;i<r.length;i+=1)r[i].m(e,null)},p:function(t,i){var o=m(i,1)[0];if(2047&o){var a;for(n=t[0],a=0;a<n.length;a+=1){var s=co(t,n,a);r[a]?r[a].p(s,o):(r[a]=go(s),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:w,o:w,d:function(t){t&&F(e),L(r,t)}}}function yo(t,e,n){var r,i,o,a=e.snapshots,s=void 0===a?[]:a,c=e.selectedSnapshot,u=void 0===c?void 0:c,l=e.onUpdate,f=e.onView,h=e.onRestore,d=e.onExport,p=e.onDelete;function v(t){n(2,r=t),n(3,i=void 0)}function g(t){(null===u||void 0===u?void 0:u.timestamp)===t.timestamp?f():f(t),n(3,i=void 0)}function m(t){h(t),n(3,i=void 0)}function y(t){d(t),n(3,i=void 0)}function b(t){i&&i.timestamp===t.timestamp?(p(t),n(3,i=void 0)):n(3,i=t)}return t.$$set=function(t){"snapshots"in t&&n(0,s=t.snapshots),"selectedSnapshot"in t&&n(1,u=t.selectedSnapshot),"onUpdate"in t&&n(11,l=t.onUpdate),"onView"in t&&n(12,f=t.onView),"onRestore"in t&&n(13,h=t.onRestore),"onExport"in t&&n(14,d=t.onExport),"onDelete"in t&&n(15,p=t.onDelete)},[s,u,r,i,v,function(t){r&&(n(2,r.name=t.target.value,r),clearTimeout(o),o=setTimeout((function(){l(r)}),150))},function(t){"Enter"===t.key&&r&&(l(r),clearTimeout(o),n(2,r=void 0),n(3,i=void 0))},g,m,y,b,l,f,h,d,p,function(t){return v(t)},function(t){return g(t)},function(t){return m(t)},function(t){return y(t)},function(t){return b(t)}]}Rt("ul.svelte-5viivh.svelte-5viivh{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-5viivh+li.svelte-5viivh{border-top:1px solid var(--color-purple)}li.svelte-5viivh.svelte-5viivh{align-items:center;display:flex;font-family:monospace;padding:6px 18px}input.svelte-5viivh.svelte-5viivh{background:transparent;border:0;color:var(--color-white);height:100%;margin:0;padding:2px;width:100%}.unstyled-btn.svelte-5viivh.svelte-5viivh{background:transparent;border:0;color:var(--color-white);cursor:pointer;display:block;font-family:monospace;margin:0;padding:0;text-align:start;width:100%}.snapshot-btn.svelte-5viivh.svelte-5viivh{background:transparent;border:0;border-radius:3px;color:var(--color-gray-light);cursor:pointer;display:flex;font-size:11px;padding:6px 18px;text-transform:uppercase}.snapshot-btn.svelte-5viivh.svelte-5viivh:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}.ml-2.svelte-5viivh.svelte-5viivh{margin-left:1rem}");var bo=function(t){s(n,t);var e=so(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,yo,mo,S,{snapshots:0,selectedSnapshot:1,onUpdate:11,onView:12,onRestore:13,onExport:14,onDelete:15}),r}return n}(Et);function xo(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function wo(t){var e,n;return e=new bo({props:{snapshots:t[0],selectedSnapshot:t[1],onUpdate:Wt,onView:t[4],onRestore:t[3],onExport:Yt,onDelete:Qt}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r={};1&n&&(r.snapshots=t[0]),2&n&&(r.selectedSnapshot=t[1]),e.$set(r)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function $o(t){var e;return{c:function(){(e=U("div")).textContent='Save snapshots by clicking "Save snapshot" button.',W(e,"class","no-snapshots svelte-1yawzkx")},m:function(t,n){q(t,e,n)},p:w,i:w,o:w,d:function(t){t&&F(e)}}}function _o(t){var e,n,r,i,o=[$o,wo],a=[];function s(t,e){return 0===t[0].length?0:1}return n=s(t),r=a[n]=o[n](t),{c:function(){e=U("div"),r.c(),W(e,"slot","right"),W(e,"class","right-panel svelte-1yawzkx")},m:function(t,r){q(t,e,r),a[n].m(e,null),i=!0},p:function(t,i){var c=n;(n=s(t))===c?a[n].p(t,i):(xt(),_t(a[c],1,1,(function(){a[c]=null})),wt(),(r=a[n])?r.p(t,i):(r=a[n]=o[n](t)).c(),$t(r,1),r.m(e,null))},i:function(t){i||($t(r),i=!0)},o:function(t){_t(r),i=!1},d:function(t){t&&F(e),a[n].d()}}}function ko(t){var e,n;return e=new rr({props:{$$slots:{right:[_o]},$$scope:{ctx:t}}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r=m(n,1)[0],i={};35&r&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function jo(t,e,n){var r,i;M(t,Ut,(function(t){return n(0,r=t)})),M(t,Jt,(function(t){return n(1,i=t)}));var o=Tt("editor-view").view;return[r,i,o,function(t){!function(t,e){Ht(t,e.doc),Vt.set(void 0),Jt.set(void 0)}(o,t),_n()},function(t){return function(t,e){if(e)E(Vt)||Vt.set(t.state),Ht(t,e.doc);else{var n=E(Vt);n?t.updateState(n):console.error("No previous state to restore!"),Vt.set(void 0)}Jt.set(e)}(o,t)}]}Rt(".right-panel.svelte-1yawzkx{padding:0}.no-snapshots.svelte-1yawzkx{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var Oo=function(t){s(n,t);var e=xo(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,jo,ko,S,{}),r}return n}(Et);function So(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Co(t){var e;return{c:function(){(e=U("p")).textContent="nuting here"},m:function(t,n){q(t,e,n)},i:w,o:w,d:function(t){t&&F(e)}}}function Eo(t){var e,n;return e=new Oo({}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Mo(t){var e,n;return e=new ao({}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function To(t){var e,n;return e=new qi({}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Ro(t){var e,n;return e=new Ri({}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Ao(t){var e,n;return e=new vi({}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function No(t){var e,n;return e=new yr({}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Po(t){var e,n,r,i,o,a,s,c,u,l,f,h,d,p,v,g,y,b,x,w,$,_;v=new ee({props:{onClickTab:t[9],active:t[1]}});var k=[No,Ao,Ro,To,Mo,Eo,Co],S=[];function C(t,e){return"state"===t[1]?0:"history"===t[1]?1:"plugins"===t[1]?2:"schema"===t[1]?3:"structure"===t[1]?4:"snapshots"===t[1]?5:6}return y=C(t),b=S[y]=k[y](t),{c:function(){var m,y,w;e=U("div"),n=U("div"),r=U("div"),i=K(),o=U("div"),a=U("div"),(s=U("button")).textContent="Save snapshot",c=K(),(u=U("button")).textContent="Import snapshot",l=K(),(f=U("button")).textContent="X",h=K(),d=U("input"),p=K(),kt(v.$$.fragment),g=K(),b.c(),W(r,"class","resizing-div svelte-1yiw7li"),W(s,"class","snap-save-btn svelte-1yiw7li"),W(u,"class","snap-import-btn svelte-1yiw7li"),W(f,"class","close-btn svelte-1yiw7li"),W(f,"aria-label","Close dev-toolkit button"),m="display",y="none",d.style.setProperty(m,y,w?"important":""),W(d,"type","file"),W(d,"accept",".json"),d.multiple=!0,W(o,"class","container svelte-1yiw7li"),W(n,"class","floating-dock svelte-1yiw7li"),W(n,"style",x="top: ".concat(t[2],"%; height: ").concat(t[3],"%;")),W(e,"class","floating-dock-wrapper svelte-1yiw7li")},m:function(m,b){q(m,e,b),B(e,n),B(n,r),B(n,i),B(n,o),B(o,a),B(a,s),B(a,c),B(a,u),B(a,l),B(a,f),B(o,h),B(o,d),t[10](d),B(o,p),jt(v,o,null),B(o,g),S[y].m(o,null),w=!0,$||(_=[H(r,"mousedown",t[5]),H(s,"click",t[6]),H(u,"click",t[7]),H(f,"click",(function(){O(t[0])&&t[0].apply(this,arguments)})),H(d,"change",t[8])],$=!0)},p:function(e,r){var i=m(r,1)[0];t=e;var a={};2&i&&(a.active=t[1]),v.$set(a);var s=y;(y=C(t))!==s&&(xt(),_t(S[s],1,1,(function(){S[s]=null})),wt(),(b=S[y])||(b=S[y]=k[y](t)).c(),$t(b,1),b.m(o,null)),(!w||12&i&&x!==(x="top: ".concat(t[2],"%; height: ").concat(t[3],"%;")))&&W(n,"style",x)},i:function(t){w||($t(v.$$.fragment,t),$t(b),w=!0)},o:function(t){_t(v.$$.fragment,t),_t(b),w=!1},d:function(n){n&&F(e),t[10](null),Ot(v),S[y].d(),$=!1,j(_)}}}function Io(t,e,n){var i,o,a=e.onClose,s=Tt("editor-view").view,c="state",u=50,l=50;function f(t){t.preventDefault(),n(2,u=100*t.clientY/window.innerHeight),n(3,l=100*(1-t.clientY/window.innerHeight))}function h(t){t.preventDefault(),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}return o=function(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)},nt().$$.on_destroy.push(o),t.$$set=function(t){"onClose"in t&&n(0,a=t.onClose)},[a,c,u,l,i,function(){document.addEventListener("mousemove",f),document.addEventListener("mouseup",h)},function(){var t=(new Date).toLocaleString("sv"),e=prompt("Enter snapshot name",t);e&&function(t,e){var n={name:t,timestamp:Date.now(),doc:e};Ut.update((function(t){return[n].concat(Object(r.a)(t))}))}(e,s.state.doc.toJSON())},function(){i.click()},function(t){var e=t.target;Array.from(e.files||[]).forEach((function(t){var e=new FileReader;e.readAsText(t),e.onload=function(e){var n,i,o="string"===typeof(null===(n=e.target)||void 0===n?void 0:n.result)?null===(i=e.target)||void 0===i?void 0:i.result:"";try{var a=JSON.parse(o);if(!a||"object"!==x(a))throw Error("Imported snapshot was not a JSON object"+a);!function(t,e,n){var i=n.nodeFromJSON(e),o={name:t,timestamp:Date.now(),doc:i.toJSON()};Ut.update((function(t){return[o].concat(Object(r.a)(t))}))}(t.name.slice(0,t.name.lastIndexOf(".")),a,s.state.schema)}catch(Xo){console.error("Failed to import snapshot: "+Xo)}}}))},function(t){n(1,c=t)},function(t){ct[t?"unshift":"push"]((function(){n(4,i=t)}))}]}Rt(".floating-dock-wrapper.svelte-1yiw7li{position:fixed;width:0px;height:0px;top:0px;left:0px;z-index:99999999}.floating-dock.svelte-1yiw7li{background-color:var(--color-blue-bg);position:fixed;z-index:1;box-shadow:rgba(34, 34, 34, 0.3) 0px 0px 4px 0px;left:0px;top:50%;width:100%;height:50%}.resizing-div.svelte-1yiw7li{position:absolute;z-index:2;opacity:0;top:-5px;height:10px;left:0px;width:100%;cursor:row-resize}.container.svelte-1yiw7li{height:100%}.snap-save-btn.svelte-1yiw7li{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:var(--color-white);cursor:pointer;font-size:12px;height:24px;line-height:25px;padding:0 6px;position:absolute;right:134px;top:-28px}.snap-save-btn.svelte-1yiw7li:hover{background:rgba(255, 162, 177, 0.8)}.snap-import-btn.svelte-1yiw7li{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:var(--color-white);cursor:pointer;font-size:12px;height:24px;line-height:25px;padding:0 6px;position:absolute;right:32px;top:-28px}.snap-import-btn.svelte-1yiw7li:hover{background:rgba(255, 162, 177, 0.8)}.close-btn.svelte-1yiw7li{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:var(--color-white);cursor:pointer;height:24px;position:absolute;right:4px;top:-28px;width:24px}.close-btn.svelte-1yiw7li:hover{background:rgba(255, 162, 177, 0.8)}");var zo=function(t){s(n,t);var e=So(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Io,Po,S,{onClose:0}),r}return n}(Et);function Do(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function Bo(t){var e,n;return(e=new It({props:{buttonPosition:t[1]}})).$on("click",t[2]),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:function(t,n){var r={};2&n&&(r.buttonPosition=t[1]),e.$set(r)},i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function qo(t){var e,n;return e=new zo({props:{onClose:t[3]}}),{c:function(){kt(e.$$.fragment)},m:function(t,r){jt(e,t,r),n=!0},p:w,i:function(t){n||($t(e.$$.fragment,t),n=!0)},o:function(t){_t(e.$$.fragment,t),n=!1},d:function(t){Ot(e,t)}}}function Fo(t){var e,n,r,i,o=[qo,Bo],a=[];function s(t,e){return t[0]?0:1}return n=s(t),r=a[n]=o[n](t),{c:function(){e=U("section"),r.c(),W(e,"class","svelte-1619ssd")},m:function(t,r){q(t,e,r),a[n].m(e,null),i=!0},p:function(t,i){var c=m(i,1)[0],u=n;(n=s(t))===u?a[n].p(t,c):(xt(),_t(a[u],1,1,(function(){a[u]=null})),wt(),(r=a[n])?r.p(t,c):(r=a[n]=o[n](t)).c(),$t(r,1),r.m(e,null))},i:function(t){i||($t(r),i=!0)},o:function(t){_t(r),i=!1},d:function(t){t&&F(e),a[n].d()}}}function Lo(t,e,n){var r=e.view,i=e.devToolsExpanded,o=void 0!==i&&i,a=e.buttonPosition,s=void 0===a?"bottom-right":a;return Mt("editor-view",{view:r}),rt((function(){var t=document&&document.querySelector("html");o&&t&&(t.style.marginBottom="341px")})),t.$$set=function(t){"view"in t&&n(4,r=t.view),"devToolsExpanded"in t&&n(0,o=t.devToolsExpanded),"buttonPosition"in t&&n(1,s=t.buttonPosition)},[o,s,function(){n(0,o=!0);var t=document&&document.querySelector("html");t&&(t.style.marginBottom="341px")},function(){n(0,o=!1);var t=document&&document.querySelector("html");t&&(t.style.marginBottom="")},r]}Rt(".svelte-1619ssd{--font-sans:Helvetica Neue, Calibri Light, Roboto, sans-serif;--font-small:11px;--font-medium:13px;--font-large:16px;--height-tabs-menu:48px;--color-black:#222;--color-blue-bg:#363755;--color-blue-light:#85d9ef;--color-gray-light:#d3d3d9;--color-green:green;--color-green-light:#87cc86;--color-purple-dark:rgb(80, 68, 93);--color-purple:rgb(96, 76, 104);--color-purple-light:rgb(99, 99, 123);--color-red:#d66363;--color-red-gray:rgb(187, 145, 163);--color-red-light:rgb(255, 162, 177);--color-yellow:#eaea37;--color-white:#fff}:root{--tree-view-base00:#363755;--tree-view-base01:#604d49;--tree-view-base02:#6d5a55;--tree-view-base03:#d1929b;--tree-view-base04:#b79f8d;--tree-view-base05:#f9f8f2;--tree-view-base06:#f7f4f1;--tree-view-base07:#faf8f5;--tree-view-base08:#fa3e7e;--tree-view-base09:#fd993c;--tree-view-base0A:#f6bf81;--tree-view-base0B:#b8e248;--tree-view-base0C:#b4efe4;--tree-view-base0D:#85d9ef;--tree-view-base0E:#be87ff;--tree-view-base0F:#d6724c}section.svelte-1619ssd{font-family:var(--font-sans);font-size:var(--font-medium)}");var Uo=function(t){s(n,t);var e=Do(n);function n(t){var r;return i(this,n),Ct(o(r=e.call(this)),t,Lo,Fo,S,{view:4,devToolsExpanded:0,buttonPosition:1}),r}return n}(Et),Jo=!1,Vo=void 0;function Ko(t){return Jo=!0,new Promise((function(e){setTimeout((function(){Vo&&Vo();var n=(t.someProp("dispatchTransaction")||t.dispatch).bind(t);t.setProps({dispatchTransaction:function(e){var r=t.state;n(e),Jo&&$n(e,t.state,r)}}),Vo=function(){return t.setProps({dispatchTransaction:n})},e()}),1)}))}function Go(){Jo=!1,Vo&&Vo(),Vo=void 0}var Ho,Wo="__prosemirror-dev-toolkit__";try{"undefined"!==typeof window&&(window.applyDevTools=Qo)}catch(Xo){}function Yo(){var t=document.querySelector(".".concat(Wo));return t||((t=document.createElement("div")).className=Wo,document.body.appendChild(t)),t}function Qo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Yo();Zo();var r=new Uo({target:n,props:Object.assign({view:t},e)});try{"undefined"!==typeof window&&(window.editorView=t)}catch(Xo){}var i=t.destroy.bind(t);return t.destroy=function(){Zo(),i()},Ho=function(){_n(),Go(),r.$destroy()},Ko(t)}function Zo(){Ho&&Ho(),Ho=void 0}}).call(this,n(31))}},[[228,1,2]]]);
//# sourceMappingURL=main.05f23826.chunk.js.map