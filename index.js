!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["prosemirror-dev-toolkit"]={})}(this,(function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function n(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function r(){}function o(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function s(){return Object.create(null)}function l(t){t.forEach(i)}function a(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,...e){if(null==t)return r;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function p(t){let e;return u(t,(t=>e=t))(),e}function d(t,e,n){t.$$.on_destroy.push(u(e,n))}function f(t,e,n,r){if(t){const o=h(t,e,n,r);return t[0](o)}}function h(t,e,n,r){return t[1]&&r?o(n.ctx.slice(),t[1](r(e))):n.ctx}function g(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function m(t,e,n,r,o,i){if(o){const s=h(e,n,r,i);t.p(s,o)}}function v(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function y(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function x(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function $(t){return null==t?"":t}function b(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function O(){return T(" ")}function E(){return T("")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:N(t,r,e[r])}function M(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function I(t,e,n){t.classList[n?"add":"remove"](e)}let F;function B(t){F=t}function D(){if(!F)throw new Error("Function called outside component initialization");return F}function P(t){D().$$.on_mount.push(t)}function q(t,e){D().$$.context.set(t,e)}function R(t){return D().$$.context.get(t)}function L(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const U=[],G=[],J=[],K=[],H=Promise.resolve();let W=!1;function Y(t){J.push(t)}let V=!1;const X=new Set;function Z(){if(!V){V=!0;do{for(let t=0;t<U.length;t+=1){const e=U[t];B(e),Q(e.$$)}for(B(null),U.length=0;G.length;)G.pop()();for(let t=0;t<J.length;t+=1){const e=J[t];X.has(e)||(X.add(e),e())}J.length=0}while(U.length);for(;K.length;)K.pop()();W=!1,V=!1,X.clear()}}function Q(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function rt(){et.r||l(et.c),et=et.p}function ot(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function it(t,e,n,r){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function st(t){t&&t.c()}function lt(t,e,n,r){const{fragment:o,on_mount:s,on_destroy:c,after_update:u}=t.$$;o&&o.m(e,n),r||Y((()=>{const e=s.map(i).filter(a);c?c.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(Y)}function at(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(U.push(t),W||(W=!0,H.then(Z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(t,e,n,o,i,a,c,u=[-1]){const p=F;B(t);const d=t.$$={fragment:null,ctx:null,props:a,update:r,not_equal:i,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:e.context||[]),callbacks:s(),dirty:u,skip_bound:!1,root:e.target||p.$$.root};c&&c(d.root);let f=!1;if(d.ctx=n?n(t,e.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),f&&ct(t,e)),n})):[],d.update(),f=!0,l(d.before_update),d.fragment=!!o&&o(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(k)}else d.fragment&&d.fragment.c();e.intro&&ot(t.$$.fragment),lt(t,e.target,e.anchor,e.customElement),Z()}B(p)}class pt{$destroy(){at(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function dt(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}function ft(t){let e,n,o,i,s,l,a,c,u,p,d,f,h,g,m,v,y,x,_,O,E,z,A,I;return{c(){e=C("button"),n=S("svg"),o=S("title"),i=T("prosemirror"),s=S("desc"),l=T("Created using Figma"),a=S("use"),c=S("use"),u=S("use"),p=S("use"),d=S("use"),f=S("use"),h=S("use"),g=S("defs"),m=S("path"),v=S("path"),y=S("path"),x=S("path"),_=S("path"),O=S("path"),E=S("path"),M(a,"xlink:href","#a"),N(a,"transform","matrix(2 0 0 2 118 116)"),N(a,"fill","#FFF"),M(c,"xlink:href","#b"),N(c,"transform","rotate(16 59.054 420.192) scale(2)"),N(c,"fill","#FFF"),M(u,"xlink:href","#c"),N(u,"transform","matrix(2 0 0 2 154.024 141.58)"),N(u,"fill","#363755"),M(p,"xlink:href","#d"),N(p,"transform","matrix(2 0 0 2 220 334.8)"),N(p,"fill","#FFF"),M(d,"xlink:href","#e"),N(d,"transform","matrix(2 0 0 2 218.826 262.052)"),N(d,"fill","#363755"),M(f,"xlink:href","#f"),N(f,"transform","matrix(2 0 0 2 197.108 184.998)"),N(f,"fill","#FFF"),M(h,"xlink:href","#g"),N(h,"transform","matrix(2 0 0 2 221.8 216)"),N(h,"fill","#363755"),N(m,"id","a"),N(m,"d","M73.5 0C32.859 0 0 32.859 0 73.5S32.859 147 73.5 147 147 114.141 147 73.5 114.069 0 73.5\n        0z"),N(v,"id","b"),N(v,"d","M193.601 107.116c0-13.376 8.238-23.91\n        20.619-31.153-2.244-7.447-5.19-14.6-8.824-21.32-13.886\n        3.633-25.12-1.799-34.568-11.26-9.449-9.437-12.344-20.672-8.709-34.571A111.362 111.362 0 0 0\n        140.799 0c-7.243 12.37-20.339 20.594-33.689 20.594-13.363\n        0-26.446-8.225-33.701-20.594A110.888 110.888 0 0 0 52.1 8.812c3.634 13.9.753 25.134-8.721\n        34.57-9.436 9.462-20.67 14.894-34.569 11.26A112.178 112.178 0 0 0 0 75.963c12.369 7.243\n        20.593 17.777 20.593 31.153 0 13.352-8.224 26.448-20.593 33.704a113.338 113.338 0 0 0 8.811\n        21.321c13.899-3.634 25.133-.752 34.569 8.697 9.448 9.462 12.355 20.696 8.721 34.57a112.653\n        112.653 0 0 0 21.32 8.837c7.243-12.407 20.338-20.619 33.702-20.619 13.35 0 26.446 8.225\n        33.701 20.619a114.22 114.22 0 0 0 21.32-8.837c-3.634-13.874-.752-25.108 8.709-34.57\n        9.449-9.437 20.683-14.869 34.569-11.26a112.343 112.343 0 0 0\n        8.823-21.321c-12.406-7.256-20.644-17.789-20.644-31.141zm-86.491 46.57c-25.732\n        0-46.58-20.849-46.58-46.57 0-25.733 20.86-46.595 46.58-46.595 25.732 0 46.567 20.875 46.567\n        46.595 0 25.734-20.835 46.57-46.567 46.57z"),N(y,"id","c"),N(y,"d","M98.088 49.91c-6.9 83.9 10.8 103.401 10.8 103.401s-55.1\n        5.499-82.7-13.401c-30.5-20.9-26-67.5-25.9-94.6.1-28.4 25.6-45.8 49.9-45.3 29.1.5 50.2 21.6\n        47.9 49.9z"),N(x,"id","d"),N(x,"d","M.1.1c12.2 33.3 22.5 42.7 40 55.2 25.3 18 36.6 17.5 76.3 41C78.1 60.3 30.8 45.7 0 0l.1.1z"),N(_,"id","e"),N(_,"d","M.687 36.474c3 13.3 17.9 29.9 30.4 41.6 24.8 23.2 42 22.4 86\n        54.7-18.2-51.8-18.8-62-43.5-106.1-24.7-44-67.6-20.3-67.6-20.3s-8.4 16.6-5.3 29.9v.2z"),N(O,"id","f"),N(O,"d","M38.346 11.5s-4-11.6-18-11.5c-30 .2-28.8 52.1 16.9 52 39.6-.1 39.2-49.4\n        16.1-49.6-10.2-.2-15 9.1-15 9.1z"),N(E,"id","g"),N(E,"d","M26.5 15c10.8 0 2 14.9-.6 20.9-1.8-8.4-10.2-20.9.6-20.9zM10.2.1C4.6.1 0 4.6 0 10.3c0 5.6\n        4.5 10.2 10.2 10.2 5.6 0 10.2-4.5 10.2-10.2C20.4 4.7 15.9.1 10.2.1zM40.7 0c-4.8 0-8.8\n        4.5-8.8 10.2 0 5.6 3.9 10.2 8.8 10.2 4.8 0 8.8-4.5 8.8-10.2C49.5 4.6 45.6 0 40.7 0z"),N(n,"width","530"),N(n,"height","530"),N(n,"viewBox","0 0 530 530"),N(n,"xmlns","http://www.w3.org/2000/svg"),N(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),N(n,"class","svelte-sifc3t"),N(e,"class",z=$(`floating-btn ${t[0]}`)+" svelte-sifc3t")},m(r,$){w(r,e,$),b(e,n),b(n,o),b(o,i),b(n,s),b(s,l),b(n,a),b(n,c),b(n,u),b(n,p),b(n,d),b(n,f),b(n,h),b(n,g),b(g,m),b(g,v),b(g,y),b(g,x),b(g,_),b(g,O),b(g,E),A||(I=j(e,"click",t[1]),A=!0)},p(t,[n]){1&n&&z!==(z=$(`floating-btn ${t[0]}`)+" svelte-sifc3t")&&N(e,"class",z)},i:r,o:r,d(t){t&&k(e),A=!1,I()}}}function ht(t,e,n){let{buttonPosition:r}=e;return t.$$set=t=>{"buttonPosition"in t&&n(0,r=t.buttonPosition)},[r,function(e){L.call(this,t,e)}]}dt(".floating-btn.svelte-sifc3t.svelte-sifc3t{background:var(--color-blue-bg);border:0;border-radius:50%;box-shadow:0 0 30px rgba(34, 34, 34, 0.3);cursor:pointer;position:fixed;padding:4px 6px;transition:opacity 0.3s;-webkit-transition:opacity 0.3s;z-index:99999}.floating-btn.bottom-right.svelte-sifc3t.svelte-sifc3t{bottom:16px;right:16px}.floating-btn.bottom-left.svelte-sifc3t.svelte-sifc3t{bottom:16px;left:16px}.floating-btn.top-right.svelte-sifc3t.svelte-sifc3t{top:16px;right:16px}.floating-btn.top-left.svelte-sifc3t.svelte-sifc3t{top:16px;left:16px}.floating-btn.svelte-sifc3t.svelte-sifc3t:hover{opacity:0.7}.floating-btn.svelte-sifc3t>svg.svelte-sifc3t{width:34px;height:34px;position:relative;bottom:-2px}");class gt extends pt{constructor(t){super(),ut(this,t,ht,ft,c,{buttonPosition:0})}}function mt(t){let e,n,o,i,s,a,c,u,p,d,f,h,g,m,v,y,x,$,_,S;return{c(){e=C("ul"),n=C("li"),o=C("button"),o.textContent="STATE",i=O(),s=C("li"),a=C("button"),a.textContent="HISTORY",c=O(),u=C("li"),p=C("button"),p.textContent="PLUGINS",d=O(),f=C("li"),h=C("button"),h.textContent="SCHEMA",g=O(),m=C("li"),v=C("button"),v.textContent="STRUCTURE",y=O(),x=C("li"),$=C("button"),$.textContent="SNAPSHOTS",N(o,"class","svelte-l5aruy"),I(o,"active","state"===t[0]),N(a,"class","svelte-l5aruy"),I(a,"active","history"===t[0]),N(p,"class","svelte-l5aruy"),I(p,"active","plugins"===t[0]),N(h,"class","svelte-l5aruy"),I(h,"active","schema"===t[0]),N(v,"class","svelte-l5aruy"),I(v,"active","structure"===t[0]),N($,"class","svelte-l5aruy"),I($,"active","snapshots"===t[0]),N(e,"class","tabs-menu svelte-l5aruy")},m(r,l){w(r,e,l),b(e,n),b(n,o),b(e,i),b(e,s),b(s,a),b(e,c),b(e,u),b(u,p),b(e,d),b(e,f),b(f,h),b(e,g),b(e,m),b(m,v),b(e,y),b(e,x),b(x,$),_||(S=[j(o,"click",t[2]),j(a,"click",t[3]),j(p,"click",t[4]),j(h,"click",t[5]),j(v,"click",t[6]),j($,"click",t[7])],_=!0)},p(t,[e]){1&e&&I(o,"active","state"===t[0]),1&e&&I(a,"active","history"===t[0]),1&e&&I(p,"active","plugins"===t[0]),1&e&&I(h,"active","schema"===t[0]),1&e&&I(v,"active","structure"===t[0]),1&e&&I($,"active","snapshots"===t[0])},i:r,o:r,d(t){t&&k(e),_=!1,l(S)}}}function vt(t,e,n){let{active:r,onClickTab:o}=e;return t.$$set=t=>{"active"in t&&n(0,r=t.active),"onClickTab"in t&&n(1,o=t.onClickTab)},[r,o,()=>o("state"),()=>o("history"),()=>o("plugins"),()=>o("schema"),()=>o("structure"),()=>o("snapshots")]}dt("ul.svelte-l5aruy{display:flex;list-style:none;margin:0;overflow-x:scroll;padding:0}button.svelte-l5aruy{background:transparent;border:0;border-bottom:2px solid transparent;color:var(--color-white);cursor:pointer;height:100%;padding:1em}button.svelte-l5aruy:hover{background:rgba(255, 255, 255, 0.05)}button.active.svelte-l5aruy{border-bottom:2px solid var(--color-red-light)}");class yt extends pt{constructor(t){super(),ut(this,t,vt,mt,c,{active:0,onClickTab:1})}}const xt=[];function $t(t,e=r){let n;const o=new Set;function i(e){if(c(t,e)&&(t=e,n)){const e=!xt.length;for(const e of o)e[1](),xt.push(e,t);if(e){for(let t=0;t<xt.length;t+=2)xt[t][0](xt[t+1]);xt.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,l=r){const a=[s,l];return o.add(a),1===o.size&&(n=e(i)||r),s(t),()=>{o.delete(a),0===o.size&&(n(),n=null)}}}}var bt="APP_CONTEXT",wt=$t(new Map),kt=$t([]),_t=$t(void 0);var Ct=["jsonID","empty","anchor","from","head","to"],St=["$anchor","$head","$cursor","$to","$from"],Tt=["nodeAfter","nodeBefore","textOffset"];function Ot(t){return Ct.reduce((function(e,n){return e[n]=t[n],e}),{})}dt("section.svelte-1w8fqnu{border-top:1px solid rgba(255, 162, 177, 0.2);color:var(--color-white);display:flex;height:calc(100% - var(--height-tabs-menu));width:100%}.split-view h2{color:var(--color-red-gray);font-family:var(--font-sans);font-size:var(--font-medium);font-weight:400;letter-spacing:1px;margin:0;text-transform:uppercase}.split-view > .left-panel{display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view > .right-panel{border-left:1px solid rgba(255, 162, 177, 0.2);display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view .hidden{visibility:hidden}");const Et=t=>({}),jt=t=>({class:"right-panel"}),Nt=t=>({}),zt=t=>({class:"left-panel"});function Mt(t){let e,n,r;const o=t[1].left,i=f(o,t,t[0],zt),s=t[1].right,l=f(s,t,t[0],jt);return{c(){e=C("section"),i&&i.c(),n=O(),l&&l.c(),N(e,"class","split-view svelte-1w8fqnu")},m(t,o){w(t,e,o),i&&i.m(e,null),b(e,n),l&&l.m(e,null),r=!0},p(t,[e]){i&&i.p&&(!r||1&e)&&m(i,o,t,t[0],r?g(o,t[0],e,Nt):v(t[0]),zt),l&&l.p&&(!r||1&e)&&m(l,s,t,t[0],r?g(s,t[0],e,Et):v(t[0]),jt)},i(t){r||(ot(i,t),ot(l,t),r=!0)},o(t){it(i,t),it(l,t),r=!1},d(t){t&&k(e),i&&i.d(t),l&&l.d(t)}}}function At(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,r]}class It extends pt{constructor(t){super(),ut(this,t,At,Mt,c,{})}}function Ft(t,e,r,o,i){var s=i?n(n([],i.path),[t]):[];return{id:"["+s.join(",")+"]",index:t,key:e,value:r,depth:o+1,collapsed:!0,type:Bt(r),path:s,parentId:i?i.id:null,circularOfId:null,children:[]}}function Bt(t){return Array.isArray(t)?"array":t instanceof Map?"map":t instanceof Set?"set":t instanceof Date?"date":null===t?"null":typeof t}function Dt(t,e,n,r,o,i,s,l,a,c){var u;if((null===(u=c.omitKeys)||void 0===u?void 0:u.includes(e))||c.maxDepth&&r>=c.maxDepth)return null;var p=Ft(t,e,n,r,o),d=s.get(p.id);if(d&&!a?p.collapsed=d.collapsed:c.shouldExpandNode&&(p.collapsed=!c.shouldExpandNode(p)),i.set(p.id,p),function(t,e,n){if(!n.stopCircularRecursion)return!0;if(n.isCircularNode)return n.isCircularNode(t,e);if("object"===t.type||"array"===t.type){var r=e.get(t.value);if(r)return t.circularOfId=r.id,!1;e.set(t.value,t)}return!0}(p,l,c)){var f=c.mapChildren&&c.mapChildren(n,Bt(n),p),h=null!=f?f:function(t){switch(Bt(t)){case"array":return t.map((function(t,e){return[e.toString(),t]}));case"map":return Array.from(t.entries()).map((function(t,e){return["[map entry "+e+"]",{"[key]":t[0],"[value]":t[1]}]}));case"set":return Array.from(t.values()).map((function(t,e){return["[set entry "+e+"]",t]}));case"object":return Object.entries(t);default:return[]}}(n);p.children=h.map((function(t,e){return Dt(e,t[0],t[1],r+1,p,i,s,l,a,c)})).filter((function(t){return null!==t}))}return p}function Pt(t,e,n){const r=t.slice();return r[17]=e[n],r}function qt(t){let e,n,r,o,i;return{c(){e=C("button"),n=T("▶"),N(e,"class",r=$("arrow-btn "+(t[0].collapsed?"collapsed":""))+" svelte-1qotaee")},m(r,s){w(r,e,s),b(e,n),o||(i=j(e,"click",t[9]),o=!0)},p(t,n){1&n&&r!==(r=$("arrow-btn "+(t[0].collapsed?"collapsed":""))+" svelte-1qotaee")&&N(e,"class",r)},d(t){t&&k(e),o=!1,i()}}}function Rt(t){let e,n=t[6](t[0].value,t[0])+"";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){1&r&&n!==(n=t[6](t[0].value,t[0])+"")&&A(e,n)},i:r,o:r,d(t){t&&k(e)}}}function Lt(t){let e,n,r;var o=t[3];function i(t){return{props:{value:t[0].value,node:t[0],defaultFormatter:t[11]}}}return o&&(e=new o(i(t))),{c(){e&&st(e.$$.fragment),n=E()},m(t,o){e&&lt(e,t,o),w(t,n,o),r=!0},p(t,r){const s={};if(1&r&&(s.value=t[0].value),1&r&&(s.node=t[0]),1&r&&(s.defaultFormatter=t[11]),o!==(o=t[3])){if(e){nt();const t=e;it(t.$$.fragment,1,0,(()=>{at(t,1)})),rt()}o?(e=new o(i(t)),st(e.$$.fragment),ot(e.$$.fragment,1),lt(e,n.parentNode,n)):e=null}else o&&e.$set(s)},i(t){r||(e&&ot(e.$$.fragment,t),r=!0)},o(t){e&&it(e.$$.fragment,t),r=!1},d(t){t&&k(n),e&&at(e,t)}}}function Ut(t){let e,n,o;return{c(){e=C("button"),e.textContent="log",N(e,"class","log-copy-button svelte-1qotaee")},m(r,i){w(r,e,i),n||(o=j(e,"click",t[7]),n=!0)},p:r,d(t){t&&k(e),n=!1,o()}}}function Gt(t){let e,n,o;return{c(){e=C("button"),e.textContent="copy",N(e,"class","log-copy-button svelte-1qotaee")},m(r,i){w(r,e,i),n||(o=j(e,"click",t[8]),n=!0)},p:r,d(t){t&&k(e),n=!1,o()}}}function Jt(t){let e,n,r,o,i=t[0].children,s=[];for(let e=0;e<i.length;e+=1)s[e]=Kt(Pt(t,i,e));const l=t=>it(s[t],1,1,(()=>{s[t]=null}));return{c(){e=C("li"),n=C("ul");for(let t=0;t<s.length;t+=1)s[t].c();N(n,"style",r="padding-left: 0.875em"),N(n,"class","svelte-1qotaee"),N(e,"class","row svelte-1qotaee")},m(t,r){w(t,e,r),b(e,n);for(let t=0;t<s.length;t+=1)s[t].m(n,null);o=!0},p(t,e){if(1&e){let r;for(i=t[0].children,r=0;r<i.length;r+=1){const o=Pt(t,i,r);s[r]?(s[r].p(o,e),ot(s[r],1)):(s[r]=Kt(o),s[r].c(),ot(s[r],1),s[r].m(n,null))}for(nt(),r=i.length;r<s.length;r+=1)l(r);rt()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)ot(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)it(s[t]);o=!1},d(t){t&&k(e),_(s,t)}}}function Kt(t){let e,n;return e=new Yt({props:{id:t[17].id}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.id=t[17].id),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Ht(t){let e,n,r,o,i,s,a,c,u,p,d,f,h,g,m,v,y,x,$,_=t[0].key+"",S=t[2]&&qt(t);const z=[Lt,Rt],M=[];function F(t,e){return t[3]?0:1}c=F(t),u=M[c]=z[c](t);let B=t[1].showLogButton&&Ut(t),D=t[1].showCopyButton&&Gt(t),P=!t[0].collapsed&&t[2]&&Jt(t);return{c(){e=C("li"),S&&S.c(),n=O(),r=C("div"),o=T(_),i=T(":"),s=O(),a=C("div"),u.c(),d=O(),f=C("div"),B&&B.c(),h=O(),D&&D.c(),m=O(),P&&P.c(),v=E(),N(r,"class","node-key svelte-1qotaee"),I(r,"has-children",t[2]),I(r,"p-left",!t[2]),N(a,"class","node-value svelte-1qotaee"),N(a,"data-type",p=t[0].type),I(a,"expanded",!t[0].collapsed&&t[2]),I(a,"has-children",t[2]),N(f,"class","buttons svelte-1qotaee"),N(e,"class","row svelte-1qotaee"),N(e,"data-tree-id",g=t[0].id),I(e,"collapsed",t[0].collapsed&&t[2])},m(l,u){w(l,e,u),S&&S.m(e,null),b(e,n),b(e,r),b(r,o),b(r,i),b(e,s),b(e,a),M[c].m(a,null),b(e,d),b(e,f),B&&B.m(f,null),b(f,h),D&&D.m(f,null),w(l,m,u),P&&P.m(l,u),w(l,v,u),y=!0,x||($=[j(r,"click",t[9]),j(a,"click",t[9])],x=!0)},p(t,[i]){t[2]?S?S.p(t,i):(S=qt(t),S.c(),S.m(e,n)):S&&(S.d(1),S=null),(!y||1&i)&&_!==(_=t[0].key+"")&&A(o,_),4&i&&I(r,"has-children",t[2]),4&i&&I(r,"p-left",!t[2]);let s=c;c=F(t),c===s?M[c].p(t,i):(nt(),it(M[s],1,1,(()=>{M[s]=null})),rt(),u=M[c],u?u.p(t,i):(u=M[c]=z[c](t),u.c()),ot(u,1),u.m(a,null)),(!y||1&i&&p!==(p=t[0].type))&&N(a,"data-type",p),5&i&&I(a,"expanded",!t[0].collapsed&&t[2]),4&i&&I(a,"has-children",t[2]),t[1].showLogButton?B?B.p(t,i):(B=Ut(t),B.c(),B.m(f,h)):B&&(B.d(1),B=null),t[1].showCopyButton?D?D.p(t,i):(D=Gt(t),D.c(),D.m(f,null)):D&&(D.d(1),D=null),(!y||1&i&&g!==(g=t[0].id))&&N(e,"data-tree-id",g),5&i&&I(e,"collapsed",t[0].collapsed&&t[2]),!t[0].collapsed&&t[2]?P?(P.p(t,i),5&i&&ot(P,1)):(P=Jt(t),P.c(),ot(P,1),P.m(v.parentNode,v)):P&&(nt(),it(P,1,1,(()=>{P=null})),rt())},i(t){y||(ot(u),ot(P),y=!0)},o(t){it(u),it(P),y=!1},d(t){t&&k(e),S&&S.d(),M[c].d(),B&&B.d(),D&&D.d(),t&&k(m),P&&P.d(t),t&&k(v),x=!1,l($)}}}function Wt(t,e,n){let r,o,i,s,l,{id:a}=e;const{treeMapStore:c,propsStore:u,rootElementStore:p,getNode:f,toggleCollapse:h,expandAllNodesToNode:g,formatValue:m}=R("app");d(t,u,(t=>n(1,l=t))),d(t,p,(t=>n(12,s=t))),c.subscribe((t=>{const e=t.get(a);r!==e&&n(0,r=e)}));return t.$$set=t=>{"id"in t&&n(10,a=t.id)},t.$$.update=()=>{1024&t.$$.dirty&&n(0,r=f(a)),1&t.$$.dirty&&n(2,o=r.children.length>0),2&t.$$.dirty&&n(3,i=l.valueComponent)},[r,l,o,i,u,p,m,function(){console.info("%c [prosemirror-dev-toolkit]: Property added to window._node","color: #b8e248"),console.log(r.value),window._node=r.value},function(){navigator.clipboard.writeText(JSON.stringify(r.value))},function(){var t;o?h(r.id):r.circularOfId&&(g(r.circularOfId),null===(t=s.querySelector(`li[data-tree-id="${r.circularOfId}"]`))||void 0===t||t.scrollIntoView())},a,t=>m(t,r)]}dt("ul.svelte-1qotaee.svelte-1qotaee{display:flex;flex-direction:column;height:max-content;list-style:none;padding:0;margin:0;width:100%}li.svelte-1qotaee.svelte-1qotaee{align-items:baseline;display:flex;height:max-content;line-height:var(--li-line-height);list-style:none;width:100%}li.svelte-1qotaee+li.svelte-1qotaee{margin-top:0.25em}.empty-block.svelte-1qotaee.svelte-1qotaee{visibility:hidden}.node-key.svelte-1qotaee.svelte-1qotaee{color:#85d9ef;margin-right:0.5em}.node-key.has-children.svelte-1qotaee.svelte-1qotaee{cursor:pointer}.node-key.p-left.svelte-1qotaee.svelte-1qotaee{padding-left:1.1em}.node-value.svelte-1qotaee.svelte-1qotaee{color:#b8e248;margin-right:0.5em;word-break:break-all}.node-value[data-type='number'].svelte-1qotaee.svelte-1qotaee{color:#fd993c}.node-value[data-type='null'].svelte-1qotaee.svelte-1qotaee,.node-value[data-type='undefined'].svelte-1qotaee.svelte-1qotaee{color:#fa3e7e}.node-value.expanded.svelte-1qotaee.svelte-1qotaee{color:#d1929b}.node-value.has-children.svelte-1qotaee.svelte-1qotaee{cursor:pointer}.arrow-btn.svelte-1qotaee.svelte-1qotaee{background:transparent;border:0;color:#85d9ef;cursor:pointer;margin-right:0.5em;padding:0;transition:all 150ms ease 0s;transform:rotateZ(0deg);transform-origin:45% 50%;position:relative;line-height:1.1em;font-size:0.75em}.arrow-btn.collapsed.svelte-1qotaee.svelte-1qotaee{transform:rotateZ(90deg)}.buttons.svelte-1qotaee.svelte-1qotaee{display:flex;flex-wrap:wrap}.log-copy-button.svelte-1qotaee.svelte-1qotaee{background:transparent;border:0;color:#85d9ef;cursor:pointer;margin:0;padding:0 0.5em}.log-copy-button.svelte-1qotaee.svelte-1qotaee:hover{background:rgba(255, 162, 177, 0.4);border-radius:2px;color:white}");class Yt extends pt{constructor(t){super(),ut(this,t,Wt,Ht,c,{id:10})}}function Vt(t,e,n){const r=t.slice();return r[16]=e[n],r}function Xt(t){let e,n;return e=new Yt({props:{id:t[16].id}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.id=t[16].id),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Zt(t){let e,n,r,o=t[1].children,i=[];for(let e=0;e<o.length;e+=1)i[e]=Xt(Vt(t,o,e));const s=t=>it(i[t],1,1,(()=>{i[t]=null}));return{c(){e=C("section");for(let t=0;t<i.length;t+=1)i[t].c();N(e,"class",n=$(t[3].class)+" svelte-jdx61j")},m(n,o){w(n,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);t[12](e),r=!0},p(t,[l]){if(2&l){let n;for(o=t[1].children,n=0;n<o.length;n+=1){const r=Vt(t,o,n);i[n]?(i[n].p(r,l),ot(i[n],1)):(i[n]=Xt(r),i[n].c(),ot(i[n],1),i[n].m(e,null))}for(nt(),n=o.length;n<i.length;n+=1)s(n);rt()}(!r||8&l&&n!==(n=$(t[3].class)+" svelte-jdx61j"))&&N(e,"class",n)},i(t){if(!r){for(let t=0;t<o.length;t+=1)ot(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)it(i[t]);r=!1},d(n){n&&k(e),_(i,n),t[12](null)}}}function Qt(t,n,r){let i,{data:s,leftIndent:l=4,showLogButton:a=!1,showCopyButton:c=!1,valueComponent:u,recursionOpts:f={},valueFormatter:h}=n,g=null;const m={maxDepth:10,omitKeys:[],stopRecursion:!1,shouldExpandNode:()=>!1};let v={leftIndent:l,showLogButton:a,showCopyButton:c,valueComponent:u,recursionOpts:Object.assign(Object.assign({},m),f),valueFormatter:h};!function(t){var n=$t(new Map),r=$t(Ft(0,"root",[],0,null)),o=$t(t),i=$t(null);function s(t){return p(n).get(t)}q("app",{treeMapStore:n,treeStore:r,propsStore:o,rootElementStore:i,getNode:s,toggleCollapse:function(t){var r=s(t);r?n.update((function(t){return new Map(t.set(r.id,e(e({},r),{collapsed:!r.collapsed})))})):console.warn("Attempted to collapse non-existent node: "+t)},expandAllNodesToNode:function(t){var r=new Map(p(n));!function t(n,r){r&&(n.set(r.id,e(e({},r),{collapsed:!1})),r.parentId&&t(n,n.get(r.parentId)))}(r,r.get(t)),n.set(r)},formatValue:function(t,e){var n=p(o).valueFormatter,r=n?n(t,e):void 0;if(r)return r;switch(e.type){case"array":return(e.circularOfId?"circular":"")+" [] "+t.length+" items";case"object":return(e.circularOfId?"circular":"")+" {} "+Object.keys(t).length+" keys";case"map":case"set":return(e.circularOfId?"circular":"")+" () "+t.size+" entries";case"date":return""+t.toISOString();case"string":return'"'+t+'"';case"boolean":return t?"true":"false";default:return t}}})}(v);const{treeMapStore:x,treeStore:$,rootElementStore:b}=R("app");return d(t,$,(t=>r(1,i=t))),P((()=>{b.set(g)})),t.$$set=t=>{r(3,n=o(o({},n),y(t))),"data"in t&&r(4,s=t.data),"leftIndent"in t&&r(5,l=t.leftIndent),"showLogButton"in t&&r(6,a=t.showLogButton),"showCopyButton"in t&&r(7,c=t.showCopyButton),"valueComponent"in t&&r(8,u=t.valueComponent),"recursionOpts"in t&&r(9,f=t.recursionOpts),"valueFormatter"in t&&r(10,h=t.valueFormatter)},t.$$.update=()=>{if(3552&t.$$.dirty&&r(11,v={leftIndent:l,showLogButton:a,showCopyButton:c,valueComponent:u,valueFormatter:h,recursionOpts:v.recursionOpts}),2576&t.$$.dirty){const t=Object.assign(Object.assign({},m),f),e=v.recursionOpts.shouldExpandNode!==t.shouldExpandNode,n=new Map,o=p(x),i=new Map,l=Dt(-1,"root",s,-1,null,n,o,i,e,t);x.set(n),$.set(l),r(11,v.recursionOpts=t,v)}},n=y(n),[g,i,$,n,s,l,a,c,u,f,h,v,function(t){G[t?"unshift":"push"]((()=>{g=t,r(0,g)}))}]}dt(".svelte-jdx61j{box-sizing:border-box}section.svelte-jdx61j{font-family:Helvetica Neue, Calibri Light, Roboto, sans-serif;font-size:13px;height:max-content;width:max-content}");class te extends pt{constructor(t){super(),ut(this,t,Qt,Zt,c,{data:4,leftIndent:5,showLogButton:6,showCopyButton:7,valueComponent:8,recursionOpts:9,valueFormatter:10})}}function ee(t){let e,n,r,i;const s=t[3].default,a=f(s,t,t[2],null);let c=[t[1]],u={};for(let t=0;t<c.length;t+=1)u=o(u,c[t]);return{c(){e=C("button"),a&&a.c(),z(e,u),I(e,"selected",t[0]),I(e,"svelte-gbjxau",!0)},m(o,s){w(o,e,s),a&&a.m(e,null),e.autofocus&&e.focus(),n=!0,r||(i=[j(e,"click",t[4]),j(e,"mouseover",t[5]),j(e,"mouseenter",t[6]),j(e,"mouseleave",t[7])],r=!0)},p(t,[r]){a&&a.p&&(!n||4&r)&&m(a,s,t,t[2],n?g(s,t[2],r,null):v(t[2]),null),z(e,u=function(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],l=e[i];if(l){for(const t in s)t in l||(r[t]=1);for(const t in l)o[t]||(n[t]=l[t],o[t]=1);t[i]=l}else for(const t in s)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(c,[t[1]])),I(e,"selected",t[0]),I(e,"svelte-gbjxau",!0)},i(t){n||(ot(a,t),n=!0)},o(t){it(a,t),n=!1},d(t){t&&k(e),a&&a.d(t),r=!1,l(i)}}}function ne(t,e,n){const r=["selected"];let i=x(e,r),{$$slots:s={},$$scope:l}=e,{selected:a=!1}=e,c={class:[i.class]};return t.$$set=t=>{e=o(o({},e),y(t)),n(8,i=x(e,r)),"selected"in t&&n(0,a=t.selected),"$$scope"in t&&n(2,l=t.$$scope)},[a,c,l,s,function(e){L.call(this,t,e)},function(e){L.call(this,t,e)},function(e){L.call(this,t,e)},function(e){L.call(this,t,e)}]}dt("button.svelte-gbjxau{background:transparent;border:0;border-radius:2px;color:var(--color-gray-light);cursor:pointer;font-size:var(--font-small);padding:6px 10px;text-transform:uppercase}button.svelte-gbjxau:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-gbjxau{background:rgba(255, 162, 177, 0.4)}");class re extends pt{constructor(t){super(),ut(this,t,ne,ee,c,{selected:0})}}function oe(t,e,n){const r=t.slice();return r[10]=e[n],r}function ie(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function se(t){let e,n,r,o,i,s,l,a;return i=new re({props:{$$slots:{default:[ie]},$$scope:{ctx:t}}}),i.$on("click",t[6]),l=new te({props:{class:"tree-view",data:t[0],showLogButton:!0,showCopyButton:!0,valueFormatter:he}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Current doc",o=O(),st(i.$$.fragment),s=O(),st(l.$$.fragment),N(n,"class","top-row svelte-3eo07f"),N(e,"slot","left"),N(e,"class","left-panel svelte-3eo07f")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s),lt(l,e,null),a=!0},p(t,e){const n={};8192&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};1&e&&(r.data=t[0]),l.$set(r)},i(t){a||(ot(i.$$.fragment,t),ot(l.$$.fragment,t),a=!0)},o(t){it(i.$$.fragment,t),it(l.$$.fragment,t),a=!1},d(t){t&&k(e),at(i),at(l)}}}function le(t){let e;return{c(){e=C("span"),N(e,"class","caret-icon svelte-3eo07f"),I(e,"expanded",t[5])},m(t,n){w(t,e,n)},p(t,n){32&n&&I(e,"expanded",t[5])},d(t){t&&k(e)}}}function ae(t){let e,n;return e=new te({props:{class:"tree-view",data:t[1],recursionOpts:{maxDepth:10}}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.data=t[1]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function ce(t){let e;return{c(){e=C("div")},m(t,n){w(t,e,n)},p:r,d(t){t&&k(e)}}}function ue(t){let e,n;return e=new te({props:{class:"tree-view",data:t[2]}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.data=t[2]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function pe(t){let e;return{c(){e=C("div"),e.textContent="No active marks",N(e,"class","no-marks svelte-3eo07f")},m(t,n){w(t,e,n)},p:r,i:r,o:r,d(t){t&&k(e)}}}function de(t){let e,n,r,o,i,s,l,a,c,u,p,d,f,h,g,m,v,y;i=new re({props:{class:"selection-btn",$$slots:{default:[le]},$$scope:{ctx:t}}}),i.$on("click",t[7]);let x=[],$=[];for(let e=0;e<x.length;e+=1)$[e]=ce(oe(t,x,e));let S=null;x.length||(S=ae(t));const T=[pe,ue],E=[];function j(t,e){return 0===t[2].length?0:1}return p=j(t),d=E[p]=T[p](t),v=new te({props:{class:"tree-view",data:{nodeSize:t[3],childCount:t[4]}}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Selection",o=O(),st(i.$$.fragment),s=O();for(let t=0;t<$.length;t+=1)$[t].c();S&&S.c(),l=O(),a=C("div"),c=C("h2"),c.textContent="Active marks",u=O(),d.c(),f=O(),h=C("div"),g=C("h2"),g.textContent="Document stats",m=O(),st(v.$$.fragment),N(n,"class","top-row svelte-3eo07f"),N(e,"slot","right"),N(e,"class","right-panel svelte-3eo07f")},m(t,d){w(t,e,d),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s);for(let t=0;t<$.length;t+=1)$[t].m(e,null);S&&S.m(e,null),b(e,l),b(e,a),b(a,c),b(a,u),E[p].m(a,null),b(e,f),b(e,h),b(h,g),b(h,m),lt(v,h,null),y=!0},p(t,n){const r={};if(8224&n&&(r.$$scope={dirty:n,ctx:t}),i.$set(r),2&n){let r;for(x=[],r=0;r<x.length;r+=1){const o=oe(t,x,r);$[r]?$[r].p(o,n):($[r]=ce(),$[r].c(),$[r].m(e,l))}for(;r<$.length;r+=1)$[r].d(1);$.length=x.length,!x.length&&S?S.p(t,n):x.length?S&&(nt(),it(S,1,1,(()=>{S=null})),rt()):(S=ae(t),S.c(),ot(S,1),S.m(e,l))}let o=p;p=j(t),p===o?E[p].p(t,n):(nt(),it(E[o],1,1,(()=>{E[o]=null})),rt(),d=E[p],d?d.p(t,n):(d=E[p]=T[p](t),d.c()),ot(d,1),d.m(a,null));const s={};24&n&&(s.data={nodeSize:t[3],childCount:t[4]}),v.$set(s)},i(t){y||(ot(i.$$.fragment,t),ot(d),ot(v.$$.fragment,t),y=!0)},o(t){it(i.$$.fragment,t),it(d),it(v.$$.fragment,t),y=!1},d(t){t&&k(e),at(i),_($,t),S&&S.d(),E[p].d(),at(v)}}}function fe(t){let e,n;return e=new It({props:{$$slots:{right:[de],left:[se]},$$scope:{ctx:t}}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,[n]){const r={};8255&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function he(t,e){if("object"===e.type&&t.type)return`{} ${t.type}`}function ge(t,n,r){const{view:o}=R(bt);let i=o.state.doc.toJSON(),s=Ot(o.state.selection),l=o.state,a=[],c=o.state.doc.nodeSize,u=o.state.doc.childCount,p=!1;return _t.subscribe((t=>{if(!t)return;const{state:e}=t;l=e,r(0,i=e.doc.toJSON()),r(1,s=Ot(e.selection)),r(2,a=function(t){if(t.selection.empty){var e=t.selection.$from,n=t.storedMarks;return n?n.map((function(t){return t.type.name})):e.marks().map((function(t){return t.type.name}))}var r=t.selection.$head,o=t.selection.$anchor,i=new Set;return r.marks().forEach((function(t){return i.add(t.type.name)})),o.marks().forEach((function(t){return i.add(t.type.name)})),Array.from(i)}(e)),r(3,c=e.doc.nodeSize),r(4,u=e.doc.childCount)})),[i,s,a,c,u,p,function(){console.log(i),window._doc=i},function(){r(5,p=!p),r(1,s=p?function(t){return Ct.concat(St).reduce((function(n,r){var o=t[r];if(o&&St.includes(r)){var i={};Tt.forEach((function(t){i[t]=o[t]})),o=e(e({},o),i)}return n[r]=o,n}),{})}(l.selection):Ot(l.selection))}]}dt("@charset \"UTF-8\";.top-row.svelte-3eo07f{align-items:center;display:flex;justify-content:space-between}.left-panel.svelte-3eo07f{overflow:scroll}.right-panel.svelte-3eo07f{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:200px;width:200px}.split-view .selection-btn{height:24px;width:35px}.caret-icon.svelte-3eo07f::before{content:'▶'}.caret-icon.expanded.svelte-3eo07f::before{content:'▼'}.no-marks.svelte-3eo07f{color:var(--color-blue-light);margin:0.5em 0 1em 1em}.split-view .tree-view{margin:0.5em 0 1em 0}");class me extends pt{constructor(t){super(),ut(this,t,ge,fe,c,{})}}function ve(t,e,n){if("array"===e)return[]}function ye(t,e){if("array"===e&&0===t[1]&&0===t[2])return[];if("array"===e&&"string"==typeof t[0]&&0===t[1]&&2===t[2])return[];if("array"===e&&1===t.length&&"object"==typeof t[0])return[];if("object"===e&&"a"===t._t){var n=[];for(var r in t)"_t"!==r&&("_"===r.charAt(0)?n.push([r.substr(1),t[r]]):n.push([r,t[r]]));return n}}function xe(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function $e(t,e,n){const r=t.slice();return r[8]=e[n],r}function be(t){let e,n,r,o=t[5].entries.length+"";return{c(){e=T("["),n=T(o),r=T("]")},m(t,o){w(t,e,o),w(t,n,o),w(t,r,o)},p(t,e){1&e&&o!==(o=t[5].entries.length+"")&&A(n,o)},d(t){t&&k(e),t&&k(n),t&&k(r)}}}function we(t){let e;return{c(){e=C("span"),N(e,"class","caret-icon svelte-1migjw3"),I(e,"expanded",t[5].expanded)},m(t,n){w(t,e,n)},p(t,n){1&n&&I(e,"expanded",t[5].expanded)},d(t){t&&k(e)}}}function ke(t){let e,n=t[5].entries,r=[];for(let e=0;e<n.length;e+=1)r[e]=_e($e(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=E()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,o){if(7&o){let i;for(n=t[5].entries,i=0;i<n.length;i+=1){const s=$e(t,n,i);r[i]?r[i].p(s,o):(r[i]=_e(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){_(r,t),t&&k(e)}}}function _e(t){let e,n,r,o,i,s,l=t[8].timeStr+"";function a(){return t[4](t[8],t[7])}return{c(){e=C("li"),n=C("button"),r=T(l),o=O(),N(n,"class","p-left svelte-1migjw3"),N(e,"class","svelte-1migjw3"),I(e,"selected",t[1]===t[8].id)},m(t,l){w(t,e,l),b(e,n),b(n,r),b(e,o),i||(s=j(n,"click",a),i=!0)},p(n,o){t=n,1&o&&l!==(l=t[8].timeStr+"")&&A(r,l),3&o&&I(e,"selected",t[1]===t[8].id)},d(t){t&&k(e),i=!1,s()}}}function Ce(t){let e,n,r,o,i,s,l,a,c,u,p=t[5].topEntry.timeStr+"",d=t[5].isGroup&&be(t),f=t[5].isGroup&&t[5].entries.length>1&&we(t);function h(){return t[3](t[5],t[7])}let g=t[5].isGroup&&t[5].expanded&&ke(t);return{c(){e=C("li"),n=C("button"),r=C("span"),o=T(p),i=O(),d&&d.c(),s=O(),f&&f.c(),l=O(),g&&g.c(),a=E(),N(n,"class","svelte-1migjw3"),I(n,"is-group",t[5].isGroup),N(e,"class","svelte-1migjw3"),I(e,"selected",!t[5].expanded&&t[1]===t[5].topEntry.id)},m(t,p){w(t,e,p),b(e,n),b(n,r),b(r,o),b(r,i),d&&d.m(r,null),b(n,s),f&&f.m(n,null),w(t,l,p),g&&g.m(t,p),w(t,a,p),c||(u=j(n,"click",h),c=!0)},p(i,s){t=i,1&s&&p!==(p=t[5].topEntry.timeStr+"")&&A(o,p),t[5].isGroup?d?d.p(t,s):(d=be(t),d.c(),d.m(r,null)):d&&(d.d(1),d=null),t[5].isGroup&&t[5].entries.length>1?f?f.p(t,s):(f=we(t),f.c(),f.m(n,null)):f&&(f.d(1),f=null),1&s&&I(n,"is-group",t[5].isGroup),3&s&&I(e,"selected",!t[5].expanded&&t[1]===t[5].topEntry.id),t[5].isGroup&&t[5].expanded?g?g.p(t,s):(g=ke(t),g.c(),g.m(a.parentNode,a)):g&&(g.d(1),g=null)},d(t){t&&k(e),d&&d.d(),f&&f.d(),t&&k(l),g&&g.d(t),t&&k(a),c=!1,u()}}}function Se(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=Ce(xe(t,n,e));return{c(){e=C("ul");for(let t=0;t<o.length;t+=1)o[t].c();N(e,"class","svelte-1migjw3")},m(t,n){w(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,[r]){if(7&r){let i;for(n=t[0],i=0;i<n.length;i+=1){const s=xe(t,n,i);o[i]?o[i].p(s,r):(o[i]=Ce(s),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},i:r,o:r,d(t){t&&k(e),_(o,t)}}}function Te(t,e,n){let{listItems:r=[],selectedId:o,onSelect:i}=e;return t.$$set=t=>{"listItems"in t&&n(0,r=t.listItems),"selectedId"in t&&n(1,o=t.selectedId),"onSelect"in t&&n(2,i=t.onSelect)},[r,o,i,(t,e)=>i(t.topEntry.id,e,!0),(t,e)=>i(t.id,e,!1)]}dt("@charset \"UTF-8\";ul.svelte-1migjw3.svelte-1migjw3{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-1migjw3.svelte-1migjw3{transition:background 0.1s}li.svelte-1migjw3.svelte-1migjw3:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}li.selected.svelte-1migjw3.svelte-1migjw3{background:rgba(255, 162, 177, 0.4)}li.svelte-1migjw3+li.svelte-1migjw3{border-top:1px solid var(--color-purple)}button.svelte-1migjw3.svelte-1migjw3{background:transparent;border:0;color:var(--color-gray-light);cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-small);height:100%;justify-content:space-between;padding:6px 18px;text-transform:uppercase;width:100%}button.p-left.svelte-1migjw3.svelte-1migjw3{margin-left:1em}.caret-icon.svelte-1migjw3.svelte-1migjw3::before{content:'▶'}.caret-icon.expanded.svelte-1migjw3.svelte-1migjw3::before{content:'▼'}");class Oe extends pt{constructor(t){super(),ut(this,t,Te,Se,c,{listItems:0,selectedId:1,onSelect:2})}}function Ee(t,e,n){const r=t.slice();return r[3]=e[n],r}function je(t){let e,n=t[1](t[0])+"";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){3&r&&n!==(n=t[1](t[0])+"")&&A(e,n)},d(t){t&&k(e)}}}function Ne(t){let e;function n(t,e){return 1===t[0].length?Ie:2===t[0].length?Ae:3===t[0].length&&0===t[0][1]&&0===t[0][2]?Me:3===t[0].length&&2===t[0][2]?ze:void 0}let r=n(t),o=r&&r(t);return{c(){o&&o.c(),e=E()},m(t,n){o&&o.m(t,n),w(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o&&o.d(1),o=r&&r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o&&o.d(t),t&&k(e)}}}function ze(t){let e,n=Re(t[0][0]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Pe(Ee(t,n,e));return{c(){e=C("span");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"class","updated svelte-ld8g2r")},m(t,n){w(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(1&o){let i;for(n=Re(t[0][0]),i=0;i<n.length;i+=1){const s=Ee(t,n,i);r[i]?r[i].p(s,o):(r[i]=Pe(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&k(e),_(r,t)}}}function Me(t){let e,n,r=Le(t[0][0])+"";return{c(){e=C("span"),n=T(r),N(e,"class","deleted svelte-ld8g2r")},m(t,r){w(t,e,r),b(e,n)},p(t,e){1&e&&r!==(r=Le(t[0][0])+"")&&A(n,r)},d(t){t&&k(e)}}}function Ae(t){let e,n,r,o,i,s,l,a,c=Le(t[0][0])+"",u=Le(t[0][1])+"";return{c(){e=C("span"),n=C("span"),r=T(c),o=O(),i=C("span"),i.textContent="=>",s=O(),l=C("span"),a=T(u),N(n,"class","deleted svelte-ld8g2r"),N(i,"class","arrow svelte-ld8g2r"),N(l,"class","added svelte-ld8g2r"),N(e,"class","updated svelte-ld8g2r")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(e,o),b(e,i),b(e,s),b(e,l),b(l,a)},p(t,e){1&e&&c!==(c=Le(t[0][0])+"")&&A(r,c),1&e&&u!==(u=Le(t[0][1])+"")&&A(a,u)},d(t){t&&k(e)}}}function Ie(t){let e,n,r=Le(t[0][0])+"";return{c(){e=C("span"),n=T(r),N(e,"class","added svelte-ld8g2r")},m(t,r){w(t,e,r),b(e,n)},p(t,e){1&e&&r!==(r=Le(t[0][0])+"")&&A(n,r)},d(t){t&&k(e)}}}function Fe(t){let e,n,r=t[3].raw+"";return{c(){e=C("span"),n=T(r)},m(t,r){w(t,e,r),b(e,n)},p(t,e){1&e&&r!==(r=t[3].raw+"")&&A(n,r)},d(t){t&&k(e)}}}function Be(t){let e,n,r=t[3].add+"";return{c(){e=C("span"),n=T(r),N(e,"class","added svelte-ld8g2r")},m(t,r){w(t,e,r),b(e,n)},p(t,e){1&e&&r!==(r=t[3].add+"")&&A(n,r)},d(t){t&&k(e)}}}function De(t){let e,n,r=t[3].delete+"";return{c(){e=C("span"),n=T(r),N(e,"class","deleted svelte-ld8g2r")},m(t,r){w(t,e,r),b(e,n)},p(t,e){1&e&&r!==(r=t[3].delete+"")&&A(n,r)},d(t){t&&k(e)}}}function Pe(t){let e;function n(t,e){return t[3].delete?De:t[3].add?Be:Fe}let r=n(t),o=r(t);return{c(){o.c(),e=E()},m(t,n){o.m(t,n),w(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&k(e)}}}function qe(t){let e,n;function o(t,n){return(null==e||1&n)&&(e=!!Array.isArray(t[0])),e?Ne:je}let i=o(t,-1),s=i(t);return{c(){s.c(),n=E()},m(t,e){s.m(t,e),w(t,n,e)},p(t,[e]){i===(i=o(t,e))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(n.parentNode,n)))},i:r,o:r,d(t){s.d(t),t&&k(n)}}}function Re(t){return t.split(/\n/gm).slice(1).map((t=>{return{[t.startsWith("-")?"delete":t.startsWith("+")?"add":"raw"]:(e=t.substr(1),e.replace(/\s/gm," "))};var e}))}function Le(t){return"string"==typeof t?t:function(t){if(null===t)return"null";const e=JSON.stringify(t);return void 0===e?"undefined":e.length>22?`${e.substr(0,15)}…${e.substr(-5)}`:e}(t)}function Ue(t,e,n){let{value:r,node:o,defaultFormatter:i}=e;return t.$$set=t=>{"value"in t&&n(0,r=t.value),"node"in t&&n(2,o=t.node),"defaultFormatter"in t&&n(1,i=t.defaultFormatter)},[r,i,o]}dt(".added.svelte-ld8g2r.svelte-ld8g2r{display:inline-block;background:var(--color-green-light);border-radius:1px;color:var(--color-green);padding:1px 2px;text-indent:0;min-height:1ex}.deleted.svelte-ld8g2r.svelte-ld8g2r{display:inline-block;background:var(--color-red);border-radius:1px;color:var(--color-gray-light);padding:1px 2px;text-decoration:line-through;text-indent:0;min-height:1ex}.updated.svelte-ld8g2r.svelte-ld8g2r{word-break:break-all}.updated.svelte-ld8g2r .added.svelte-ld8g2r{background:var(--color-yellow)}.arrow.svelte-ld8g2r.svelte-ld8g2r{color:var(--color-green-light)}");class Ge extends pt{constructor(t){super(),ut(this,t,Ue,qe,c,{value:0,node:2,defaultFormatter:1})}}function Je(t){let e,n,r;return n=new Oe({props:{listItems:t[4],selectedId:t[0]&&t[0].id,onSelect:t[7]}}),{c(){e=C("div"),st(n.$$.fragment),N(e,"slot","left"),N(e,"class","left-panel svelte-9jnsvd")},m(t,o){w(t,e,o),lt(n,e,null),r=!0},p(t,e){const r={};16&e&&(r.listItems=t[4]),1&e&&(r.selectedId=t[0]&&t[0].id),n.$set(r)},i(t){r||(ot(n.$$.fragment,t),r=!0)},o(t){it(n.$$.fragment,t),r=!1},d(t){t&&k(e),at(n)}}}function Ke(t){let e;return{c(){e=C("div"),e.textContent="Docs are equal.",N(e,"class","equal-diff svelte-9jnsvd")},m(t,n){w(t,e,n)},p:r,i:r,o:r,d(t){t&&k(e)}}}function He(t){let e,n,r,o,i,s,l,a,c,u,p,d,f,h=t[0].contentDiff&&We(t),g=t[0].selectionDiff&&Ve(t),m=t[0].selectionHtml.length>0&&Ze(t),v=t[1]&&tn(t);p=new re({props:{$$slots:{default:[rn]},$$scope:{ctx:t}}}),p.$on("click",t[5]);let y=t[1]&&on(t);return{c(){e=C("div"),h&&h.c(),n=O(),g&&g.c(),r=O(),m&&m.c(),o=O(),i=C("div"),s=C("div"),l=C("h2"),l.textContent="Transaction",a=O(),c=C("div"),v&&v.c(),u=O(),st(p.$$.fragment),d=O(),y&&y.c(),N(s,"class","title-container svelte-9jnsvd"),N(i,"class","entry-row svelte-9jnsvd")},m(t,x){w(t,e,x),h&&h.m(e,null),b(e,n),g&&g.m(e,null),b(e,r),m&&m.m(e,null),b(e,o),b(e,i),b(i,s),b(s,l),b(s,a),b(s,c),v&&v.m(c,null),b(c,u),lt(p,c,null),b(i,d),y&&y.m(i,null),f=!0},p(t,s){t[0].contentDiff?h?(h.p(t,s),1&s&&ot(h,1)):(h=We(t),h.c(),ot(h,1),h.m(e,n)):h&&(nt(),it(h,1,1,(()=>{h=null})),rt()),t[0].selectionDiff?g?(g.p(t,s),1&s&&ot(g,1)):(g=Ve(t),g.c(),ot(g,1),g.m(e,r)):g&&(nt(),it(g,1,1,(()=>{g=null})),rt()),t[0].selectionHtml.length>0?m?(m.p(t,s),1&s&&ot(m,1)):(m=Ze(t),m.c(),ot(m,1),m.m(e,o)):m&&(nt(),it(m,1,1,(()=>{m=null})),rt()),t[1]?v?(v.p(t,s),2&s&&ot(v,1)):(v=tn(t),v.c(),ot(v,1),v.m(c,u)):v&&(nt(),it(v,1,1,(()=>{v=null})),rt());const l={};4098&s&&(l.$$scope={dirty:s,ctx:t}),p.$set(l),t[1]?y?(y.p(t,s),2&s&&ot(y,1)):(y=on(t),y.c(),ot(y,1),y.m(i,null)):y&&(nt(),it(y,1,1,(()=>{y=null})),rt())},i(t){f||(ot(h),ot(g),ot(m),ot(v),ot(p.$$.fragment,t),ot(y),f=!0)},o(t){it(h),it(g),it(m),it(v),it(p.$$.fragment,t),it(y),f=!1},d(t){t&&k(e),h&&h.d(),g&&g.d(),m&&m.d(),v&&v.d(),at(p),y&&y.d()}}}function We(t){let e,n,r,o,i,s,l,a;return i=new re({props:{class:"hidden",$$slots:{default:[Ye]},$$scope:{ctx:t}}}),l=new te({props:{class:"tree-view",data:t[0].contentDiff,showLogButton:!0,showCopyButton:!0,valueComponent:Ge,recursionOpts:{maxDepth:12,mapChildren:ye,shouldExpandNode:an}}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Doc diff",o=O(),st(i.$$.fragment),s=O(),st(l.$$.fragment),N(n,"class","title-container svelte-9jnsvd"),N(e,"class","entry-row svelte-9jnsvd")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s),lt(l,e,null),a=!0},p(t,e){const n={};4096&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};1&e&&(r.data=t[0].contentDiff),l.$set(r)},i(t){a||(ot(i.$$.fragment,t),ot(l.$$.fragment,t),a=!0)},o(t){it(i.$$.fragment,t),it(l.$$.fragment,t),a=!1},d(t){t&&k(e),at(i),at(l)}}}function Ye(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ve(t){let e,n,r,o,i,s,l,a;return i=new re({props:{class:"hidden",$$slots:{default:[Xe]},$$scope:{ctx:t}}}),l=new te({props:{class:"tree-view",data:t[0].selectionDiff,valueComponent:Ge,recursionOpts:{mapChildren:ve,shouldExpandNode:cn}}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Selection diff",o=O(),st(i.$$.fragment),s=O(),st(l.$$.fragment),N(n,"class","title-container svelte-9jnsvd"),N(e,"class","entry-row svelte-9jnsvd")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s),lt(l,e,null),a=!0},p(t,e){const n={};4096&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};1&e&&(r.data=t[0].selectionDiff),l.$set(r)},i(t){a||(ot(i.$$.fragment,t),ot(l.$$.fragment,t),a=!0)},o(t){it(i.$$.fragment,t),it(l.$$.fragment,t),a=!1},d(t){t&&k(e),at(i),at(l)}}}function Xe(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Ze(t){let e,n,r,o,i,s,l,a,c,u=t[0].selectionHtml+"";return i=new re({props:{class:"hidden",$$slots:{default:[Qe]},$$scope:{ctx:t}}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Selection content",o=O(),st(i.$$.fragment),s=O(),l=C("pre"),a=C("code"),N(n,"class","title-container svelte-9jnsvd"),N(l,"class","selection-html svelte-9jnsvd"),N(e,"class","entry-row svelte-9jnsvd")},m(t,p){w(t,e,p),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s),b(e,l),b(l,a),a.innerHTML=u,c=!0},p(t,e){const n={};4096&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),(!c||1&e)&&u!==(u=t[0].selectionHtml+"")&&(a.innerHTML=u)},i(t){c||(ot(i.$$.fragment,t),c=!0)},o(t){it(i.$$.fragment,t),c=!1},d(t){t&&k(e),at(i)}}}function Qe(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function tn(t){let e,n,r,o;return e=new re({props:{$$slots:{default:[en]},$$scope:{ctx:t}}}),e.$on("click",t[8]),r=new re({props:{$$slots:{default:[nn]},$$scope:{ctx:t}}}),r.$on("click",t[6]),{c(){st(e.$$.fragment),n=O(),st(r.$$.fragment)},m(t,i){lt(e,t,i),w(t,n,i),lt(r,t,i),o=!0},p(t,n){const o={};4100&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};4096&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(ot(e.$$.fragment,t),ot(r.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),it(r.$$.fragment,t),o=!1},d(t){at(e,t),t&&k(n),at(r,t)}}}function en(t){let e,n=t[2]?"collapse":"expand";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){4&r&&n!==(n=t[2]?"collapse":"expand")&&A(e,n)},d(t){t&&k(e)}}}function nn(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function rn(t){let e,n=t[1]?"hide":"show";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){2&r&&n!==(n=t[1]?"hide":"show")&&A(e,n)},d(t){t&&k(e)}}}function on(t){let e,n;return e=new te({props:{class:"tree-view",data:t[0].tr,showLogButton:!0,showCopyButton:!0,recursionOpts:t[3]}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.data=t[0].tr),8&n&&(r.recursionOpts=t[3]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function sn(t){let e,n,r,o;const i=[He,Ke],s=[];function l(t,e){return t[0]?0:1}return n=l(t),r=s[n]=i[n](t),{c(){e=C("div"),r.c(),N(e,"slot","right"),N(e,"class","right-panel")},m(t,r){w(t,e,r),s[n].m(e,null),o=!0},p(t,o){let a=n;n=l(t),n===a?s[n].p(t,o):(nt(),it(s[a],1,1,(()=>{s[a]=null})),rt(),r=s[n],r?r.p(t,o):(r=s[n]=i[n](t),r.c()),ot(r,1),r.m(e,null))},i(t){o||(ot(r),o=!0)},o(t){it(r),o=!1},d(t){t&&k(e),s[n].d()}}}function ln(t){let e,n;return e=new It({props:{$$slots:{right:[sn],left:[Je]},$$scope:{ctx:t}}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,[n]){const r={};4127&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}dt(".left-panel.svelte-9jnsvd.svelte-9jnsvd{flex-grow:0;padding:0;min-width:190px;width:190px}.title-container.svelte-9jnsvd.svelte-9jnsvd{align-items:center;display:flex;justify-content:space-between}.entry-row.svelte-9jnsvd+.entry-row.svelte-9jnsvd{margin-top:1em}.selection-html.svelte-9jnsvd.svelte-9jnsvd{margin:0.5em 0 0 0;padding:0}.equal-diff.svelte-9jnsvd.svelte-9jnsvd{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");const an=()=>!0,cn=()=>!0;function un(t,e,n){let r,o,i;d(t,wt,(t=>n(9,o=t))),d(t,kt,(t=>n(10,i=t))),R(bt);let s,l=!1,a=!1,c={maxDepth:10,stopCircularRecursion:!0,omitKeys:["schema"],shouldExpandNode:()=>a};return _t.subscribe((t=>{t&&n(0,s=t)})),t.$$.update=()=>{1536&t.$$.dirty&&n(4,r=i.map((t=>({isGroup:t.isGroup,topEntry:o.get(t.topEntryId),entries:t.entryIds.map((t=>o.get(t))),expanded:t.expanded}))))},[s,l,a,c,r,function(){n(1,l=!l)},function(){console.info("%c [prosemirror-dev-toolkit]: Property added to window._tr","color: #b8e248"),console.log(s.tr),window._tr=s.tr},function(t,e,i){n(0,s=o.get(t));const l=r[e];l.isGroup&&l.entries.length>1&&i&&kt.update((t=>t.map(((t,n)=>n!==e?t:Object.assign(Object.assign({},t),{expanded:!t.expanded})))))},function(){n(2,a=!a),n(3,c=Object.assign(Object.assign({},c),{shouldExpandNode:()=>a}))},o,i]}class pn extends pt{constructor(t){super(),ut(this,t,un,ln,c,{})}}function dn(t,e,n){const r=t.slice();return r[4]=e[n],r}function fn(t){let e,n,r,o,i,s,l=t[4].value+"";function a(){return t[3](t[4])}return{c(){e=C("li"),n=C("button"),r=T(l),o=O(),N(n,"class","svelte-lsgsky"),I(n,"selected",t[1]===t[4].key),I(n,"empty",t[4].empty),N(e,"class","svelte-lsgsky")},m(t,l){w(t,e,l),b(e,n),b(n,r),b(e,o),i||(s=j(n,"click",a),i=!0)},p(e,o){t=e,1&o&&l!==(l=t[4].value+"")&&A(r,l),3&o&&I(n,"selected",t[1]===t[4].key),1&o&&I(n,"empty",t[4].empty)},d(t){t&&k(e),i=!1,s()}}}function hn(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=fn(dn(t,n,e));return{c(){e=C("ul");for(let t=0;t<o.length;t+=1)o[t].c();N(e,"class","svelte-lsgsky")},m(t,n){w(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,[r]){if(7&r){let i;for(n=t[0],i=0;i<n.length;i+=1){const s=dn(t,n,i);o[i]?o[i].p(s,r):(o[i]=fn(s),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},i:r,o:r,d(t){t&&k(e),_(o,t)}}}function gn(t,e,n){let{listItems:r=[],selectedKey:o,onSelect:i}=e;return t.$$set=t=>{"listItems"in t&&n(0,r=t.listItems),"selectedKey"in t&&n(1,o=t.selectedKey),"onSelect"in t&&n(2,i=t.onSelect)},[r,o,i,t=>i(t)]}dt("ul.svelte-lsgsky.svelte-lsgsky{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-lsgsky+li.svelte-lsgsky{border-top:1px solid var(--color-purple)}button.svelte-lsgsky.svelte-lsgsky{background:transparent;border:0;color:var(--color-gray-light);cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-small);height:100%;padding:6px 18px;text-transform:uppercase;width:100%}button.svelte-lsgsky.svelte-lsgsky:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-lsgsky.svelte-lsgsky{background:rgba(255, 162, 177, 0.4)}button.selected.empty.svelte-lsgsky.svelte-lsgsky{background:var(--color-purple-dark)}button.empty.svelte-lsgsky.svelte-lsgsky{background:transparent;color:var(--color-purple-light)}button.empty.svelte-lsgsky.svelte-lsgsky:hover{background:var(--color-purple-dark)}");class mn extends pt{constructor(t){super(),ut(this,t,gn,hn,c,{listItems:0,selectedKey:1,onSelect:2})}}function vn(t){let e,n,r;return n=new mn({props:{listItems:t[4],selectedKey:t[0].key,onSelect:t[5]}}),{c(){e=C("div"),st(n.$$.fragment),N(e,"slot","left"),N(e,"class","left-panel svelte-yzp7j8")},m(t,o){w(t,e,o),lt(n,e,null),r=!0},p(t,e){const r={};16&e&&(r.listItems=t[4]),1&e&&(r.selectedKey=t[0].key),n.$set(r)},i(t){r||(ot(n.$$.fragment,t),r=!0)},o(t){it(n.$$.fragment,t),r=!1},d(t){t&&k(e),at(n)}}}function yn(t){let e,n,r,o,i,s,l,a;return i=new re({props:{$$slots:{default:[xn]},$$scope:{ctx:t}}}),i.$on("click",t[6]),l=new re({props:{$$slots:{default:[$n]},$$scope:{ctx:t}}}),l.$on("click",t[7]),{c(){e=C("div"),n=C("h2"),n.textContent="Plugin state",r=O(),o=C("div"),st(i.$$.fragment),s=O(),st(l.$$.fragment),N(e,"class","top-row svelte-yzp7j8")},m(t,c){w(t,e,c),b(e,n),b(e,r),b(e,o),lt(i,o,null),b(o,s),lt(l,o,null),a=!0},p(t,e){const n={};2050&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};2048&e&&(r.$$scope={dirty:e,ctx:t}),l.$set(r)},i(t){a||(ot(i.$$.fragment,t),ot(l.$$.fragment,t),a=!0)},o(t){it(i.$$.fragment,t),it(l.$$.fragment,t),a=!1},d(t){t&&k(e),at(i),at(l)}}}function xn(t){let e,n=t[1]?"collapse":"expand";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){2&r&&n!==(n=t[1]?"collapse":"expand")&&A(e,n)},d(t){t&&k(e)}}}function $n(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function bn(t){let e;return{c(){e=C("div"),e.textContent="Plugin has no state",N(e,"class","empty-state svelte-yzp7j8")},m(t,n){w(t,e,n)},p:r,i:r,o:r,d(t){t&&k(e)}}}function wn(t){let e,n;return e=new te({props:{data:t[3],showLogButton:!0,showCopyButton:!0,recursionOpts:t[2]}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.data=t[3]),4&n&&(r.recursionOpts=t[2]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function kn(t){let e,n,r,o,i,s=t[3]&&yn(t);const l=[wn,bn],a=[];function c(t,e){return t[3]?0:1}return r=c(t),o=a[r]=l[r](t),{c(){e=C("div"),s&&s.c(),n=O(),o.c(),N(e,"slot","right"),N(e,"class","right-panel svelte-yzp7j8")},m(t,o){w(t,e,o),s&&s.m(e,null),b(e,n),a[r].m(e,null),i=!0},p(t,i){t[3]?s?(s.p(t,i),8&i&&ot(s,1)):(s=yn(t),s.c(),ot(s,1),s.m(e,n)):s&&(nt(),it(s,1,1,(()=>{s=null})),rt());let u=r;r=c(t),r===u?a[r].p(t,i):(nt(),it(a[u],1,1,(()=>{a[u]=null})),rt(),o=a[r],o?o.p(t,i):(o=a[r]=l[r](t),o.c()),ot(o,1),o.m(e,null))},i(t){i||(ot(s),ot(o),i=!0)},o(t){it(s),it(o),i=!1},d(t){t&&k(e),s&&s.d(),a[r].d()}}}function _n(t){let e,n;return e=new It({props:{$$slots:{right:[kn],left:[vn]},$$scope:{ctx:t}}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,[n]){const r={};2079&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Cn(t,e,n){let r,o;const{view:i}=R(bt);let s=!1,l={maxDepth:10,stopCircularRecursion:!0,shouldExpandNode:()=>s},a=i.state,c=a.plugins,u=c[0];return _t.subscribe((t=>{t&&(n(8,a=t.state),n(9,c=a.plugins),n(0,u=c.find((t=>t.key===u.key))))})),t.$$.update=()=>{257&t.$$.dirty&&n(3,r=null==u?void 0:u.getState(a)),768&t.$$.dirty&&n(4,o=c.map((t=>({key:t.key,value:t.key.toUpperCase(),empty:!t.getState(a)}))))},[u,s,l,r,o,function(t){n(0,u=c.find((e=>e.key===t.key)))},function(){n(1,s=!s),n(2,l=Object.assign(Object.assign({},l),{shouldExpandNode:()=>s}))},function(){window._plugin=[u,r],console.info("%c [prosemirror-dev-toolkit]: Property added to window._plugin","color: #b8e248"),console.log(u),console.log(r)},a,c]}dt(".top-row.svelte-yzp7j8{align-items:center;display:flex;justify-content:space-between;margin-bottom:0.5em}.left-panel.svelte-yzp7j8{flex-grow:0;overflow:scroll;padding:0;min-width:190px;width:190px}.right-panel.svelte-yzp7j8{border-left:1px solid rgba(255, 162, 177, 0.2)}.empty-state.svelte-yzp7j8{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");class Sn extends pt{constructor(t){super(),ut(this,t,Cn,_n,c,{})}}function Tn(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function On(t){let e,n,r,o,i,s,l,a;return i=new re({props:{class:"hidden",$$slots:{default:[Tn]},$$scope:{ctx:t}}}),l=new te({props:{class:"tree-view",data:t[0],showLogButton:!0,showCopyButton:!0,recursionOpts:{maxDepth:6,omitKeys:["nodes","marks","topNodeType"]}}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Nodes",o=O(),st(i.$$.fragment),s=O(),st(l.$$.fragment),N(n,"class","top-row svelte-io05e6"),N(e,"slot","left"),N(e,"class","left-panel svelte-io05e6")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s),lt(l,e,null),a=!0},p(t,e){const n={};8&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){a||(ot(i.$$.fragment,t),ot(l.$$.fragment,t),a=!0)},o(t){it(i.$$.fragment,t),it(l.$$.fragment,t),a=!1},d(t){t&&k(e),at(i),at(l)}}}function En(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function jn(t){let e,n,r,o,i,s,l,a;return i=new re({props:{class:"hidden",$$slots:{default:[En]},$$scope:{ctx:t}}}),l=new te({props:{class:"tree-view",data:t[1],showLogButton:!0,showCopyButton:!0,recursionOpts:{maxDepth:6,omitKeys:["nodes","marks","topNodeType"]}}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Marks",o=O(),st(i.$$.fragment),s=O(),st(l.$$.fragment),N(n,"class","top-row svelte-io05e6"),N(e,"slot","right"),N(e,"class","right-panel svelte-io05e6")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s),lt(l,e,null),a=!0},p(t,e){const n={};8&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){a||(ot(i.$$.fragment,t),ot(l.$$.fragment,t),a=!0)},o(t){it(i.$$.fragment,t),it(l.$$.fragment,t),a=!1},d(t){t&&k(e),at(i),at(l)}}}function Nn(t){let e,n;return e=new It({props:{$$slots:{right:[jn],left:[On]},$$scope:{ctx:t}}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,[n]){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function zn(t){const{view:e}=R(bt);return[e.state.schema.nodes,e.state.schema.marks]}dt(".top-row.svelte-io05e6{align-items:center;display:flex;justify-content:space-between}.left-panel.svelte-io05e6{overflow:scroll;padding:1em}.right-panel.svelte-io05e6{border-left:1px solid rgba(255, 162, 177, 0.2);overflow:scroll;padding:1em}");class Mn extends pt{constructor(t){super(),ut(this,t,zn,Nn,c,{})}}function An(t,e,n){const r=t.slice();return r[13]=e[n],r[15]=n,r}function In(t){let e,n,r=t[0].content.content,o=[];for(let e=0;e<r.length;e+=1)o[e]=Fn(An(t,r,e));const i=t=>it(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=E()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);w(t,e,r),n=!0},p(t,n){if(33&n){let s;for(r=t[0].content.content,s=0;s<r.length;s+=1){const i=An(t,r,s);o[s]?(o[s].p(i,n),ot(o[s],1)):(o[s]=Fn(i),o[s].c(),ot(o[s],1),o[s].m(e.parentNode,e))}for(nt(),s=r.length;s<o.length;s+=1)i(s);rt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)ot(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)it(o[t]);n=!1},d(t){_(o,t),t&&k(e)}}}function Fn(t){let e,n;return e=new Pn({props:{node:t[13],startPos:t[5][t[15]]}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.node=t[13]),32&n&&(r.startPos=t[5][t[15]]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Bn(t){let e,n,r,o,i,s,l,a,c,u,p,d,f,h,g,m,v,y=0!==t[0].content.size&&In(t);return{c(){e=C("div"),n=C("div"),r=C("div"),o=T(t[1]),i=O(),s=C("button"),l=T(t[6]),a=O(),c=C("div"),u=T(t[4]),d=O(),f=C("div"),y&&y.c(),N(r,"class","number-box svelte-134odb1"),N(s,"class","svelte-134odb1"),I(s,"selected",!1),N(c,"class","number-box svelte-134odb1"),N(n,"class","container svelte-134odb1"),N(n,"style",p=`background: ${t[7]}`),N(f,"class","svelte-134odb1"),I(f,"inline-children",t[3]),N(e,"class",h=$(`${t[9].class||""} wrapper`)+" svelte-134odb1"),I(e,"root",t[2])},m(p,h){w(p,e,h),b(e,n),b(n,r),b(r,o),b(n,i),b(n,s),b(s,l),b(n,a),b(n,c),b(c,u),b(e,d),b(e,f),y&&y.m(f,null),g=!0,m||(v=j(s,"click",t[10]),m=!0)},p(t,[r]){(!g||2&r)&&A(o,t[1]),(!g||64&r)&&A(l,t[6]),(!g||16&r)&&A(u,t[4]),(!g||128&r&&p!==(p=`background: ${t[7]}`))&&N(n,"style",p),0!==t[0].content.size?y?(y.p(t,r),1&r&&ot(y,1)):(y=In(t),y.c(),ot(y,1),y.m(f,null)):y&&(nt(),it(y,1,1,(()=>{y=null})),rt()),8&r&&I(f,"inline-children",t[3]),(!g||512&r&&h!==(h=$(`${t[9].class||""} wrapper`)+" svelte-134odb1"))&&N(e,"class",h),516&r&&I(e,"root",t[2])},i(t){g||(ot(y),g=!0)},o(t){it(y),g=!1},d(t){t&&k(e),y&&y.d(),m=!1,v()}}}function Dn(t,e,n){let r,i,s,l,a;const{selected:c,colors:u,handleNodeClick:p}=R("doc-view");let{node:d,startPos:f,isRoot:h=!1}=e;return t.$$set=t=>{n(9,e=o(o({},e),y(t))),"node"in t&&n(0,d=t.node),"startPos"in t&&n(1,f=t.startPos),"isRoot"in t&&n(2,h=t.isRoot)},t.$$.update=()=>{1&t.$$.dirty&&n(7,r=u[d.type.name]),1&t.$$.dirty&&n(6,i=d.isText&&d.marks.length>0?`${d.type.name} - [${d.marks.map((t=>t.type.name)).join(", ")}]`:d.type.name),7&t.$$.dirty&&n(5,s=Array(d.childCount).fill(void 0).reduce(((t,e,n)=>{if(0===n)return[h?0:f+1];let r=t[n-1],o=d.child(n-1);return[...t,r+o.nodeSize]}),[])),3&t.$$.dirty&&n(4,l=f+d.nodeSize),1&t.$$.dirty&&n(3,a=d.content.content.every((t=>t.isInline)))},e=y(e),[d,f,h,a,l,s,i,r,p,e,()=>p(d)]}dt(".wrapper.svelte-134odb1{border-left:1px solid var(--color-blue-bg);border-right:1px solid var(--color-blue-bg);display:flex;flex-direction:column;padding:0 12px}.wrapper.root.svelte-134odb1{border:0;padding:0}.container.svelte-134odb1{background:var(--color-blue-bg);color:var(--color-black);display:flex;font-size:13px;margin-top:3px}.number-box.svelte-134odb1{padding:3px 6px;background:rgba(255, 255, 255, 0.3)}button.svelte-134odb1{background:transparent;border:0;color:var(--color-black);cursor:pointer;display:flex;height:100%;padding:3px 9px;white-space:pre;width:100%}button.svelte-134odb1:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}button.selected.svelte-134odb1{background:rgba(255, 162, 177, 0.4)}.inline-children.svelte-134odb1{border-left:1px solid var(--color-purple);border-right:1px solid var(--color-purple);display:flex;flex-wrap:wrap;padding:0 12px}.inline-children.svelte-134odb1>div{flex-grow:1;padding:0}");class Pn extends pt{constructor(t){super(),ut(this,t,Dn,Bn,c,{node:0,startPos:1,isRoot:2})}}var qn=["#EA7C7F","#67B0C6","#94BB7F","#CA9EDB","#DCDC5D","#B9CC7C","#DD97D8","#FFB761","#4D8FD1","#F36E98","#E45F44","#A6A4AE","#FCC047","#FFC129","#D3929C","#4CBCD4","#8D7BC0"];function Rn(t){return Object.keys(t.nodes).reduce((function(t,e,n){var r=n>=qn.length?function(t,e){var n=t/e;return Math.round(e*(n-Math.floor(n)))}(n,qn.length):n;return t[e]=qn[r],t}),{})}function Ln(t){let e,n;return e=new Pn({props:{class:t[1].class,node:t[0],startPos:0,depth:0,isRoot:!0}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,[n]){const r={};2&n&&(r.class=t[1].class),1&n&&(r.node=t[0]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Un(t,e,n){let{doc:r,schema:i,selected:s={type:"",start:0,end:0},handleNodeSelect:l}=e;return q("doc-view",{selected:s,colors:Rn(i),handleNodeClick(t){l(t)}}),t.$$set=t=>{n(1,e=o(o({},e),y(t))),"doc"in t&&n(0,r=t.doc),"schema"in t&&n(2,i=t.schema),"selected"in t&&n(3,s=t.selected),"handleNodeSelect"in t&&n(4,l=t.handleNodeSelect)},e=y(e),[r,e,i,s,l]}class Gn extends pt{constructor(t){super(),ut(this,t,Un,Ln,c,{doc:0,schema:2,selected:3,handleNodeSelect:4})}}function Jn(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Kn(t){let e,n,r,o,i,s,l,a;return i=new re({props:{class:"hidden",$$slots:{default:[Jn]},$$scope:{ctx:t}}}),l=new Gn({props:{class:"m-top",doc:t[0],schema:t[2],handleNodeSelect:t[3]}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Current doc",o=O(),st(i.$$.fragment),s=O(),st(l.$$.fragment),N(n,"class","top-row svelte-7g39a"),N(e,"slot","left"),N(e,"class","left-panel")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s),lt(l,e,null),a=!0},p(t,e){const n={};128&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};1&e&&(r.doc=t[0]),l.$set(r)},i(t){a||(ot(i.$$.fragment,t),ot(l.$$.fragment,t),a=!0)},o(t){it(i.$$.fragment,t),it(l.$$.fragment,t),a=!1},d(t){t&&k(e),at(i),at(l)}}}function Hn(t){let e;return{c(){e=T("log")},m(t,n){w(t,e,n)},d(t){t&&k(e)}}}function Wn(t){let e,n,r,o,i,s,l,a;return i=new re({props:{$$slots:{default:[Hn]},$$scope:{ctx:t}}}),i.$on("click",t[4]),l=new te({props:{class:"m-top",data:t[1],recursionOpts:{shouldExpandNode:Vn}}}),{c(){e=C("div"),n=C("div"),r=C("h2"),r.textContent="Node info",o=O(),st(i.$$.fragment),s=O(),st(l.$$.fragment),N(n,"class","top-row svelte-7g39a"),N(e,"slot","right"),N(e,"class","right-panel svelte-7g39a")},m(t,c){w(t,e,c),b(e,n),b(n,r),b(n,o),lt(i,n,null),b(e,s),lt(l,e,null),a=!0},p(t,e){const n={};128&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const r={};2&e&&(r.data=t[1]),l.$set(r)},i(t){a||(ot(i.$$.fragment,t),ot(l.$$.fragment,t),a=!0)},o(t){it(i.$$.fragment,t),it(l.$$.fragment,t),a=!1},d(t){t&&k(e),at(i),at(l)}}}function Yn(t){let e,n;return e=new It({props:{$$slots:{right:[Wn],left:[Kn]},$$scope:{ctx:t}}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,[n]){const r={};131&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}dt(".top-row.svelte-7g39a{align-items:center;display:flex;justify-content:space-between}.right-panel.svelte-7g39a{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:220px;width:220px}.split-view .m-top{margin-top:0.5em}");const Vn=()=>!0;function Xn(t,e,n){let r;const{view:o}=R(bt);let i=o.state.doc,s=o.state.doc,l=o.state.schema;return _t.subscribe((t=>{t&&n(0,i=t.state.doc)})),t.$$.update=()=>{32&t.$$.dirty&&n(1,r=s.toJSON())},[i,r,l,function(t){n(5,s=t)},function(){console.log(s),window._node=s,console.info("%c [prosemirror-dev-toolkit]: Property added to window._node","color: #b8e248")},s]}class Zn extends pt{constructor(t){super(),ut(this,t,Xn,Yn,c,{})}}function Qn(t,e,n){const r=t.slice();return r[13]=e[n],r}function tr(t){let e,n,r,o,i=t[13].name+"";function s(){return t[8](t[13])}return{c(){e=C("div"),n=T(i),N(e,"class","svelte-y8glpi")},m(t,i){w(t,e,i),b(e,n),r||(o=j(e,"dblclick",s),r=!0)},p(e,r){t=e,1&r&&i!==(i=t[13].name+"")&&A(n,i)},d(t){t&&k(e),r=!1,o()}}}function er(t){let e,n,r,o;return{c(){e=C("input"),e.value=n=t[3].name,N(e,"class","svelte-y8glpi")},m(n,i){w(n,e,i),r||(o=[j(e,"input",t[5]),j(e,"keypress",t[6])],r=!0)},p(t,r){8&r&&n!==(n=t[3].name)&&e.value!==n&&(e.value=n)},d(t){t&&k(e),r=!1,l(o)}}}function nr(t){let e,n,r,o,i,s,a,c;function u(t,e){return t[3]&&t[3].timestamp===t[13].timestamp?er:tr}let p=u(t),d=p(t);function f(){return t[9](t[13])}function h(){return t[10](t[13])}return{c(){e=C("li"),d.c(),n=O(),r=C("button"),r.textContent="Delete",o=O(),i=C("button"),i.textContent="Restore",s=O(),N(r,"class","svelte-y8glpi"),N(i,"class","svelte-y8glpi"),N(e,"class","svelte-y8glpi")},m(t,l){w(t,e,l),d.m(e,null),b(e,n),b(e,r),b(e,o),b(e,i),b(e,s),a||(c=[j(r,"click",f),j(i,"click",h)],a=!0)},p(r,o){p===(p=u(t=r))&&d?d.p(t,o):(d.d(1),d=p(t),d&&(d.c(),d.m(e,n)))},d(t){t&&k(e),d.d(),a=!1,l(c)}}}function rr(t){let e,n=t[0],o=[];for(let e=0;e<n.length;e+=1)o[e]=nr(Qn(t,n,e));return{c(){e=C("ul");for(let t=0;t<o.length;t+=1)o[t].c();N(e,"class","svelte-y8glpi")},m(t,n){w(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,[r]){if(127&r){let i;for(n=t[0],i=0;i<n.length;i+=1){const s=Qn(t,n,i);o[i]?o[i].p(s,r):(o[i]=nr(s),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},i:r,o:r,d(t){t&&k(e),_(o,t)}}}function or(t,e,n){let r,o,{snapshots:i=[],onUpdate:s,onRestore:l,onDelete:a}=e;function c(t){n(3,r=t)}return t.$$set=t=>{"snapshots"in t&&n(0,i=t.snapshots),"onUpdate"in t&&n(7,s=t.onUpdate),"onRestore"in t&&n(1,l=t.onRestore),"onDelete"in t&&n(2,a=t.onDelete)},[i,l,a,r,c,function(t){n(3,r.name=t.target.value,r),clearTimeout(o),o=setTimeout((()=>{s(r)}),150)},function(t){"Enter"===t.key&&(s(r),clearTimeout(o),n(3,r=void 0))},s,t=>c(t),t=>a(t),t=>l(t)]}dt("ul.svelte-y8glpi.svelte-y8glpi{color:var(--color-white);list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-y8glpi+li.svelte-y8glpi{border-top:1px solid var(--color-purple)}li.svelte-y8glpi.svelte-y8glpi{align-items:center;display:flex;font-family:monospace;padding:6px 18px}li.svelte-y8glpi>div.svelte-y8glpi{align-items:center;display:flex;flex-grow:1}input.svelte-y8glpi.svelte-y8glpi{background:transparent;border:0;color:var(--color-white);height:100%;margin:0;padding:2px;width:100%}button.svelte-y8glpi.svelte-y8glpi{background:transparent;border:0;border-radius:3px;color:var(--color-gray-light);cursor:pointer;display:flex;font-size:11px;padding:6px 18px;text-transform:uppercase}button.svelte-y8glpi.svelte-y8glpi:hover{background:rgba(255, 162, 177, 0.4);color:var(--color-white)}");class ir extends pt{constructor(t){super(),ut(this,t,or,rr,c,{snapshots:0,onUpdate:7,onRestore:1,onDelete:2})}}var sr="__prosemirror-dev-toolkit__snapshots",lr=$t([]),ar="undefined"!=typeof window?localStorage.getItem(sr):null;if(ar&&ar.length>0)try{var cr=JSON.parse(ar);lr.set(cr)}catch(t){console.error("Corrupted snapshots values in localStorage",t)}function ur(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),i=e.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var l=ur(o.content,i.content,n+1);if(null!=l)return l}n+=o.nodeSize}else n+=o.nodeSize}}function pr(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var s=t.child(--o),l=e.child(--i),a=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){for(var c=0,u=Math.min(s.text.length,l.text.length);c<u&&s.text[s.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){var p=pr(s.content,l.content,n-1,r-1);if(p)return p}n-=a,r-=a}else n-=a,r-=a}}lr.subscribe((function(t){"undefined"!=typeof window&&localStorage.setItem(sr,JSON.stringify(t))}));var dr=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},fr={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};dr.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var l=this.content[i],a=s+l.nodeSize;if(a>t&&!1!==n(l,r+s,o,i)&&l.content.size){var c=s+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,e-c),n,r+c)}s=a}},dr.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},dr.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,l){s.isText?(o+=s.text.slice(Math.max(t,l)-l,e-l),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},dr.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new dr(r,this.size+t.size)},dr.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],l=i+s.nodeSize;l>t&&((i<t||l>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=l}return new dr(n,r)},dr.prototype.cutByIndex=function(t,e){return t==e?dr.empty:0==t&&e==this.content.length?this:new dr(this.content.slice(t,e))},dr.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new dr(r,o)},dr.prototype.addToStart=function(t){return new dr([t].concat(this.content),this.size+t.nodeSize)},dr.prototype.addToEnd=function(t){return new dr(this.content.concat(t),this.size+t.nodeSize)},dr.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},fr.firstChild.get=function(){return this.content.length?this.content[0]:null},fr.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},fr.childCount.get=function(){return this.content.length},dr.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},dr.prototype.maybeChild=function(t){return this.content[t]},dr.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},dr.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),ur(this,t,e)},dr.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),pr(this,t,e,n)},dr.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return gr(0,t);if(t==this.size)return gr(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?gr(n+1,o):gr(n,r);r=o}},dr.prototype.toString=function(){return"<"+this.toStringInner()+">"},dr.prototype.toStringInner=function(){return this.content.join(", ")},dr.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},dr.fromJSON=function(t,e){if(!e)return dr.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new dr(e.map(t.nodeFromJSON))},dr.fromArray=function(t){if(!t.length)return dr.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new dr(e||t,n)},dr.from=function(t){if(!t)return dr.empty;if(t instanceof dr)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new dr([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(dr.prototype,fr);var hr={index:0,offset:0};function gr(t,e){return hr.index=t,hr.offset=e,hr}function mr(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!mr(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!mr(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}dr.empty=new dr([],0);var vr=function(t,e){this.type=t,this.attrs=e};function yr(t){var e=Error.call(this,t);return e.__proto__=yr.prototype,e}vr.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},vr.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},vr.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},vr.prototype.eq=function(t){return this==t||this.type==t.type&&mr(this.attrs,t.attrs)},vr.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},vr.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},vr.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},vr.setFrom=function(t){if(!t||0==t.length)return vr.none;if(t instanceof vr)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},vr.none=[],yr.prototype=Object.create(Error.prototype),yr.prototype.constructor=yr,yr.prototype.name="ReplaceError";var xr=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},$r={size:{configurable:!0}};function br(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),l=t.findIndex(n),a=l.index,c=l.offset;if(i==e||s.isText){if(c!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(br(s.content,e-i-1,n-i-1)))}function wr(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,l=t.maybeChild(i);if(s==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var a=wr(l.content,e-s-1,n);return a&&t.replaceChild(i,l.copy(a))}function kr(t,e,n){if(n.openStart>t.depth)throw new yr("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new yr("Inconsistent open depths");return _r(t,e,n,0)}function _r(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=_r(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var l=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(dr.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return Er(i,jr(t,l.start,l.end,e,r))}var a=t.parent,c=a.content;return Er(a,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}return Er(i,Nr(t,e,r))}function Cr(t,e){if(!e.type.compatibleContent(t.type))throw new yr("Cannot join "+e.type.name+" onto "+t.type.name)}function Sr(t,e,n){var r=t.node(n);return Cr(r,e.node(n)),r}function Tr(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Or(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Tr(t.nodeAfter,r),i++));for(var l=i;l<s;l++)Tr(o.child(l),r);e&&e.depth==n&&e.textOffset&&Tr(e.nodeBefore,r)}function Er(t,e){if(!t.type.validContent(e))throw new yr("Invalid content for node "+t.type.name);return t.copy(e)}function jr(t,e,n,r,o){var i=t.depth>o&&Sr(t,e,o+1),s=r.depth>o&&Sr(n,r,o+1),l=[];return Or(null,t,o,l),i&&s&&e.index(o)==n.index(o)?(Cr(i,s),Tr(Er(i,jr(t,e,n,r,o+1)),l)):(i&&Tr(Er(i,Nr(t,e,o+1)),l),Or(e,n,o,l),s&&Tr(Er(s,Nr(n,r,o+1)),l)),Or(r,null,o,l),new dr(l)}function Nr(t,e,n){var r=[];(Or(null,t,n,r),t.depth>n)&&Tr(Er(Sr(t,e,n+1),Nr(t,e,n+1)),r);return Or(e,null,n,r),new dr(r)}$r.size.get=function(){return this.content.size-this.openStart-this.openEnd},xr.prototype.insertAt=function(t,e){var n=wr(this.content,t+this.openStart,e,null);return n&&new xr(n,this.openStart,this.openEnd)},xr.prototype.removeBetween=function(t,e){return new xr(br(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},xr.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},xr.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},xr.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},xr.fromJSON=function(t,e){if(!e)return xr.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new xr(dr.fromJSON(t,e.content),n,r)},xr.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new xr(t,n,r)},Object.defineProperties(xr.prototype,$r),xr.empty=new xr(dr.empty,0,0);var zr=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},Mr={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};zr.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},Mr.parent.get=function(){return this.node(this.depth)},Mr.doc.get=function(){return this.node(0)},zr.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},zr.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},zr.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},zr.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},zr.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},zr.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},zr.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},Mr.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},Mr.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},Mr.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},zr.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},zr.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return vr.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},zr.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},zr.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},zr.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Br(this,t,n)},zr.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},zr.prototype.max=function(t){return t.pos>this.pos?t:this},zr.prototype.min=function(t){return t.pos<this.pos?t:this},zr.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},zr.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),l=s.index,a=s.offset,c=o-a;if(n.push(i,l,r+a),!c)break;if((i=i.child(l)).isText)break;o=c-1,r+=a+1}return new zr(e,n,o)},zr.resolveCached=function(t,e){for(var n=0;n<Ar.length;n++){var r=Ar[n];if(r.pos==e&&r.doc==t)return r}var o=Ar[Ir]=zr.resolve(t,e);return Ir=(Ir+1)%Fr,o},Object.defineProperties(zr.prototype,Mr);var Ar=[],Ir=0,Fr=12,Br=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},Dr={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Dr.start.get=function(){return this.$from.before(this.depth+1)},Dr.end.get=function(){return this.$to.after(this.depth+1)},Dr.parent.get=function(){return this.$from.node(this.depth)},Dr.startIndex.get=function(){return this.$from.index(this.depth)},Dr.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Br.prototype,Dr);var Pr=Object.create(null),qr=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||dr.empty,this.marks=r||vr.none},Rr={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Rr.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},Rr.childCount.get=function(){return this.content.childCount},qr.prototype.child=function(t){return this.content.child(t)},qr.prototype.maybeChild=function(t){return this.content.maybeChild(t)},qr.prototype.forEach=function(t){this.content.forEach(t)},qr.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},qr.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},Rr.textContent.get=function(){return this.textBetween(0,this.content.size,"")},qr.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},Rr.firstChild.get=function(){return this.content.firstChild},Rr.lastChild.get=function(){return this.content.lastChild},qr.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},qr.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},qr.prototype.hasMarkup=function(t,e,n){return this.type==t&&mr(this.attrs,e||t.defaultAttrs||Pr)&&vr.sameSet(this.marks,n||vr.none)},qr.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},qr.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},qr.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},qr.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return xr.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),l=r.node(i).content.cut(r.pos-s,o.pos-s);return new xr(l,r.depth-i,o.depth-i)},qr.prototype.replace=function(t,e,n){return kr(this.resolve(t),this.resolve(e),n)},qr.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},qr.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},qr.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},qr.prototype.resolve=function(t){return zr.resolveCached(this,t)},qr.prototype.resolveNoCache=function(t){return zr.resolve(this,t)},qr.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},Rr.isBlock.get=function(){return this.type.isBlock},Rr.isTextblock.get=function(){return this.type.isTextblock},Rr.inlineContent.get=function(){return this.type.inlineContent},Rr.isInline.get=function(){return this.type.isInline},Rr.isText.get=function(){return this.type.isText},Rr.isLeaf.get=function(){return this.type.isLeaf},Rr.isAtom.get=function(){return this.type.isAtom},qr.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),function(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}(this.marks,t)},qr.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},qr.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=dr.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0},qr.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},qr.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},qr.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=vr.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!vr.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},qr.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},qr.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=dr.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(qr.prototype,Rr);var Lr=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},Ur={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Lr.parse=function(t,e){var n=new Gr(t,e);if(null==n.next)return Lr.empty;var r=Kr(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return n(Zr(t,0));function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];Zr(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new Lr(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var l=o[s+1].sort(Xr);i.next.push(o[s],e[l.join(",")]||n(l))}return i}}(function(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}function i(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(i(n,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var l=i(t.exprs[s],e);if(s==t.exprs.length-1)return l;o(l,e=n())}else{if("star"==t.type){var a=n();return r(e,a),o(i(t.expr,a),a),[r(a)]}if("plus"==t.type){var c=n();return o(i(t.expr,e),c),o(i(t.expr,c),c),[r(c)]}if("opt"==t.type)return[r(e)].concat(i(t.expr,e));if("range"==t.type){for(var u=e,p=0;p<t.min;p++){var d=n();o(i(t.expr,u),d),u=d}if(-1==t.max)o(i(t.expr,u),u);else for(var f=t.min;f<t.max;f++){var h=n();r(u,h),o(i(t.expr,u),h),u=h}return[r(u)]}if("name"==t.type)return[r(e,null,t.value)]}}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],l=0;l<o.next.length;l+=2){var a=o.next[l],c=o.next[l+1];s.push(a.name),!i||a.isText||a.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},Lr.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},Lr.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},Ur.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},Ur.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},Lr.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},Lr.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,s){var l=i.matchFragment(t,n);if(l&&(!e||l.validEnd))return dr.from(s.map((function(t){return t.createAndFill()})));for(var a=0;a<i.next.length;a+=2){var c=i.next[a],u=i.next[a+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==r.indexOf(u)){r.push(u);var p=o(u,s.concat(c));if(p)return p}}}(this,[])},Lr.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},Lr.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var l=0;l<o.next.length;l+=2){var a=o.next[l];a.isLeaf||a.hasRequiredAttrs()||a.name in e||r.type&&!o.next[l+1].validEnd||(n.push({match:a.contentMatch,type:a,via:r}),e[a.name]=!0)}}},Ur.edgeCount.get=function(){return this.next.length>>1},Lr.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},Lr.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(Lr.prototype,Ur),Lr.empty=new Lr(!0);var Gr=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},Jr={next:{configurable:!0}};function Kr(t){var e=[];do{e.push(Hr(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Hr(t){var e=[];do{e.push(Wr(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function Wr(t){for(var e=function(t){if(t.eat("(")){var e=Kr(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=Vr(t,e)}return e}function Yr(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function Vr(t,e){var n=Yr(t),r=n;return t.eat(",")&&(r="}"!=t.next?Yr(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Xr(t,e){return e-t}function Zr(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],l=s.term,a=s.to;l||-1!=n.indexOf(a)||e(a)}}(e),n.sort(Xr)}Jr.next.get=function(){return this.tokens[this.pos]},Gr.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},Gr.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(Gr.prototype,Jr);var Qr=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=function(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new eo(t[n]);return e}(n.attrs),this.defaultAttrs=function(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},to={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};to.isInline.get=function(){return!this.isBlock},to.isTextblock.get=function(){return this.isBlock&&this.inlineContent},to.isLeaf.get=function(){return this.contentMatch==Lr.empty},to.isAtom.get=function(){return this.isLeaf||this.spec.atom},Qr.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},Qr.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},Qr.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:function(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}(this.attrs,t)},Qr.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new qr(this,this.computeAttrs(t),dr.from(e),vr.setFrom(n))},Qr.prototype.createChecked=function(t,e,n){if(e=dr.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new qr(this,this.computeAttrs(t),e,vr.setFrom(n))},Qr.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=dr.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(dr.empty,!0);return o?new qr(this,t,e.append(o),vr.setFrom(n)):null},Qr.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},Qr.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},Qr.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},Qr.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:vr.empty:t},Qr.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new Qr(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(Qr.prototype,to);var eo=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},no={isRequired:{configurable:!0}};no.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(eo.prototype,no);var ro={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oo={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},io={ol:!0,ul:!0};function so(t){return(t?1:0)|("full"===t?2:0)}var lo=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=vr.none,this.pendingMarks=r,this.stashMarks=[]};lo.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(dr.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},lo.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=dr.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(dr.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},lo.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},lo.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):uo(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},lo.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!ro.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var ao=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=so(e.preserveWhitespace)|(n?4:0);r=o?new lo(o.type,o.attrs,vr.none,vr.none,!0,e.topMatch||o.type.contentMatch,i):new lo(n?null:t.schema.topNodeType,null,vr.none,vr.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},co={top:{configurable:!0},currentPos:{configurable:!0}};function uo(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,l=r.next;if(o==e)return!0;if(i.indexOf(l)<0&&s(l))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}co.top.get=function(){return this.nodes[this.open]},ao.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},ao.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},ao.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();io.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&io.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:oo.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,l=this.needsBlock;if(ro.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=l}else this.addElementByRule(t,o,!1===o.consuming?n:null)},ao.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},ao.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},ao.prototype.readStyles=function(t){var e=vr.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},ao.prototype.addElementByRule=function(t,e,n){var r,o,i,s=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var a=e.contentElement;"string"==typeof a?a=t.querySelector(a):"function"==typeof a&&(a=a(t)),a||(a=t),this.findAround(t,a,!0),this.addAll(a,r)}r&&(this.sync(l),this.open--),i&&this.removePendingMark(i,l)},ao.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&ro.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},ao.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},ao.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},ao.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},ao.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:so(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new lo(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},ao.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},ao.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ao.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},co.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},ao.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},ao.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},ao.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},ao.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},ao.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,l){for(;t>=0;t--){var a=n[t];if(""==a){if(t==n.length-1||0==t)continue;for(;l>=i;l--)if(s(t-1,l))return!0;return!1}var c=l>0||0==l&&o?e.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!c||c.name!=a&&-1==c.groups.indexOf(a))return!1;l--}return!0};return s(n.length-1,this.open)},ao.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},ao.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},ao.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(ao.prototype,co);var po=function(t,e){this.nodes=t||{},this.marks=e||{}};function fo(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ho(t){return t.document||window.document}po.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=ho(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var l=t.marks[s];if(r.marks[l.type.name]){if(!l.eq(i[n])||!1===l.type.spec.spanning)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var a=t.marks[s++],c=r.serializeMark(a,t.isInline,e);c&&(i.push(a,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNodeInner(t,e))})),n},po.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=po.renderSpec(ho(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},po.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},po.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&po.renderSpec(ho(n),r(t,e))},po.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),l=e[1],a=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l))for(var c in a=2,l)if(null!=l[c]){var u=c.indexOf(" ");u>0?s.setAttributeNS(c.slice(0,u),c.slice(u+1),l[c]):s.setAttribute(c,l[c])}for(var p=a;p<e.length;p++){var d=e[p];if(0===d){if(p<e.length-1||p>a)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var f=po.renderSpec(t,d,n),h=f.dom,g=f.contentDOM;if(s.appendChild(h),g){if(i)throw new RangeError("Multiple content holes");i=g}}return{dom:s,contentDOM:i}},po.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new po(this.nodesFromSchema(t),this.marksFromSchema(t)))},po.nodesFromSchema=function(t){var e=fo(t.nodes);return e.text||(e.text=function(t){return t.text}),e},po.marksFromSchema=function(t){return fo(t.marks)};var go={prettyPrint:function(t,e){var n,r,o,i,s,l;for(r=(e=e||{}).indent_size||4,o=e.indent_char||" ",s=e.brace_style||"collapse",i=0==e.max_char?1/0:e.max_char||70,l=e.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],(n=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}},this.get_content=function(){for(var t="",e=[],n=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return e.length?e.join(""):["","TK_EOF"];if(t=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(t,this.Utils.whitespace))e.length&&(n=!0),this.line_char_count--;else{if(n){if(this.line_char_count>=this.max_char){e.push("\n");for(var r=0;r<this.indent_level;r++)e.push(this.indent_string);this.line_char_count=0}else e.push(" "),this.line_char_count++;n=!1}e.push(t)}}return e.length?e.join(""):""},this.get_contents_to=function(t){if(this.pos==this.input.length)return["","TK_EOF"];var e="",n=new RegExp("</"+t+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),o=r?r.index:this.input.length;return this.pos<o&&(e=this.input.substring(this.pos,o),this.pos=o),e},this.record_tag=function(t){this.tags[t+"count"]?(this.tags[t+"count"]++,this.tags[t+this.tags[t+"count"]]=this.indent_level):(this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level),this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var e=this.tags.parent;e&&t+this.tags[t+"count"]!==e;)e=this.tags[e+"parent"];e&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[e+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1==this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.get_tag=function(){var t,e,n="",r=[],o=!1;do{if(this.pos>=this.input.length)return r.length?r.join(""):["","TK_EOF"];n=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(n,this.Utils.whitespace)?(o=!0,this.line_char_count--):("'"!==n&&'"'!==n||r[1]&&"!"===r[1]||(n+=this.get_unformatted(n),o=!0),"="===n&&(o=!1),r.length&&"="!==r[r.length-1]&&">"!==n&&o&&(this.line_char_count>=this.max_char?(this.print_newline(!1,r),this.line_char_count=0):(r.push(" "),this.line_char_count++),o=!1),"<"===n&&(t=this.pos-1),r.push(n))}while(">"!==n);var i,s=r.join("");i=-1!=s.indexOf(" ")?s.indexOf(" "):s.indexOf(">");var a=s.substring(1,i).toLowerCase();if("/"===s.charAt(s.length-2)||this.Utils.in_array(a,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===a)this.record_tag(a),this.tag_type="SCRIPT";else if("style"===a)this.record_tag(a),this.tag_type="STYLE";else if(this.Utils.in_array(a,l)){var c=this.get_unformatted("</"+a+">",s);r.push(c),t>0&&this.Utils.in_array(this.input.charAt(t-1),this.Utils.whitespace)&&r.splice(0,0,this.input.charAt(t-1)),e=this.pos-1,this.Utils.in_array(this.input.charAt(e+1),this.Utils.whitespace)&&r.push(this.input.charAt(e+1)),this.tag_type="SINGLE"}else if("!"===a.charAt(0))if(-1!=a.indexOf("[if")){if(-1!=s.indexOf("!IE")){c=this.get_unformatted("--\x3e",s);r.push(c)}this.tag_type="START"}else if(-1!=a.indexOf("[endif"))this.tag_type="END",this.unindent();else if(-1!=a.indexOf("[cdata[")){c=this.get_unformatted("]]>",s);r.push(c),this.tag_type="SINGLE"}else{c=this.get_unformatted("--\x3e",s);r.push(c),this.tag_type="SINGLE"}else"/"===a.charAt(0)?(this.retrieve_tag(a.substring(1)),this.tag_type="END"):(this.record_tag(a),this.tag_type="START"),this.Utils.in_array(a,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return r.join("")},this.get_unformatted=function(t,e){if(e&&-1!=e.toLowerCase().indexOf(t))return"";var n="",r="",o=!0;do{if(this.pos>=this.input.length)return r;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!o){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n",this.line_char_count=0;continue}}r+=n,this.line_char_count++,o=!0}while(-1==r.toLowerCase().indexOf(t));return r},this.get_token=function(){var t;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var e=this.last_token.substr(7);return"string"!=typeof(t=this.get_contents_to(e))?t:[t,"TK_"+e]}return"CONTENT"===this.current_mode?"string"!=typeof(t=this.get_content())?t:[t,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(t=this.get_tag())?t:[t,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(t){return(t=this.indent_level+t||0)<1?"":Array(t+1).join(this.indent_string)},this.printer=function(t,e,n,r,o){this.input=t||"",this.output=[],this.indent_character=e,this.indent_string="",this.indent_size=n,this.brace_style=o,this.indent_level=0,this.max_char=r,this.line_char_count=0;for(var i=0;i<this.indent_size;i++)this.indent_string+=this.indent_character;this.print_newline=function(t,e){if(this.line_char_count=0,e&&e.length){if(!t)for(;this.Utils.in_array(e[e.length-1],this.Utils.whitespace);)e.pop();e.push("\n");for(var n=0;n<this.indent_level;n++)e.push(this.indent_string)}},this.print_token=function(t){this.output.push(t)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(t,o,r,i,s);;){var a=n.get_token();if(n.token_text=a[0],n.token_type=a[1],"TK_EOF"===n.token_type)break;switch(n.token_type){case"TK_TAG_START":n.print_newline(!1,n.output),n.print_token(n.token_text),n.indent(),n.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===n.last_token&&""===n.last_text){var c=n.token_text.match(/\w+/)[0],u=n.output[n.output.length-1].match(/<\s*(\w+)/);null!==u&&u[1]===c||n.print_newline(!0,n.output)}n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var p=n.token_text.match(/^\s*<([a-z]+)/i);p&&n.Utils.in_array(p[1],l)||n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_CONTENT":""!==n.token_text&&n.print_token(n.token_text),n.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==n.token_text){n.output.push("\n");var d=n.token_text;if("TK_SCRIPT"==n.token_type)var f="function"==typeof js_beautify&&js_beautify;else if("TK_STYLE"==n.token_type)f="function"==typeof css_beautify&&css_beautify;if("keep"==e.indent_scripts)var h=0;else if("separate"==e.indent_scripts)h=-n.indent_level;else h=1;var g=n.get_full_indent(h);if(f)d=f(d.replace(/^\s*/,g),e);else{var m=d.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(n.indent_string).length-1,v=n.get_full_indent(h-m);d=d.replace(/^\s*/,g).replace(/\r\n|\r|\n/g,"\n"+v).replace(/\s*$/,"")}d&&(n.print_token(d),n.print_newline(!0,n.output))}n.current_mode="TAG"}n.last_token=n.token_type,n.last_text=n.token_text}return n.output.join("")}},mo=["docChanged","isGeneric","scrolledIntoView","selectionSet","storedMarksSet"];function vo(t){return Object.keys(t).concat(mo).reduce((function(e,n){return e[n]=t[n],e}),{})}function yo(t){return("00"+t).slice(-2)}var xo=/(&lt;\/?[\w\d\s="']+&gt;)/gim,$o=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(xo,"<span style='color: cadetblue;'>$&</span>")};function bo(t,e){var r=p(wt),o=p(kt)[0];r.get((null==o?void 0:o.topEntryId)||"");var i=function(t,e,n){var r,o,i,s=po.fromSchema(e.schema),l=e.selection,a=s.serializeFragment(l.content().content),c=[];if(a)for(var u=a.firstChild;u;)c.push(u.outerHTML),u=u.nextSibling;return{id:Math.random().toString()+Math.random().toString(),state:e,tr:vo(t),timestamp:t.time,timeStr:(r=t.time,i=new Date(r),[yo(i.getHours()),yo(i.getMinutes()),yo(i.getSeconds()),(o=i.getMilliseconds(),("000"+o).slice(-3))].join(":")),contentDiff:void 0,selectionDiff:void 0,selectionHtml:$o(go.prettyPrint(c.join("\n"),{max_char:60,indent_size:2}))}}(t,e);wt.update((function(t){return new Map(t.set(i.id,i))})),_t.set(i);var s=!i.contentDiff;if((null==o?void 0:o.isGroup)&&s){var l={isGroup:s,entryIds:n([i.id],o.entryIds),topEntryId:i.id,expanded:o.expanded};kt.update((function(t){return n([l],t.slice(1))}))}else{var a={isGroup:s,entryIds:[i.id],topEntryId:i.id,expanded:!1};kt.update((function(t){return n([a],t)}))}}function wo(t){let e,n;return e=new ir({props:{snapshots:t[0],onDelete:t[1],onRestore:t[2],onUpdate:t[3]}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.snapshots=t[0]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function ko(t){let e;return{c(){e=C("div"),e.textContent='Save snapshots by clicking "Save snapshot" button.',N(e,"class","no-snapshots svelte-1yawzkx")},m(t,n){w(t,e,n)},p:r,i:r,o:r,d(t){t&&k(e)}}}function _o(t){let e,n,r,o;const i=[ko,wo],s=[];function l(t,e){return 0===t[0].length?0:1}return n=l(t),r=s[n]=i[n](t),{c(){e=C("div"),r.c(),N(e,"slot","right"),N(e,"class","right-panel svelte-1yawzkx")},m(t,r){w(t,e,r),s[n].m(e,null),o=!0},p(t,o){let a=n;n=l(t),n===a?s[n].p(t,o):(nt(),it(s[a],1,1,(()=>{s[a]=null})),rt(),r=s[n],r?r.p(t,o):(r=s[n]=i[n](t),r.c()),ot(r,1),r.m(e,null))},i(t){o||(ot(r),o=!0)},o(t){it(r),o=!1},d(t){t&&k(e),s[n].d()}}}function Co(t){let e,n;return e=new It({props:{$$slots:{right:[_o]},$$scope:{ctx:t}}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,[n]){const r={};33&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function So(t,e,n){let r;d(t,lr,(t=>n(0,r=t)));const{view:o}=R(bt);return[r,function(t){!function(t){lr.update((function(e){return e.filter((function(e){return e.timestamp!==t.timestamp}))}))}(t)},function(t){!function(t,e){var n=Object.getPrototypeOf(t.state).constructor.create({schema:t.state.schema,plugins:t.state.plugins,doc:t.state.schema.nodeFromJSON(e.doc)});t.updateState(n)}(o,t),wt.set(new Map),kt.set([])},function(t){!function(t){lr.update((function(e){return e.map((function(e){return e.timestamp===t.timestamp?t:e}))}))}(t)}]}dt(".right-panel.svelte-1yawzkx{padding:0}.no-snapshots.svelte-1yawzkx{align-items:center;color:var(--color-red-light);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");class To extends pt{constructor(t){super(),ut(this,t,So,Co,c,{})}}dt("/* $color-green-text: #b8e248; */\n");function Oo(t){let e;return{c(){e=C("p"),e.textContent="nuting here"},m(t,n){w(t,e,n)},i:r,o:r,d(t){t&&k(e)}}}function Eo(t){let e,n;return e=new To({}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function jo(t){let e,n;return e=new Zn({}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function No(t){let e,n;return e=new Mn({}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function zo(t){let e,n;return e=new Sn({}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Mo(t){let e,n;return e=new pn({}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Ao(t){let e,n;return e=new me({}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Io(t){let e,n,r,o,i,s,c,u,p,d,f,h,g,m,v,y,x,$;f=new yt({props:{onClickTab:t[6],active:t[1]}});const _=[Ao,Mo,zo,No,jo,Eo,Oo],S=[];function T(t,e){return"state"===t[1]?0:"history"===t[1]?1:"plugins"===t[1]?2:"schema"===t[1]?3:"structure"===t[1]?4:"snapshots"===t[1]?5:6}return g=T(t),m=S[g]=_[g](t),{c(){e=C("div"),n=C("div"),r=C("div"),o=O(),i=C("div"),s=C("div"),c=C("button"),c.textContent="Save snapshot",u=O(),p=C("button"),p.textContent="X",d=O(),st(f.$$.fragment),h=O(),m.c(),N(r,"class","resizing-div svelte-eou05z"),N(c,"class","snapshot-btn svelte-eou05z"),N(p,"class","close-btn svelte-eou05z"),N(i,"class","container svelte-eou05z"),N(n,"class","floating-dock svelte-eou05z"),N(n,"style",v=`top: ${t[2]}%; height: ${t[3]}%;`),N(e,"class","floating-dock-wrapper svelte-eou05z")},m(l,m){w(l,e,m),b(e,n),b(n,r),b(n,o),b(n,i),b(i,s),b(s,c),b(s,u),b(s,p),b(i,d),lt(f,i,null),b(i,h),S[g].m(i,null),y=!0,x||($=[j(r,"mousedown",t[4]),j(c,"click",t[5]),j(p,"click",(function(){a(t[0])&&t[0].apply(this,arguments)}))],x=!0)},p(e,[r]){t=e;const o={};2&r&&(o.active=t[1]),f.$set(o);let s=g;g=T(t),g!==s&&(nt(),it(S[s],1,1,(()=>{S[s]=null})),rt(),m=S[g],m||(m=S[g]=_[g](t),m.c()),ot(m,1),m.m(i,null)),(!y||12&r&&v!==(v=`top: ${t[2]}%; height: ${t[3]}%;`))&&N(n,"style",v)},i(t){y||(ot(f.$$.fragment,t),ot(m),y=!0)},o(t){it(f.$$.fragment,t),it(m),y=!1},d(t){t&&k(e),at(f),S[g].d(),x=!1,l($)}}}function Fo(t,e,r){let{onClose:o}=e;const{view:i}=R(bt);let s="state",l=50,a=50;function c(t){t.preventDefault(),r(2,l=100*t.clientY/window.innerHeight),r(3,a=100*(1-t.clientY/window.innerHeight))}function u(t){t.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)}return P((()=>()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)})),t.$$set=t=>{"onClose"in t&&r(0,o=t.onClose)},[o,s,l,a,function(t){document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)},function(){const t=prompt("Enter snapshot name",Date.now());t&&function(t,e){var r={name:t,timestamp:Date.now(),doc:e};lr.update((function(t){return n([r],t)}))}(t,i.state.doc.toJSON())},function(t){r(1,s=t)}]}dt(".floating-dock-wrapper.svelte-eou05z{position:fixed;width:0px;height:0px;top:0px;left:0px;z-index:99999999}.floating-dock.svelte-eou05z{background-color:var(--color-blue-bg);position:fixed;z-index:1;box-shadow:rgba(34, 34, 34, 0.3) 0px 0px 4px 0px;left:0px;top:50%;width:100%;height:50%}.resizing-div.svelte-eou05z{position:absolute;z-index:2;opacity:0;top:-5px;height:10px;left:0px;width:100%;cursor:row-resize}.container.svelte-eou05z{height:100%}.snapshot-btn.svelte-eou05z{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:var(--color-white);cursor:pointer;font-size:12px;height:24px;line-height:25px;padding:0 6px;position:absolute;right:32px;top:-28px}.snapshot-btn.svelte-eou05z:hover{background:rgba(255, 162, 177, 0.8)}.close-btn.svelte-eou05z{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:var(--color-white);cursor:pointer;height:24px;position:absolute;right:4px;top:-28px;width:24px}.close-btn.svelte-eou05z:hover{background:rgba(255, 162, 177, 0.8)}");class Bo extends pt{constructor(t){super(),ut(this,t,Fo,Io,c,{onClose:0})}}function Do(t){let e,n;return e=new gt({props:{buttonPosition:t[1]}}),e.$on("click",t[2]),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.buttonPosition=t[1]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Po(t){let e,n;return e=new Bo({props:{onClose:t[3]}}),{c(){st(e.$$.fragment)},m(t,r){lt(e,t,r),n=!0},p:r,i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function qo(t){let e,n,r,o;const i=[Po,Do],s=[];function l(t,e){return t[0]?0:1}return n=l(t),r=s[n]=i[n](t),{c(){e=C("section"),r.c(),N(e,"class","svelte-j3y8g5")},m(t,r){w(t,e,r),s[n].m(e,null),o=!0},p(t,[o]){let a=n;n=l(t),n===a?s[n].p(t,o):(nt(),it(s[a],1,1,(()=>{s[a]=null})),rt(),r=s[n],r?r.p(t,o):(r=s[n]=i[n](t),r.c()),ot(r,1),r.m(e,null))},i(t){o||(ot(r),o=!0)},o(t){it(r),o=!1},d(t){t&&k(e),s[n].d()}}}function Ro(t,e,n){let{view:r,devToolsExpanded:o=!1,buttonPosition:i="bottom-right"}=e;return q(bt,{view:r}),P((()=>{const t=document&&document.querySelector("html");o&&t&&(t.style.marginBottom="341px")})),t.$$set=t=>{"view"in t&&n(4,r=t.view),"devToolsExpanded"in t&&n(0,o=t.devToolsExpanded),"buttonPosition"in t&&n(1,i=t.buttonPosition)},[o,i,function(){n(0,o=!0);const t=document&&document.querySelector("html");t&&(t.style.marginBottom="341px")},function(){n(0,o=!1);const t=document&&document.querySelector("html");t&&(t.style.marginBottom=null)},r]}dt(":root{--font-sans:Helvetica Neue, Calibri Light, Roboto, sans-serif;--font-small:11px;--font-medium:13px;--font-large:16px;--height-tabs-menu:48px;--color-black:#222;--color-blue-bg:#363755;--color-blue-light:#85d9ef;--color-gray-light:#d3d3d9;--color-green:green;--color-green-light:#87cc86;--color-purple-dark:rgb(80, 68, 93);--color-purple:rgb(96, 76, 104);--color-purple-light:rgb(99, 99, 123);--color-red:#d66363;--color-red-gray:rgb(187, 145, 163);--color-red-light:rgb(255, 162, 177);--color-yellow:#eaea37;--color-white:#fff}:root{--tree-view-base00:#1d1f21;--tree-view-base01:#282a2e;--tree-view-base02:#373b41;--tree-view-base03:#969896;--tree-view-base04:#b4b7b4;--tree-view-base05:#c5c8c6;--tree-view-base06:#e0e0e0;--tree-view-base07:#ffffff;--tree-view-base08:#CC342B;--tree-view-base09:#F96A38;--tree-view-base0A:#FBA922;--tree-view-base0B:#198844;--tree-view-base0C:#3971ED;--tree-view-base0D:#3971ED;--tree-view-base0E:#A36AC7;--tree-view-base0F:#3971ED}section.svelte-j3y8g5{font-family:var(--font-sans);font-size:var(--font-medium)}");class Lo extends pt{constructor(t){super(),ut(this,t,Ro,qo,c,{view:4,devToolsExpanded:0,buttonPosition:1})}}var Uo=!1;var Go="__prosemirror-dev-toolkit__";function Jo(t,n){void 0===n&&(n={});var r=function(){var t=document.querySelector("."+Go);return t||((t=document.createElement("div")).className=Go,document.body.appendChild(t)),t}();new Lo({target:r,props:e({view:t},n)}),function(t){Uo=!0;var e=t.someProp("dispatchTransaction");setTimeout((function(){console.log("set props",e),t.setProps({dispatchTransaction:function(n){console.log("captured tr",n),e?e(n):t.updateState(t.state.apply(n)),Uo&&bo(n,t.state)}})}),1)}(t)}window.applyDevTools=Jo,t.applyDevTools=Jo,t.removeDevTools=function(){},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
