import{c as Ke}from"./index-dffb0482.js";import{I as ze}from"./idle-scheduler-7aa0dcbd.js";var fe={},Qe={get exports(){return fe},set exports(u){fe=u}};(function(u){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,t=1,a=0;e.Diff=function(r,i){return[r,i]},e.prototype.diff_main=function(r,i,o,s){typeof s>"u"&&(this.Diff_Timeout<=0?s=Number.MAX_VALUE:s=new Date().getTime()+this.Diff_Timeout*1e3);var f=s;if(r==null||i==null)throw new Error("Null input. (diff_main)");if(r==i)return r?[new e.Diff(a,r)]:[];typeof o>"u"&&(o=!0);var l=o,h=this.diff_commonPrefix(r,i),p=r.substring(0,h);r=r.substring(h),i=i.substring(h),h=this.diff_commonSuffix(r,i);var c=r.substring(r.length-h);r=r.substring(0,r.length-h),i=i.substring(0,i.length-h);var v=this.diff_compute_(r,i,l,f);return p&&v.unshift(new e.Diff(a,p)),c&&v.push(new e.Diff(a,c)),this.diff_cleanupMerge(v),v},e.prototype.diff_compute_=function(r,i,o,s){var f;if(!r)return[new e.Diff(t,i)];if(!i)return[new e.Diff(n,r)];var l=r.length>i.length?r:i,h=r.length>i.length?i:r,p=l.indexOf(h);if(p!=-1)return f=[new e.Diff(t,l.substring(0,p)),new e.Diff(a,h),new e.Diff(t,l.substring(p+h.length))],r.length>i.length&&(f[0][0]=f[2][0]=n),f;if(h.length==1)return[new e.Diff(n,r),new e.Diff(t,i)];var c=this.diff_halfMatch_(r,i);if(c){var v=c[0],d=c[1],g=c[2],b=c[3],w=c[4],k=this.diff_main(v,g,o,s),T=this.diff_main(d,b,o,s);return k.concat([new e.Diff(a,w)],T)}return o&&r.length>100&&i.length>100?this.diff_lineMode_(r,i,s):this.diff_bisect_(r,i,s)},e.prototype.diff_lineMode_=function(r,i,o){var s=this.diff_linesToChars_(r,i);r=s.chars1,i=s.chars2;var f=s.lineArray,l=this.diff_main(r,i,!1,o);this.diff_charsToLines_(l,f),this.diff_cleanupSemantic(l),l.push(new e.Diff(a,""));for(var h=0,p=0,c=0,v="",d="";h<l.length;){switch(l[h][0]){case t:c++,d+=l[h][1];break;case n:p++,v+=l[h][1];break;case a:if(p>=1&&c>=1){l.splice(h-p-c,p+c),h=h-p-c;for(var g=this.diff_main(v,d,!1,o),b=g.length-1;b>=0;b--)l.splice(h,0,g[b]);h=h+g.length}c=0,p=0,v="",d="";break}h++}return l.pop(),l},e.prototype.diff_bisect_=function(r,i,o){for(var s=r.length,f=i.length,l=Math.ceil((s+f)/2),h=l,p=2*l,c=new Array(p),v=new Array(p),d=0;d<p;d++)c[d]=-1,v[d]=-1;c[h+1]=0,v[h+1]=0;for(var g=s-f,b=g%2!=0,w=0,k=0,T=0,N=0,A=0;A<l&&!(new Date().getTime()>o);A++){for(var D=-A+w;D<=A-k;D+=2){var C=h+D,P;D==-A||D!=A&&c[C-1]<c[C+1]?P=c[C+1]:P=c[C-1]+1;for(var j=P-D;P<s&&j<f&&r.charAt(P)==i.charAt(j);)P++,j++;if(c[C]=P,P>s)k+=2;else if(j>f)w+=2;else if(b){var M=h+g-D;if(M>=0&&M<p&&v[M]!=-1){var _=s-v[M];if(P>=_)return this.diff_bisectSplit_(r,i,P,j,o)}}}for(var m=-A+T;m<=A-N;m+=2){var M=h+m,_;m==-A||m!=A&&v[M-1]<v[M+1]?_=v[M+1]:_=v[M-1]+1;for(var y=_-m;_<s&&y<f&&r.charAt(s-_-1)==i.charAt(f-y-1);)_++,y++;if(v[M]=_,_>s)N+=2;else if(y>f)T+=2;else if(!b){var C=h+g-m;if(C>=0&&C<p&&c[C]!=-1){var P=c[C],j=h+P-C;if(_=s-_,P>=_)return this.diff_bisectSplit_(r,i,P,j,o)}}}}return[new e.Diff(n,r),new e.Diff(t,i)]},e.prototype.diff_bisectSplit_=function(r,i,o,s,f){var l=r.substring(0,o),h=i.substring(0,s),p=r.substring(o),c=i.substring(s),v=this.diff_main(l,h,!1,f),d=this.diff_main(p,c,!1,f);return v.concat(d)},e.prototype.diff_linesToChars_=function(r,i){var o=[],s={};o[0]="";function f(c){for(var v="",d=0,g=-1,b=o.length;g<c.length-1;){g=c.indexOf(`
`,d),g==-1&&(g=c.length-1);var w=c.substring(d,g+1);(s.hasOwnProperty?s.hasOwnProperty(w):s[w]!==void 0)?v+=String.fromCharCode(s[w]):(b==l&&(w=c.substring(d),g=c.length),v+=String.fromCharCode(b),s[w]=b,o[b++]=w),d=g+1}return v}var l=4e4,h=f(r);l=65535;var p=f(i);return{chars1:h,chars2:p,lineArray:o}},e.prototype.diff_charsToLines_=function(r,i){for(var o=0;o<r.length;o++){for(var s=r[o][1],f=[],l=0;l<s.length;l++)f[l]=i[s.charCodeAt(l)];r[o][1]=f.join("")}},e.prototype.diff_commonPrefix=function(r,i){if(!r||!i||r.charAt(0)!=i.charAt(0))return 0;for(var o=0,s=Math.min(r.length,i.length),f=s,l=0;o<f;)r.substring(l,f)==i.substring(l,f)?(o=f,l=o):s=f,f=Math.floor((s-o)/2+o);return f},e.prototype.diff_commonSuffix=function(r,i){if(!r||!i||r.charAt(r.length-1)!=i.charAt(i.length-1))return 0;for(var o=0,s=Math.min(r.length,i.length),f=s,l=0;o<f;)r.substring(r.length-f,r.length-l)==i.substring(i.length-f,i.length-l)?(o=f,l=o):s=f,f=Math.floor((s-o)/2+o);return f},e.prototype.diff_commonOverlap_=function(r,i){var o=r.length,s=i.length;if(o==0||s==0)return 0;o>s?r=r.substring(o-s):o<s&&(i=i.substring(0,o));var f=Math.min(o,s);if(r==i)return f;for(var l=0,h=1;;){var p=r.substring(f-h),c=i.indexOf(p);if(c==-1)return l;h+=c,(c==0||r.substring(f-h)==i.substring(0,h))&&(l=h,h++)}},e.prototype.diff_halfMatch_=function(r,i){if(this.Diff_Timeout<=0)return null;var o=r.length>i.length?r:i,s=r.length>i.length?i:r;if(o.length<4||s.length*2<o.length)return null;var f=this;function l(k,T,N){for(var A=k.substring(N,N+Math.floor(k.length/4)),D=-1,C="",P,j,M,_;(D=T.indexOf(A,D+1))!=-1;){var m=f.diff_commonPrefix(k.substring(N),T.substring(D)),y=f.diff_commonSuffix(k.substring(0,N),T.substring(0,D));C.length<y+m&&(C=T.substring(D-y,D)+T.substring(D,D+m),P=k.substring(0,N-y),j=k.substring(N+m),M=T.substring(0,D-y),_=T.substring(D+m))}return C.length*2>=k.length?[P,j,M,_,C]:null}var h=l(o,s,Math.ceil(o.length/4)),p=l(o,s,Math.ceil(o.length/2)),c;if(!h&&!p)return null;p?h?c=h[4].length>p[4].length?h:p:c=p:c=h;var v,d,g,b;r.length>i.length?(v=c[0],d=c[1],g=c[2],b=c[3]):(g=c[0],b=c[1],v=c[2],d=c[3]);var w=c[4];return[v,d,g,b,w]},e.prototype.diff_cleanupSemantic=function(r){for(var i=!1,o=[],s=0,f=null,l=0,h=0,p=0,c=0,v=0;l<r.length;)r[l][0]==a?(o[s++]=l,h=c,p=v,c=0,v=0,f=r[l][1]):(r[l][0]==t?c+=r[l][1].length:v+=r[l][1].length,f&&f.length<=Math.max(h,p)&&f.length<=Math.max(c,v)&&(r.splice(o[s-1],0,new e.Diff(n,f)),r[o[s-1]+1][0]=t,s--,s--,l=s>0?o[s-1]:-1,h=0,p=0,c=0,v=0,f=null,i=!0)),l++;for(i&&this.diff_cleanupMerge(r),this.diff_cleanupSemanticLossless(r),l=1;l<r.length;){if(r[l-1][0]==n&&r[l][0]==t){var d=r[l-1][1],g=r[l][1],b=this.diff_commonOverlap_(d,g),w=this.diff_commonOverlap_(g,d);b>=w?(b>=d.length/2||b>=g.length/2)&&(r.splice(l,0,new e.Diff(a,g.substring(0,b))),r[l-1][1]=d.substring(0,d.length-b),r[l+1][1]=g.substring(b),l++):(w>=d.length/2||w>=g.length/2)&&(r.splice(l,0,new e.Diff(a,d.substring(0,w))),r[l-1][0]=t,r[l-1][1]=g.substring(0,g.length-w),r[l+1][0]=n,r[l+1][1]=d.substring(w),l++),l++}l++}},e.prototype.diff_cleanupSemanticLossless=function(r){function i(w,k){if(!w||!k)return 6;var T=w.charAt(w.length-1),N=k.charAt(0),A=T.match(e.nonAlphaNumericRegex_),D=N.match(e.nonAlphaNumericRegex_),C=A&&T.match(e.whitespaceRegex_),P=D&&N.match(e.whitespaceRegex_),j=C&&T.match(e.linebreakRegex_),M=P&&N.match(e.linebreakRegex_),_=j&&w.match(e.blanklineEndRegex_),m=M&&k.match(e.blanklineStartRegex_);return _||m?5:j||M?4:A&&!C&&P?3:C||P?2:A||D?1:0}for(var o=1;o<r.length-1;){if(r[o-1][0]==a&&r[o+1][0]==a){var s=r[o-1][1],f=r[o][1],l=r[o+1][1],h=this.diff_commonSuffix(s,f);if(h){var p=f.substring(f.length-h);s=s.substring(0,s.length-h),f=p+f.substring(0,f.length-h),l=p+l}for(var c=s,v=f,d=l,g=i(s,f)+i(f,l);f.charAt(0)===l.charAt(0);){s+=f.charAt(0),f=f.substring(1)+l.charAt(0),l=l.substring(1);var b=i(s,f)+i(f,l);b>=g&&(g=b,c=s,v=f,d=l)}r[o-1][1]!=c&&(c?r[o-1][1]=c:(r.splice(o-1,1),o--),r[o][1]=v,d?r[o+1][1]=d:(r.splice(o+1,1),o--))}o++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(r){for(var i=!1,o=[],s=0,f=null,l=0,h=!1,p=!1,c=!1,v=!1;l<r.length;)r[l][0]==a?(r[l][1].length<this.Diff_EditCost&&(c||v)?(o[s++]=l,h=c,p=v,f=r[l][1]):(s=0,f=null),c=v=!1):(r[l][0]==n?v=!0:c=!0,f&&(h&&p&&c&&v||f.length<this.Diff_EditCost/2&&h+p+c+v==3)&&(r.splice(o[s-1],0,new e.Diff(n,f)),r[o[s-1]+1][0]=t,s--,f=null,h&&p?(c=v=!0,s=0):(s--,l=s>0?o[s-1]:-1,c=v=!1),i=!0)),l++;i&&this.diff_cleanupMerge(r)},e.prototype.diff_cleanupMerge=function(r){r.push(new e.Diff(a,""));for(var i=0,o=0,s=0,f="",l="",h;i<r.length;)switch(r[i][0]){case t:s++,l+=r[i][1],i++;break;case n:o++,f+=r[i][1],i++;break;case a:o+s>1?(o!==0&&s!==0&&(h=this.diff_commonPrefix(l,f),h!==0&&(i-o-s>0&&r[i-o-s-1][0]==a?r[i-o-s-1][1]+=l.substring(0,h):(r.splice(0,0,new e.Diff(a,l.substring(0,h))),i++),l=l.substring(h),f=f.substring(h)),h=this.diff_commonSuffix(l,f),h!==0&&(r[i][1]=l.substring(l.length-h)+r[i][1],l=l.substring(0,l.length-h),f=f.substring(0,f.length-h))),i-=o+s,r.splice(i,o+s),f.length&&(r.splice(i,0,new e.Diff(n,f)),i++),l.length&&(r.splice(i,0,new e.Diff(t,l)),i++),i++):i!==0&&r[i-1][0]==a?(r[i-1][1]+=r[i][1],r.splice(i,1)):i++,s=0,o=0,f="",l="";break}r[r.length-1][1]===""&&r.pop();var p=!1;for(i=1;i<r.length-1;)r[i-1][0]==a&&r[i+1][0]==a&&(r[i][1].substring(r[i][1].length-r[i-1][1].length)==r[i-1][1]?(r[i][1]=r[i-1][1]+r[i][1].substring(0,r[i][1].length-r[i-1][1].length),r[i+1][1]=r[i-1][1]+r[i+1][1],r.splice(i-1,1),p=!0):r[i][1].substring(0,r[i+1][1].length)==r[i+1][1]&&(r[i-1][1]+=r[i+1][1],r[i][1]=r[i][1].substring(r[i+1][1].length)+r[i+1][1],r.splice(i+1,1),p=!0)),i++;p&&this.diff_cleanupMerge(r)},e.prototype.diff_xIndex=function(r,i){var o=0,s=0,f=0,l=0,h;for(h=0;h<r.length&&(r[h][0]!==t&&(o+=r[h][1].length),r[h][0]!==n&&(s+=r[h][1].length),!(o>i));h++)f=o,l=s;return r.length!=h&&r[h][0]===n?l:l+(i-f)},e.prototype.diff_prettyHtml=function(r){for(var i=[],o=/&/g,s=/</g,f=/>/g,l=/\n/g,h=0;h<r.length;h++){var p=r[h][0],c=r[h][1],v=c.replace(o,"&amp;").replace(s,"&lt;").replace(f,"&gt;").replace(l,"&para;<br>");switch(p){case t:i[h]='<ins style="background:#e6ffe6;">'+v+"</ins>";break;case n:i[h]='<del style="background:#ffe6e6;">'+v+"</del>";break;case a:i[h]="<span>"+v+"</span>";break}}return i.join("")},e.prototype.diff_text1=function(r){for(var i=[],o=0;o<r.length;o++)r[o][0]!==t&&(i[o]=r[o][1]);return i.join("")},e.prototype.diff_text2=function(r){for(var i=[],o=0;o<r.length;o++)r[o][0]!==n&&(i[o]=r[o][1]);return i.join("")},e.prototype.diff_levenshtein=function(r){for(var i=0,o=0,s=0,f=0;f<r.length;f++){var l=r[f][0],h=r[f][1];switch(l){case t:o+=h.length;break;case n:s+=h.length;break;case a:i+=Math.max(o,s),o=0,s=0;break}}return i+=Math.max(o,s),i},e.prototype.diff_toDelta=function(r){for(var i=[],o=0;o<r.length;o++)switch(r[o][0]){case t:i[o]="+"+encodeURI(r[o][1]);break;case n:i[o]="-"+r[o][1].length;break;case a:i[o]="="+r[o][1].length;break}return i.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(r,i){for(var o=[],s=0,f=0,l=i.split(/\t/g),h=0;h<l.length;h++){var p=l[h].substring(1);switch(l[h].charAt(0)){case"+":try{o[s++]=new e.Diff(t,decodeURI(p))}catch{throw new Error("Illegal escape in diff_fromDelta: "+p)}break;case"-":case"=":var c=parseInt(p,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+p);var v=r.substring(f,f+=c);l[h].charAt(0)=="="?o[s++]=new e.Diff(a,v):o[s++]=new e.Diff(n,v);break;default:if(l[h])throw new Error("Invalid diff operation in diff_fromDelta: "+l[h])}}if(f!=r.length)throw new Error("Delta length ("+f+") does not equal source text length ("+r.length+").");return o},e.prototype.match_main=function(r,i,o){if(r==null||i==null||o==null)throw new Error("Null input. (match_main)");return o=Math.max(0,Math.min(o,r.length)),r==i?0:r.length?r.substring(o,o+i.length)==i?o:this.match_bitap_(r,i,o):-1},e.prototype.match_bitap_=function(r,i,o){if(i.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(i),f=this;function l(P,j){var M=P/i.length,_=Math.abs(o-j);return f.Match_Distance?M+_/f.Match_Distance:_?1:M}var h=this.Match_Threshold,p=r.indexOf(i,o);p!=-1&&(h=Math.min(l(0,p),h),p=r.lastIndexOf(i,o+i.length),p!=-1&&(h=Math.min(l(0,p),h)));var c=1<<i.length-1;p=-1;for(var v,d,g=i.length+r.length,b,w=0;w<i.length;w++){for(v=0,d=g;v<d;)l(w,o+d)<=h?v=d:g=d,d=Math.floor((g-v)/2+v);g=d;var k=Math.max(1,o-d+1),T=Math.min(o+d,r.length)+i.length,N=Array(T+2);N[T+1]=(1<<w)-1;for(var A=T;A>=k;A--){var D=s[r.charAt(A-1)];if(w===0?N[A]=(N[A+1]<<1|1)&D:N[A]=(N[A+1]<<1|1)&D|((b[A+1]|b[A])<<1|1)|b[A+1],N[A]&c){var C=l(w,A-1);if(C<=h)if(h=C,p=A-1,p>o)k=Math.max(1,2*o-p);else break}}if(l(w+1,o)>h)break;b=N}return p},e.prototype.match_alphabet_=function(r){for(var i={},o=0;o<r.length;o++)i[r.charAt(o)]=0;for(var o=0;o<r.length;o++)i[r.charAt(o)]|=1<<r.length-o-1;return i},e.prototype.patch_addContext_=function(r,i){if(i.length!=0){if(r.start2===null)throw Error("patch not initialized");for(var o=i.substring(r.start2,r.start2+r.length1),s=0;i.indexOf(o)!=i.lastIndexOf(o)&&o.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)s+=this.Patch_Margin,o=i.substring(r.start2-s,r.start2+r.length1+s);s+=this.Patch_Margin;var f=i.substring(r.start2-s,r.start2);f&&r.diffs.unshift(new e.Diff(a,f));var l=i.substring(r.start2+r.length1,r.start2+r.length1+s);l&&r.diffs.push(new e.Diff(a,l)),r.start1-=f.length,r.start2-=f.length,r.length1+=f.length+l.length,r.length2+=f.length+l.length}},e.prototype.patch_make=function(r,i,o){var s,f;if(typeof r=="string"&&typeof i=="string"&&typeof o>"u")s=r,f=this.diff_main(s,i,!0),f.length>2&&(this.diff_cleanupSemantic(f),this.diff_cleanupEfficiency(f));else if(r&&typeof r=="object"&&typeof i>"u"&&typeof o>"u")f=r,s=this.diff_text1(f);else if(typeof r=="string"&&i&&typeof i=="object"&&typeof o>"u")s=r,f=i;else if(typeof r=="string"&&typeof i=="string"&&o&&typeof o=="object")s=r,f=o;else throw new Error("Unknown call format to patch_make.");if(f.length===0)return[];for(var l=[],h=new e.patch_obj,p=0,c=0,v=0,d=s,g=s,b=0;b<f.length;b++){var w=f[b][0],k=f[b][1];switch(!p&&w!==a&&(h.start1=c,h.start2=v),w){case t:h.diffs[p++]=f[b],h.length2+=k.length,g=g.substring(0,v)+k+g.substring(v);break;case n:h.length1+=k.length,h.diffs[p++]=f[b],g=g.substring(0,v)+g.substring(v+k.length);break;case a:k.length<=2*this.Patch_Margin&&p&&f.length!=b+1?(h.diffs[p++]=f[b],h.length1+=k.length,h.length2+=k.length):k.length>=2*this.Patch_Margin&&p&&(this.patch_addContext_(h,d),l.push(h),h=new e.patch_obj,p=0,d=g,c=v);break}w!==t&&(c+=k.length),w!==n&&(v+=k.length)}return p&&(this.patch_addContext_(h,d),l.push(h)),l},e.prototype.patch_deepCopy=function(r){for(var i=[],o=0;o<r.length;o++){var s=r[o],f=new e.patch_obj;f.diffs=[];for(var l=0;l<s.diffs.length;l++)f.diffs[l]=new e.Diff(s.diffs[l][0],s.diffs[l][1]);f.start1=s.start1,f.start2=s.start2,f.length1=s.length1,f.length2=s.length2,i[o]=f}return i},e.prototype.patch_apply=function(r,i){if(r.length==0)return[i,[]];r=this.patch_deepCopy(r);var o=this.patch_addPadding(r);i=o+i+o,this.patch_splitMax(r);for(var s=0,f=[],l=0;l<r.length;l++){var h=r[l].start2+s,p=this.diff_text1(r[l].diffs),c,v=-1;if(p.length>this.Match_MaxBits?(c=this.match_main(i,p.substring(0,this.Match_MaxBits),h),c!=-1&&(v=this.match_main(i,p.substring(p.length-this.Match_MaxBits),h+p.length-this.Match_MaxBits),(v==-1||c>=v)&&(c=-1))):c=this.match_main(i,p,h),c==-1)f[l]=!1,s-=r[l].length2-r[l].length1;else{f[l]=!0,s=c-h;var d;if(v==-1?d=i.substring(c,c+p.length):d=i.substring(c,v+this.Match_MaxBits),p==d)i=i.substring(0,c)+this.diff_text2(r[l].diffs)+i.substring(c+p.length);else{var g=this.diff_main(p,d,!1);if(p.length>this.Match_MaxBits&&this.diff_levenshtein(g)/p.length>this.Patch_DeleteThreshold)f[l]=!1;else{this.diff_cleanupSemanticLossless(g);for(var b=0,w,k=0;k<r[l].diffs.length;k++){var T=r[l].diffs[k];T[0]!==a&&(w=this.diff_xIndex(g,b)),T[0]===t?i=i.substring(0,c+w)+T[1]+i.substring(c+w):T[0]===n&&(i=i.substring(0,c+w)+i.substring(c+this.diff_xIndex(g,b+T[1].length))),T[0]!==n&&(b+=T[1].length)}}}}}return i=i.substring(o.length,i.length-o.length),[i,f]},e.prototype.patch_addPadding=function(r){for(var i=this.Patch_Margin,o="",s=1;s<=i;s++)o+=String.fromCharCode(s);for(var s=0;s<r.length;s++)r[s].start1+=i,r[s].start2+=i;var f=r[0],l=f.diffs;if(l.length==0||l[0][0]!=a)l.unshift(new e.Diff(a,o)),f.start1-=i,f.start2-=i,f.length1+=i,f.length2+=i;else if(i>l[0][1].length){var h=i-l[0][1].length;l[0][1]=o.substring(l[0][1].length)+l[0][1],f.start1-=h,f.start2-=h,f.length1+=h,f.length2+=h}if(f=r[r.length-1],l=f.diffs,l.length==0||l[l.length-1][0]!=a)l.push(new e.Diff(a,o)),f.length1+=i,f.length2+=i;else if(i>l[l.length-1][1].length){var h=i-l[l.length-1][1].length;l[l.length-1][1]+=o.substring(0,h),f.length1+=h,f.length2+=h}return o},e.prototype.patch_splitMax=function(r){for(var i=this.Match_MaxBits,o=0;o<r.length;o++)if(!(r[o].length1<=i)){var s=r[o];r.splice(o--,1);for(var f=s.start1,l=s.start2,h="";s.diffs.length!==0;){var p=new e.patch_obj,c=!0;for(p.start1=f-h.length,p.start2=l-h.length,h!==""&&(p.length1=p.length2=h.length,p.diffs.push(new e.Diff(a,h)));s.diffs.length!==0&&p.length1<i-this.Patch_Margin;){var v=s.diffs[0][0],d=s.diffs[0][1];v===t?(p.length2+=d.length,l+=d.length,p.diffs.push(s.diffs.shift()),c=!1):v===n&&p.diffs.length==1&&p.diffs[0][0]==a&&d.length>2*i?(p.length1+=d.length,f+=d.length,c=!1,p.diffs.push(new e.Diff(v,d)),s.diffs.shift()):(d=d.substring(0,i-p.length1-this.Patch_Margin),p.length1+=d.length,f+=d.length,v===a?(p.length2+=d.length,l+=d.length):c=!1,p.diffs.push(new e.Diff(v,d)),d==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(d.length))}h=this.diff_text2(p.diffs),h=h.substring(h.length-this.Patch_Margin);var g=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);g!==""&&(p.length1+=g.length,p.length2+=g.length,p.diffs.length!==0&&p.diffs[p.diffs.length-1][0]===a?p.diffs[p.diffs.length-1][1]+=g:p.diffs.push(new e.Diff(a,g))),c||r.splice(++o,0,p)}}},e.prototype.patch_toText=function(r){for(var i=[],o=0;o<r.length;o++)i[o]=r[o];return i.join("")},e.prototype.patch_fromText=function(r){var i=[];if(!r)return i;for(var o=r.split(`
`),s=0,f=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<o.length;){var l=o[s].match(f);if(!l)throw new Error("Invalid patch string: "+o[s]);var h=new e.patch_obj;for(i.push(h),h.start1=parseInt(l[1],10),l[2]===""?(h.start1--,h.length1=1):l[2]=="0"?h.length1=0:(h.start1--,h.length1=parseInt(l[2],10)),h.start2=parseInt(l[3],10),l[4]===""?(h.start2--,h.length2=1):l[4]=="0"?h.length2=0:(h.start2--,h.length2=parseInt(l[4],10)),s++;s<o.length;){var p=o[s].charAt(0);try{var c=decodeURI(o[s].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+c)}if(p=="-")h.diffs.push(new e.Diff(n,c));else if(p=="+")h.diffs.push(new e.Diff(t,c));else if(p==" ")h.diffs.push(new e.Diff(a,c));else{if(p=="@")break;if(p!=="")throw new Error('Invalid patch mode "'+p+'" in: '+c)}s++}}return i},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var r,i;this.length1===0?r=this.start1+",0":this.length1==1?r=this.start1+1:r=this.start1+1+","+this.length1,this.length2===0?i=this.start2+",0":this.length2==1?i=this.start2+1:i=this.start2+1+","+this.length2;for(var o=["@@ -"+r+" +"+i+` @@
`],s,f=0;f<this.diffs.length;f++){switch(this.diffs[f][0]){case t:s="+";break;case n:s="-";break;case a:s=" ";break}o[f+1]=s+encodeURI(this.diffs[f][1])+`
`}return o.join("").replace(/%20/g," ")},u.exports=e,u.exports.diff_match_patch=e,u.exports.DIFF_DELETE=n,u.exports.DIFF_INSERT=t,u.exports.DIFF_EQUAL=a})(Qe);const oe=fe;var ue={},qe={get exports(){return ue},set exports(u){ue=u}},Ze=/[|\\{}()[\]^$+*?.]/g,xe=function(u){if(typeof u!="string")throw new TypeError("Expected a string");return u.replace(Ze,"\\$&")},he={},er={get exports(){return he},set exports(u){he=u}};(function(u){const e=Ke,n=(i,o)=>function(){return`\x1B[${i.apply(e,arguments)+o}m`},t=(i,o)=>function(){const s=i.apply(e,arguments);return`\x1B[${38+o};5;${s}m`},a=(i,o)=>function(){const s=i.apply(e,arguments);return`\x1B[${38+o};2;${s[0]};${s[1]};${s[2]}m`};function r(){const i=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.grey=o.color.gray;for(const l of Object.keys(o)){const h=o[l];for(const p of Object.keys(h)){const c=h[p];o[p]={open:`\x1B[${c[0]}m`,close:`\x1B[${c[1]}m`},h[p]=o[p],i.set(c[0],c[1])}Object.defineProperty(o,l,{value:h,enumerable:!1}),Object.defineProperty(o,"codes",{value:i,enumerable:!1})}const s=l=>l,f=(l,h,p)=>[l,h,p];o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi={ansi:n(s,0)},o.color.ansi256={ansi256:t(s,0)},o.color.ansi16m={rgb:a(f,0)},o.bgColor.ansi={ansi:n(s,10)},o.bgColor.ansi256={ansi256:t(s,10)},o.bgColor.ansi16m={rgb:a(f,10)};for(let l of Object.keys(e)){if(typeof e[l]!="object")continue;const h=e[l];l==="ansi16"&&(l="ansi"),"ansi16"in h&&(o.color.ansi[l]=n(h.ansi16,0),o.bgColor.ansi[l]=n(h.ansi16,10)),"ansi256"in h&&(o.color.ansi256[l]=t(h.ansi256,0),o.bgColor.ansi256[l]=t(h.ansi256,10)),"rgb"in h&&(o.color.ansi16m[l]=a(h.rgb,0),o.bgColor.ansi16m[l]=a(h.rgb,10))}return o}Object.defineProperty(u,"exports",{enumerable:!0,get:r})})(er);var rr={stdout:!1,stderr:!1};const tr=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,me=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,nr=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ir=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,ar=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function De(u){return u[0]==="u"&&u.length===5||u[0]==="x"&&u.length===3?String.fromCharCode(parseInt(u.slice(1),16)):ar.get(u)||u}function or(u,e){const n=[],t=e.trim().split(/\s*,\s*/g);let a;for(const r of t)if(!isNaN(r))n.push(Number(r));else if(a=r.match(nr))n.push(a[2].replace(ir,(i,o,s)=>o?De(o):s));else throw new Error(`Invalid Chalk template style argument: ${r} (in style '${u}')`);return n}function sr(u){me.lastIndex=0;const e=[];let n;for(;(n=me.exec(u))!==null;){const t=n[1];if(n[2]){const a=or(t,n[2]);e.push([t].concat(a))}else e.push([t])}return e}function _e(u,e){const n={};for(const a of e)for(const r of a.styles)n[r[0]]=a.inverse?null:r.slice(1);let t=u;for(const a of Object.keys(n))if(Array.isArray(n[a])){if(!(a in t))throw new Error(`Unknown Chalk style: ${a}`);n[a].length>0?t=t[a].apply(t,n[a]):t=t[a]}return t}var lr=(u,e)=>{const n=[],t=[];let a=[];if(e.replace(tr,(r,i,o,s,f,l)=>{if(i)a.push(De(i));else if(s){const h=a.join("");a=[],t.push(n.length===0?h:_e(u,n)(h)),n.push({inverse:o,styles:sr(s)})}else if(f){if(n.length===0)throw new Error("Found extraneous } in Chalk template literal");t.push(_e(u,n)(a.join(""))),a=[],n.pop()}else a.push(l)}),t.push(a.join("")),n.length>0){const r=`Chalk template literal is missing ${n.length} closing bracket${n.length===1?"":"s"} (\`}\`)`;throw new Error(r)}return t.join("")};(function(u){const e=xe,n=he,t=rr.stdout,a=lr,r=process.platform==="win32"&&!({GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_bd00c84f-7c99-4c7a-92cd-2e1840dcf005",npm_package_devDependencies__types_node:"^18.11.18",npm_package_devDependencies_vite_tsconfig_paths:"^4.0.3",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",npm_package_devDependencies__types_react_router_dom:"^5.3.3",USER:"runner",npm_config_user_agent:"pnpm/7.22.0 npm/? node/v16.18.1 linux x64",CI:"true",npm_package_devDependencies__vitejs_plugin_react_refresh:"^1.3.6",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_bd00c84f-7c99-4c7a-92cd-2e1840dcf005",PIPX_HOME:"/opt/pipx",npm_package_devDependencies_vite:"^4.0.3",npm_node_execpath:"/usr/local/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",npm_package_dependencies_prosemirror_state:"^1.4.2",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_dependencies_prosemirror_dev_tools:"^4.0.0",npm_package_dependencies_prosemirror_example_setup:"^1.2.1",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GRAALVM_11_ROOT:"/usr/local/graalvm/graalvm-ce-java11-22.3.0",GITHUB_REPOSITORY_OWNER:"TeemuKoivisto",GRADLE_HOME:"/usr/share/gradle-7.6",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.1.8937393",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",npm_package_dependencies_yjs:"^13.5.43",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^4.7.1",SYSTEMD_EXEC_PID:"671",npm_package_dependencies_y_prosemirror:"^1.2.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_dependencies_react_router_dom:"^6.6.1",NVM_DIR:"/home/runner/.nvm",npm_package_homepage:"https://teemukoivisto.github.io/prosemirror-dev-toolkit/",npm_package_devDependencies__types_react_dom:"18.0.10",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20221212.1",npm_package_scripts_dev:"vite",npm_package_devDependencies__types_lodash_debounce:"^4.0.7",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies__types_react_router:"^5.1.20",RUNNER_USER:"runner",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16787",GITHUB_WORKFLOW:"Deploy to Github Pages",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_config_registry:"https://registry.npmjs.org/",GITHUB_RUN_ID:"3856917820",GOROOT_1_17_X64:"/opt/hostedtoolcache/go/1.17.13/x64",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.9/x64",GITHUB_ACTION_REPOSITORY:"",npm_package_dependencies_prosemirror_transform:"^1.7.0",npm_config_node_gyp:"/usr/local/lib/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/prosemirror-dev-toolkit/prosemirror-dev-toolkit/packages/site/node_modules/.bin:/usr/local/lib/node_modules/pnpm/dist/node-gyp-bin:/home/runner/work/prosemirror-dev-toolkit/prosemirror-dev-toolkit/node_modules/.bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_1d2e2be6-9f86-49c9-9fff-b693269409c8",INVOCATION_ID:"d789deaec11444b1b3a3eb9039170fcc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.4/x64",npm_package_name:"site",npm_package_dependencies_prosemirror_view:"^1.29.1",npm_config_store_dir:".pnpm-store",NODE:"/usr/local/bin/node",GITHUB_ACTION:"__run",GITHUB_RUN_NUMBER:"17",GITHUB_TRIGGERING_ACTOR:"TeemuKoivisto",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_dependencies_y_protocols:"^1.0.5",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies__types_styled_components:"^5.1.26",npm_package_dependencies_react_dom:"^18.2.0",CONDA:"/usr/share/miniconda",RUNNER_NAME:"Hosted Agent",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"TeemuKoivisto/prosemirror-dev-toolkit",npm_package_dependencies_lodash_debounce:"^4.0.8",npm_package_dependencies_prosemirror_dev_toolkit:"workspace:*",npm_lifecycle_script:"vite build",GH_PAGES:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.1.8937393",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_package_dependencies_react_router:"^6.6.1",GITHUB_ACTIONS:"true",npm_package_version:"0.0.6",npm_package_devDependencies__types_react:"18.0.26",npm_lifecycle_event:"build",NODE_PATH:"/home/runner/work/prosemirror-dev-toolkit/prosemirror-dev-toolkit/node_modules/.pnpm/node_modules",GITHUB_REF_PROTECTED:"true",npm_package_scripts_build:"vite build",GITHUB_WORKSPACE:"/home/runner/work/prosemirror-dev-toolkit/prosemirror-dev-toolkit",ACCEPT_EULA:"Y",GITHUB_JOB:"deployment",RUNNER_PERFLOG:"/home/runner/perflog",npm_package_dependencies_prosemirror_model:"^1.18.3",GITHUB_SHA:"0665e9522b4930dcf11fc3573cb2db8ae47aa8d6",GITHUB_RUN_ATTEMPT:"1",npm_package_dependencies_prosemirror_keymap:"^1.2.0",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"TeemuKoivisto",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_bd00c84f-7c99-4c7a-92cd-2e1840dcf005",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/prosemirror-dev-toolkit/prosemirror-dev-toolkit/packages/site",RUNNER_WORKSPACE:"/home/runner/work/prosemirror-dev-toolkit",npm_execpath:"/usr/local/lib/node_modules/pnpm/bin/pnpm.cjs",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"workflow_dispatch",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_bd00c84f-7c99-4c7a-92cd-2e1840dcf005",npm_config_recursive:"true",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_package_dependencies_styled_components:"^5.3.6",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/home/runner/work/prosemirror-dev-toolkit/prosemirror-dev-toolkit/packages/site",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.1.8937393",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",npm_package_dependencies_typescript:"4.9.4",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.1.8937393",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_bd00c84f-7c99-4c7a-92cd-2e1840dcf005",npm_package_devDependencies__types_react_icons:"^3.0.0",npm_package_dependencies_react:"^18.2.0",INIT_CWD:"/home/runner/work/prosemirror-dev-toolkit/prosemirror-dev-toolkit",NODE_ENV:"production"}.TERM||"").toLowerCase().startsWith("xterm"),i=["ansi","ansi","ansi256","ansi16m"],o=new Set(["gray"]),s=Object.create(null);function f(d,g){g=g||{};const b=0;d.level=g.level===void 0?b:g.level,d.enabled="enabled"in g?g.enabled:d.level>0}function l(d){if(!this||!(this instanceof l)||this.template){const g={};return f(g,d),g.template=function(){const b=[].slice.call(arguments);return v.apply(null,[g.template].concat(b))},Object.setPrototypeOf(g,l.prototype),Object.setPrototypeOf(g.template,g),g.template.constructor=l,g.template}f(this,d)}r&&(n.blue.open="\x1B[94m");for(const d of Object.keys(n))n[d].closeRe=new RegExp(e(n[d].close),"g"),s[d]={get(){const g=n[d];return p.call(this,this._styles?this._styles.concat(g):[g],this._empty,d)}};s.visible={get(){return p.call(this,this._styles||[],!0,"visible")}},n.color.closeRe=new RegExp(e(n.color.close),"g");for(const d of Object.keys(n.color.ansi))o.has(d)||(s[d]={get(){const g=this.level;return function(){const w={open:n.color[i[g]][d].apply(null,arguments),close:n.color.close,closeRe:n.color.closeRe};return p.call(this,this._styles?this._styles.concat(w):[w],this._empty,d)}}});n.bgColor.closeRe=new RegExp(e(n.bgColor.close),"g");for(const d of Object.keys(n.bgColor.ansi)){if(o.has(d))continue;const g="bg"+d[0].toUpperCase()+d.slice(1);s[g]={get(){const b=this.level;return function(){const k={open:n.bgColor[i[b]][d].apply(null,arguments),close:n.bgColor.close,closeRe:n.bgColor.closeRe};return p.call(this,this._styles?this._styles.concat(k):[k],this._empty,d)}}}}const h=Object.defineProperties(()=>{},s);function p(d,g,b){const w=function(){return c.apply(w,arguments)};w._styles=d,w._empty=g;const k=this;return Object.defineProperty(w,"level",{enumerable:!0,get(){return k.level},set(T){k.level=T}}),Object.defineProperty(w,"enabled",{enumerable:!0,get(){return k.enabled},set(T){k.enabled=T}}),w.hasGrey=this.hasGrey||b==="gray"||b==="grey",w.__proto__=h,w}function c(){const d=arguments,g=d.length;let b=String(arguments[0]);if(g===0)return"";if(g>1)for(let k=1;k<g;k++)b+=" "+d[k];if(!this.enabled||this.level<=0||!b)return this._empty?"":b;const w=n.dim.open;r&&this.hasGrey&&(n.dim.open="");for(const k of this._styles.slice().reverse())b=k.open+b.replace(k.closeRe,k.open)+k.close,b=b.replace(/\r?\n/g,`${k.close}$&${k.open}`);return n.dim.open=w,b}function v(d,g){if(!Array.isArray(g))return[].slice.call(arguments,1).join(" ");const b=[].slice.call(arguments,2),w=[g.raw[0]];for(let k=1;k<g.length;k++)w.push(String(b[k-1]).replace(/[{}\\]/g,"\\$&")),w.push(String(g.raw[k]));return a(d,w.join(""))}Object.defineProperties(l.prototype,s),u.exports=l(),u.exports.supportsColor=t,u.exports.default=u.exports})(qe);const ye=ue;var F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},L=function(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")},H=function(){function u(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,t){return n&&u(e.prototype,n),t&&u(e,t),e}}(),de=function u(e,n,t){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var r=Object.getPrototypeOf(e);return r===null?void 0:u(r,n,t)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(t)}},Y=function(u,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)},J=function(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:u},fr=function(){function u(e){L(this,u),this.selfOptions=e||{},this.pipes={}}return H(u,[{key:"options",value:function(n){return n&&(this.selfOptions=n),this.selfOptions}},{key:"pipe",value:function(n,t){var a=t;if(typeof n=="string"){if(typeof a>"u")return this.pipes[n];this.pipes[n]=a}if(n&&n.name){if(a=n,a.processor===this)return a;this.pipes[a.name]=a}return a.processor=this,a}},{key:"process",value:function(n,t){var a=n;a.options=this.options();for(var r=t||n.pipe||"default",i=void 0,o=void 0;r;)typeof a.nextAfterChildren<"u"&&(a.next=a.nextAfterChildren,a.nextAfterChildren=null),typeof r=="string"&&(r=this.pipe(r)),r.process(a),o=a,i=r,r=null,a&&a.next&&(a=a.next,r=o.nextPipe||a.pipe||i);return a.hasResult?a.result:void 0}}]),u}(),ee=function(){function u(e){L(this,u),this.name=e,this.filters=[]}return H(u,[{key:"process",value:function(n){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var t=this.debug,a=this.filters.length,r=n,i=0;i<a;i++){var o=this.filters[i];if(t&&this.log("filter: "+o.filterName),o(r),(typeof r>"u"?"undefined":F(r))==="object"&&r.exiting){r.exiting=!1;break}}!r.next&&this.resultCheck&&this.resultCheck(r)}},{key:"log",value:function(n){console.log("[jsondiffpatch] "+this.name+" pipe, "+n)}},{key:"append",value:function(){var n;return(n=this.filters).push.apply(n,arguments),this}},{key:"prepend",value:function(){var n;return(n=this.filters).unshift.apply(n,arguments),this}},{key:"indexOf",value:function(n){if(!n)throw new Error("a filter name is required");for(var t=0;t<this.filters.length;t++){var a=this.filters[t];if(a.filterName===n)return t}throw new Error("filter not found: "+n)}},{key:"list",value:function(){return this.filters.map(function(n){return n.filterName})}},{key:"after",value:function(n){var t=this.indexOf(n),a=Array.prototype.slice.call(arguments,1);if(!a.length)throw new Error("a filter is required");return a.unshift(t+1,0),Array.prototype.splice.apply(this.filters,a),this}},{key:"before",value:function(n){var t=this.indexOf(n),a=Array.prototype.slice.call(arguments,1);if(!a.length)throw new Error("a filter is required");return a.unshift(t,0),Array.prototype.splice.apply(this.filters,a),this}},{key:"replace",value:function(n){var t=this.indexOf(n),a=Array.prototype.slice.call(arguments,1);if(!a.length)throw new Error("a filter is required");return a.unshift(t,1),Array.prototype.splice.apply(this.filters,a),this}},{key:"remove",value:function(n){var t=this.indexOf(n);return this.filters.splice(t,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(n){if(n===!1){this.resultCheck=null;return}if(!this.resultCheck){var t=this;return this.resultCheck=function(a){if(!a.hasResult){console.log(a);var r=new Error(t.name+" failed");throw r.noResult=!0,r}},this}}}]),u}(),re=function(){function u(){L(this,u)}return H(u,[{key:"setResult",value:function(n){return this.result=n,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(n,t){return typeof n=="string"||n instanceof ee?this.nextPipe=n:(this.next=n,t&&(this.nextPipe=t)),this}},{key:"push",value:function(n,t){return n.parent=this,typeof t<"u"&&(n.childName=t),n.root=this.root||this,n.options=n.options||this.options,this.children?(this.children[this.children.length-1].next=n,this.children.push(n)):(this.children=[n],this.nextAfterChildren=this.next||null,this.next=n),n.next=this,this}}]),u}(),ur=typeof Array.isArray=="function"?Array.isArray:function(u){return u instanceof Array};function hr(u){var e=/^\/(.*)\/([gimyu]*)$/.exec(u.toString());return new RegExp(e[1],e[2])}function te(u){if((typeof u>"u"?"undefined":F(u))!=="object")return u;if(u===null)return null;if(ur(u))return u.map(te);if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp)return hr(u);var e={};for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=te(u[n]));return e}var W=function(u){Y(e,u);function e(n,t){L(this,e);var a=J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.left=n,a.right=t,a.pipe="diff",a}return H(e,[{key:"setResult",value:function(t){if(this.options.cloneDiffValues&&(typeof t>"u"?"undefined":F(t))==="object"){var a=typeof this.options.cloneDiffValues=="function"?this.options.cloneDiffValues:te;F(t[0])==="object"&&(t[0]=a(t[0])),F(t[1])==="object"&&(t[1]=a(t[1]))}return re.prototype.setResult.apply(this,arguments)}}]),e}(re),ve=function(u){Y(e,u);function e(n,t){L(this,e);var a=J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.left=n,a.delta=t,a.pipe="patch",a}return e}(re),ge=function(u){Y(e,u);function e(n){L(this,e);var t=J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.delta=n,t.pipe="reverse",t}return e}(re),ne=typeof Array.isArray=="function"?Array.isArray:function(u){return u instanceof Array},Ne=function(e){if(e.left===e.right){e.setResult(void 0).exit();return}if(typeof e.left>"u"){if(typeof e.right=="function")throw new Error("functions are not supported");e.setResult([e.right]).exit();return}if(typeof e.right>"u"){e.setResult([e.left,0,0]).exit();return}if(typeof e.left=="function"||typeof e.right=="function")throw new Error("functions are not supported");if(e.leftType=e.left===null?"null":F(e.left),e.rightType=e.right===null?"null":F(e.right),e.leftType!==e.rightType){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="boolean"||e.leftType==="number"){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="object"&&(e.leftIsArray=ne(e.left)),e.rightType==="object"&&(e.rightIsArray=ne(e.right)),e.leftIsArray!==e.rightIsArray){e.setResult([e.left,e.right]).exit();return}e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit())};Ne.filterName="trivial";var Ce=function(e){if(typeof e.delta>"u"){e.setResult(e.left).exit();return}if(e.nested=!ne(e.delta),!e.nested){if(e.delta.length===1){e.setResult(e.delta[0]).exit();return}if(e.delta.length===2){if(e.left instanceof RegExp){var n=/^\/(.*)\/([gimyu]+)$/.exec(e.delta[1]);if(n){e.setResult(new RegExp(n[1],n[2])).exit();return}}e.setResult(e.delta[1]).exit();return}e.delta.length===3&&e.delta[2]===0&&e.setResult(void 0).exit()}};Ce.filterName="trivial";var Pe=function(e){if(typeof e.delta>"u"){e.setResult(e.delta).exit();return}if(e.nested=!ne(e.delta),!e.nested){if(e.delta.length===1){e.setResult([e.delta[0],0,0]).exit();return}if(e.delta.length===2){e.setResult([e.delta[1],e.delta[0]]).exit();return}e.delta.length===3&&e.delta[2]===0&&e.setResult([e.delta[0]]).exit()}};Pe.filterName="trivial";function Me(u){if(!(!u||!u.children)){for(var e=u.children.length,n=void 0,t=u.result,a=0;a<e;a++)n=u.children[a],!(typeof n.result>"u")&&(t=t||{},t[n.childName]=n.result);t&&u.leftIsArray&&(t._t="a"),u.setResult(t).exit()}}Me.filterName="collectChildren";function Ie(u){if(!(u.leftIsArray||u.leftType!=="object")){var e=void 0,n=void 0,t=u.options.propertyFilter;for(e in u.left)Object.prototype.hasOwnProperty.call(u.left,e)&&(t&&!t(e,u)||(n=new W(u.left[e],u.right[e]),u.push(n,e)));for(e in u.right)Object.prototype.hasOwnProperty.call(u.right,e)&&(t&&!t(e,u)||typeof u.left[e]>"u"&&(n=new W(void 0,u.right[e]),u.push(n,e)));if(!u.children||u.children.length===0){u.setResult(void 0).exit();return}u.exit()}}Ie.filterName="objects";var je=function(e){if(e.nested&&!e.delta._t){var n=void 0,t=void 0;for(n in e.delta)t=new ve(e.left[n],e.delta[n]),e.push(t,n);e.exit()}};je.filterName="objects";var Se=function(e){if(!(!e||!e.children)&&!e.delta._t){for(var n=e.children.length,t=void 0,a=0;a<n;a++)t=e.children[a],Object.prototype.hasOwnProperty.call(e.left,t.childName)&&t.result===void 0?delete e.left[t.childName]:e.left[t.childName]!==t.result&&(e.left[t.childName]=t.result);e.setResult(e.left).exit()}};Se.filterName="collectChildren";var Be=function(e){if(e.nested&&!e.delta._t){var n=void 0,t=void 0;for(n in e.delta)t=new ge(e.delta[n]),e.push(t,n);e.exit()}};Be.filterName="objects";function Le(u){if(!(!u||!u.children)&&!u.delta._t){for(var e=u.children.length,n=void 0,t={},a=0;a<e;a++)n=u.children[a],t[n.childName]!==n.result&&(t[n.childName]=n.result);u.setResult(t).exit()}}Le.filterName="collectChildren";var pr=function(e,n,t,a){return e[t]===n[a]},cr=function(e,n,t,a){var r=e.length,i=n.length,o=void 0,s=void 0,f=[r+1];for(o=0;o<r+1;o++)for(f[o]=[i+1],s=0;s<i+1;s++)f[o][s]=0;for(f.match=t,o=1;o<r+1;o++)for(s=1;s<i+1;s++)t(e,n,o-1,s-1,a)?f[o][s]=f[o-1][s-1]+1:f[o][s]=Math.max(f[o-1][s],f[o][s-1]);return f},dr=function(e,n,t,a){for(var r=n.length,i=t.length,o={sequence:[],indices1:[],indices2:[]};r!==0&&i!==0;){var s=e.match(n,t,r-1,i-1,a);if(s)o.sequence.unshift(n[r-1]),o.indices1.unshift(r-1),o.indices2.unshift(i-1),--r,--i;else{var f=e[r][i-1],l=e[r-1][i];f>l?--i:--r}}return o},vr=function(e,n,t,a){var r=a||{},i=cr(e,n,t||pr,r),o=dr(i,e,n,r);return typeof e=="string"&&typeof n=="string"&&(o.sequence=o.sequence.join("")),o},gr={get:vr},K=3,be=typeof Array.isArray=="function"?Array.isArray:function(u){return u instanceof Array},we=typeof Array.prototype.indexOf=="function"?function(u,e){return u.indexOf(e)}:function(u,e){for(var n=u.length,t=0;t<n;t++)if(u[t]===e)return t;return-1};function mr(u,e,n,t){for(var a=0;a<n;a++)for(var r=u[a],i=0;i<t;i++){var o=e[i];if(a!==i&&r===o)return!0}}function q(u,e,n,t,a){var r=u[n],i=e[t];if(r===i)return!0;if((typeof r>"u"?"undefined":F(r))!=="object"||(typeof i>"u"?"undefined":F(i))!=="object")return!1;var o=a.objectHash;if(!o)return a.matchByPosition&&n===t;var s=void 0,f=void 0;return typeof n=="number"?(a.hashCache1=a.hashCache1||[],s=a.hashCache1[n],typeof s>"u"&&(a.hashCache1[n]=s=o(r,n))):s=o(r),typeof s>"u"||(typeof t=="number"?(a.hashCache2=a.hashCache2||[],f=a.hashCache2[t],typeof f>"u"&&(a.hashCache2[t]=f=o(i,t))):f=o(i),typeof f>"u")?!1:s===f}var Fe=function(e){if(e.leftIsArray){var n={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},t=0,a=0,r=void 0,i=void 0,o=void 0,s=e.left,f=e.right,l=s.length,h=f.length,p=void 0;for(l>0&&h>0&&!n.objectHash&&typeof n.matchByPosition!="boolean"&&(n.matchByPosition=!mr(s,f,l,h));t<l&&t<h&&q(s,f,t,t,n);)r=t,p=new W(e.left[r],e.right[r]),e.push(p,r),t++;for(;a+t<l&&a+t<h&&q(s,f,l-1-a,h-1-a,n);)i=l-1-a,o=h-1-a,p=new W(e.left[i],e.right[o]),e.push(p,o),a++;var c=void 0;if(t+a===l){if(l===h){e.setResult(void 0).exit();return}for(c=c||{_t:"a"},r=t;r<h-a;r++)c[r]=[f[r]];e.setResult(c).exit();return}if(t+a===h){for(c=c||{_t:"a"},r=t;r<l-a;r++)c["_"+r]=[s[r],0,0];e.setResult(c).exit();return}delete n.hashCache1,delete n.hashCache2;var v=s.slice(t,l-a),d=f.slice(t,h-a),g=gr.get(v,d,q,n),b=[];for(c=c||{_t:"a"},r=t;r<l-a;r++)we(g.indices1,r-t)<0&&(c["_"+r]=[s[r],0,0],b.push(r));var w=!0;e.options&&e.options.arrays&&e.options.arrays.detectMove===!1&&(w=!1);var k=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(k=!0);var T=b.length;for(r=t;r<h-a;r++){var N=we(g.indices2,r-t);if(N<0){var A=!1;if(w&&T>0){for(var D=0;D<T;D++)if(i=b[D],q(v,d,i-t,r-t,n)){c["_"+i].splice(1,2,r,K),k||(c["_"+i][0]=""),o=r,p=new W(e.left[i],e.right[o]),e.push(p,o),b.splice(D,1),A=!0;break}}A||(c[r]=[f[r]])}else i=g.indices1[N]+t,o=g.indices2[N]+t,p=new W(e.left[i],e.right[o]),e.push(p,o)}e.setResult(c).exit()}};Fe.filterName="arrays";var ke={numerically:function(e,n){return e-n},numericallyBy:function(e){return function(n,t){return n[e]-t[e]}}},He=function(e){if(e.nested&&e.delta._t==="a"){var n=void 0,t=void 0,a=e.delta,r=e.left,i=[],o=[],s=[];for(n in a)if(n!=="_t")if(n[0]==="_")if(a[n][2]===0||a[n][2]===K)i.push(parseInt(n.slice(1),10));else throw new Error("only removal or move can be applied at original array indices,"+(" invalid diff type: "+a[n][2]));else a[n].length===1?o.push({index:parseInt(n,10),value:a[n][0]}):s.push({index:parseInt(n,10),delta:a[n]});for(i=i.sort(ke.numerically),n=i.length-1;n>=0;n--){t=i[n];var f=a["_"+t],l=r.splice(t,1)[0];f[2]===K&&o.push({index:f[1],value:l})}o=o.sort(ke.numericallyBy("index"));var h=o.length;for(n=0;n<h;n++){var p=o[n];r.splice(p.index,0,p.value)}var c=s.length,v=void 0;if(c>0)for(n=0;n<c;n++){var d=s[n];v=new ve(e.left[d.index],d.delta),e.push(v,d.index)}if(!e.children){e.setResult(e.left).exit();return}e.exit()}};He.filterName="arrays";var Ge=function(e){if(!(!e||!e.children)&&e.delta._t==="a"){for(var n=e.children.length,t=void 0,a=0;a<n;a++)t=e.children[a],e.left[t.childName]=t.result;e.setResult(e.left).exit()}};Ge.filterName="arraysCollectChildren";var Ue=function(e){if(!e.nested){e.delta[2]===K&&(e.newName="_"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),K]).exit());return}if(e.delta._t==="a"){var n=void 0,t=void 0;for(n in e.delta)n!=="_t"&&(t=new ge(e.delta[n]),e.push(t,n));e.exit()}};Ue.filterName="arrays";var _r=function(e,n,t){if(typeof n=="string"&&n[0]==="_")return parseInt(n.substr(1),10);if(be(t)&&t[2]===0)return"_"+n;var a=+n;for(var r in e){var i=e[r];if(be(i))if(i[2]===K){var o=parseInt(r.substr(1),10),s=i[1];if(s===+n)return o;o<=a&&s>a?a++:o>=a&&s<a&&a--}else if(i[2]===0){var f=parseInt(r.substr(1),10);f<=a&&a++}else i.length===1&&r<=a&&a--}return a};function Ve(u){if(!(!u||!u.children)&&u.delta._t==="a"){for(var e=u.children.length,n=void 0,t={_t:"a"},a=0;a<e;a++){n=u.children[a];var r=n.newName;typeof r>"u"&&(r=_r(u.delta,n.childName,n.result)),t[r]!==n.result&&(t[r]=n.result)}u.setResult(t).exit()}}Ve.filterName="arraysCollectChildren";var $e=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};$e.filterName="dates";var ie=2,yr=60,se=null,Xe=function(e){if(!se){var n=void 0;if(typeof diff_match_patch<"u")n=typeof diff_match_patch=="function"?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(oe)try{n=oe&&new oe}catch{n=null}if(!n){if(!e)return null;var t=new Error("text diff_match_patch library not found");throw t.diff_match_patch_not_found=!0,t}se={diff:function(r,i){return n.patch_toText(n.patch_make(r,i))},patch:function(r,i){for(var o=n.patch_apply(n.patch_fromText(i),r),s=0;s<o[1].length;s++)if(!o[1][s]){var f=new Error("text patch failed");f.textPatchFailed=!0}return o[0]}}}return se},We=function(e){if(e.leftType==="string"){var n=e.options&&e.options.textDiff&&e.options.textDiff.minLength||yr;if(e.left.length<n||e.right.length<n){e.setResult([e.left,e.right]).exit();return}var t=Xe();if(!t){e.setResult([e.left,e.right]).exit();return}var a=t.diff;e.setResult([a(e.left,e.right),0,ie]).exit()}};We.filterName="texts";var Ye=function(e){if(!e.nested&&e.delta[2]===ie){var n=Xe(!0).patch;e.setResult(n(e.left,e.delta[0])).exit()}};Ye.filterName="texts";var br=function(e){var n=void 0,t=void 0,a=void 0,r=void 0,i=void 0,o=null,s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,f=void 0;for(a=e.split(`
`),n=0,t=a.length;n<t;n++){r=a[n];var l=r.slice(0,1);l==="@"?(o=s.exec(r),f=n,a[f]="@@ -"+o[3]+","+o[4]+" +"+o[1]+","+o[2]+" @@"):l==="+"?(a[n]="-"+a[n].slice(1),a[n-1].slice(0,1)==="+"&&(i=a[n],a[n]=a[n-1],a[n-1]=i)):l==="-"&&(a[n]="+"+a[n].slice(1))}return a.join(`
`)},Je=function(e){e.nested||e.delta[2]===ie&&e.setResult([br(e.delta[0]),0,ie]).exit()};Je.filterName="texts";var wr=function(){function u(e){L(this,u),this.processor=new fr(e),this.processor.pipe(new ee("diff").append(Me,Ne,$e,We,Ie,Fe).shouldHaveResult()),this.processor.pipe(new ee("patch").append(Se,Ge,Ce,Ye,je,He).shouldHaveResult()),this.processor.pipe(new ee("reverse").append(Le,Ve,Pe,Je,Be,Ue).shouldHaveResult())}return H(u,[{key:"options",value:function(){var n;return(n=this.processor).options.apply(n,arguments)}},{key:"diff",value:function(n,t){return this.processor.process(new W(n,t))}},{key:"patch",value:function(n,t){return this.processor.process(new ve(n,t))}},{key:"reverse",value:function(n){return this.processor.process(new ge(n))}},{key:"unpatch",value:function(n,t){return this.patch(n,this.reverse(t))}},{key:"clone",value:function(n){return te(n)}}]),u}(),le=typeof Array.isArray=="function"?Array.isArray:function(u){return u instanceof Array},kr=typeof Object.keys=="function"?function(u){return Object.keys(u)}:function(u){var e=[];for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&e.push(n);return e},Er=function(e){return e.substr(0,1)==="_"?e.slice(1):e},Ee=function(e){return e==="_t"?-1:e.substr(0,1)==="_"?parseInt(e.slice(1),10):parseInt(e,10)+.1},Rr=function(e,n){return Ee(e)-Ee(n)},ae=function(){function u(){L(this,u)}return H(u,[{key:"format",value:function(n,t){var a={};return this.prepareContext(a),this.recurse(a,n,t),this.finalize(a)}},{key:"prepareContext",value:function(n){n.buffer=[],n.out=function(){var t;(t=this.buffer).push.apply(t,arguments)}}},{key:"typeFormattterNotFound",value:function(n,t){throw new Error("cannot format delta type: "+t)}},{key:"typeFormattterErrorFormatter",value:function(n,t){return t.toString()}},{key:"finalize",value:function(n){var t=n.buffer;if(le(t))return t.join("")}},{key:"recurse",value:function(n,t,a,r,i,o,s){var f=t&&o,l=f?o.value:a;if(!(typeof t>"u"&&typeof r>"u")){var h=this.getDeltaType(t,o),p=h==="node"?t._t==="a"?"array":"object":"";typeof r<"u"?this.nodeBegin(n,r,i,h,p,s):this.rootBegin(n,h,p);var c=void 0;try{c=this["format_"+h]||this.typeFormattterNotFound(n,h),c.call(this,n,t,l,r,i,o)}catch(v){this.typeFormattterErrorFormatter(n,v,t,l,r,i,o),typeof console<"u"&&console.error&&console.error(v.stack)}typeof r<"u"?this.nodeEnd(n,r,i,h,p,s):this.rootEnd(n,h,p)}}},{key:"formatDeltaChildren",value:function(n,t,a){var r=this;this.forEachDeltaKey(t,a,function(i,o,s,f){r.recurse(n,t[i],a?a[o]:void 0,i,o,s,f)})}},{key:"forEachDeltaKey",value:function(n,t,a){var r=kr(n),i=n._t==="a",o={},s=void 0;if(typeof t<"u")for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&typeof n[s]>"u"&&(!i||typeof n["_"+s]>"u")&&r.push(s);for(s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var f=n[s];le(f)&&f[2]===3&&(o[f[1].toString()]={key:s,value:t&&t[parseInt(s.substr(1))]},this.includeMoveDestinations!==!1&&typeof t>"u"&&typeof n[f[1]]>"u"&&r.push(f[1].toString()))}i?r.sort(Rr):r.sort();for(var l=0,h=r.length;l<h;l++){var p=r[l];if(!(i&&p==="_t")){var c=i?typeof p=="number"?p:parseInt(Er(p),10):p,v=l===h-1;a(p,c,o[c],v)}}}},{key:"getDeltaType",value:function(n,t){if(typeof n>"u")return typeof t<"u"?"movedestination":"unchanged";if(le(n)){if(n.length===1)return"added";if(n.length===2)return"modified";if(n.length===3&&n[2]===0)return"deleted";if(n.length===3&&n[2]===2)return"textdiff";if(n.length===3&&n[2]===3)return"moved"}else if((typeof n>"u"?"undefined":F(n))==="object")return"node";return"unknown"}},{key:"parseTextDiff",value:function(n){for(var t=[],a=n.split(`
@@ `),r=0,i=a.length;r<i;r++){var o=a[r],s={pieces:[]},f=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(o).slice(1);s.location={line:f[0],chr:f[1]};for(var l=o.split(`
`).slice(1),h=0,p=l.length;h<p;h++){var c=l[h];if(c.length){var v={type:"context"};c.substr(0,1)==="+"?v.type="added":c.substr(0,1)==="-"&&(v.type="deleted"),v.text=c.slice(1),s.pieces.push(v)}}t.push(s)}return t}}]),u}();(function(u){Y(e,u);function e(){return L(this,e),J(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return H(e,[{key:"typeFormattterErrorFormatter",value:function(t,a){t.out('<pre class="jsondiffpatch-error">'+a+"</pre>")}},{key:"formatValue",value:function(t,a){t.out("<pre>"+Re(JSON.stringify(a,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(t,a){var r=this.parseTextDiff(a);t.out('<ul class="jsondiffpatch-textdiff">');for(var i=0,o=r.length;i<o;i++){var s=r[i];t.out('<li><div class="jsondiffpatch-textdiff-location">'+('<span class="jsondiffpatch-textdiff-line-number">'+s.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+s.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">'));for(var f=s.pieces,l=0,h=f.length;l<h;l++){var p=f[l];t.out('<span class="jsondiffpatch-textdiff-'+p.type+'">'+Re(decodeURI(p.text))+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,a,r){var i="jsondiffpatch-"+a+(r?" jsondiffpatch-child-node-type-"+r:"");t.out('<div class="jsondiffpatch-delta '+i+'">')}},{key:"rootEnd",value:function(t){t.out("</div>"+(t.hasArrows?'<script type="text/javascript">setTimeout('+(Or.toString()+",10);<\/script>"):""))}},{key:"nodeBegin",value:function(t,a,r,i,o){var s="jsondiffpatch-"+i+(o?" jsondiffpatch-child-node-type-"+o:"");t.out('<li class="'+s+'" data-key="'+r+'">'+('<div class="jsondiffpatch-property-name">'+r+"</div>"))}},{key:"nodeEnd",value:function(t){t.out("</li>")}},{key:"format_unchanged",value:function(t,a,r){typeof r>"u"||(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,r),t.out("</div>"))}},{key:"format_movedestination",value:function(t,a,r){typeof r>"u"||(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,r),t.out("</div>"))}},{key:"format_node",value:function(t,a,r){var i=a._t==="a"?"array":"object";t.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+i+'">'),this.formatDeltaChildren(t,a,r),t.out("</ul>")}},{key:"format_added",value:function(t,a){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,a[0]),t.out("</div>")}},{key:"format_modified",value:function(t,a){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,a[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,a[1]),t.out("</div>")}},{key:"format_deleted",value:function(t,a){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,a[0]),t.out("</div>")}},{key:"format_moved",value:function(t,a){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,a[0]),t.out('</div><div class="jsondiffpatch-moved-destination">'+a[1]+"</div>"),t.out(`<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">
          <svg width="30" height="60" style="position: absolute; display: none;">
          <defs>
              <marker id="markerArrow" markerWidth="8" markerHeight="8"
                 refx="2" refy="4"
                     orient="auto" markerUnits="userSpaceOnUse">
                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />
              </marker>
          </defs>
          <path d="M30,0 Q-10,25 26,50"
            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"
          ></path>
          </svg>
      </div>`),t.hasArrows=!0}},{key:"format_textdiff",value:function(t,a){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,a[0]),t.out("</div>")}}]),e})(ae);function Re(u){for(var e=u,n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],t=0;t<n.length;t++)e=e.replace(n[t][0],n[t][1]);return e}var Or=function(e){var n=e||document,t=function(o){var s=o.textContent,f=o.innerText;return s||f},a=function(o,s,f){for(var l=o.querySelectorAll(s),h=0,p=l.length;h<p;h++)f(l[h])},r=function(o,s){for(var f=o.children,l=0,h=f.length;l<h;l++)s(f[l],l)};a(n,".jsondiffpatch-arrow",function(i){var o=i.parentNode,s=i.children,f=i.style,l=o,h=s[0],p=h.children[1];h.style.display="none";var c=t(l.querySelector(".jsondiffpatch-moved-destination")),v=l.parentNode,d=void 0;if(r(v,function(w){w.getAttribute("data-key")===c&&(d=w)}),!!d)try{var g=d.offsetTop-l.offsetTop;h.setAttribute("height",Math.abs(g)+6),f.top=-8+(g>0?0:g)+"px";var b=g>0?"M30,0 Q-10,"+Math.round(g/2)+" 26,"+(g-4):"M30,"+-g+" Q-10,"+Math.round(-g/2)+" 26,4";p.setAttribute("d",b),h.style.display=""}catch{}})},z=function(u){Y(e,u);function e(){L(this,e);var n=J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.includeMoveDestinations=!1,n}return H(e,[{key:"prepareContext",value:function(t){de(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(a){this.indentLevel=(this.indentLevel||0)+(typeof a>"u"?1:a),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},t.row=function(a,r){t.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),t.out(t.indentPad),t.out('</pre><pre style="display: inline-block">'),t.out(a),t.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),t.out(r),t.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(t,a){t.row("",'<pre class="jsondiffpatch-error">'+a+"</pre>")}},{key:"formatTextDiffString",value:function(t,a){var r=this.parseTextDiff(a);t.out('<ul class="jsondiffpatch-textdiff">');for(var i=0,o=r.length;i<o;i++){var s=r[i];t.out('<li><div class="jsondiffpatch-textdiff-location">'+('<span class="jsondiffpatch-textdiff-line-number">'+s.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+s.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">'));for(var f=s.pieces,l=0,h=f.length;l<h;l++){var p=f[l];t.out('<span class="jsondiffpatch-textdiff-'+p.type+'">'+p.text+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function(t,a,r){t.out('<table class="jsondiffpatch-annotated-delta">'),a==="node"&&(t.row("{"),t.indent()),r==="array"&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(t,a){a==="node"&&(t.indent(-1),t.row("}")),t.out("</table>")}},{key:"nodeBegin",value:function(t,a,r,i,o){t.row("&quot;"+a+"&quot;: {"),i==="node"&&t.indent(),o==="array"&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(t,a,r,i,o,s){i==="node"&&t.indent(-1),t.row("}"+(s?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,a,r){this.formatDeltaChildren(t,a,r)}}]),e}(ae),Z=function(e){return'<pre style="display:inline-block">&quot;'+e+"&quot;</pre>"},Tr={added:function(e,n,t,a){var r=" <pre>([newValue])</pre>";return typeof a>"u"?"new value"+r:typeof a=="number"?"insert at index "+a+r:"add property "+Z(a)+r},modified:function(e,n,t,a){var r=" <pre>([previousValue, newValue])</pre>";return typeof a>"u"?"modify value"+r:typeof a=="number"?"modify at index "+a+r:"modify property "+Z(a)+r},deleted:function(e,n,t,a){var r=" <pre>([previousValue, 0, 0])</pre>";return typeof a>"u"?"delete value"+r:typeof a=="number"?"remove index "+a+r:"delete property "+Z(a)+r},moved:function(e,n,t,a){return'move from <span title="(position to remove at original state)">'+("index "+a+'</span> to <span title="(position to insert at final')+(' state)">index '+e[1]+"</span>")},textdiff:function(e,n,t,a){var r=typeof a>"u"?"":typeof a=="number"?" at index "+a:" at property "+Z(a);return"text diff"+r+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},Q=function(e,n){var t=this.getDeltaType(n),a=Tr[t],r=a&&a.apply(a,Array.prototype.slice.call(arguments,1)),i=JSON.stringify(n,null,2);t==="textdiff"&&(i=i.split("\\n").join(`\\n"+
   "`)),e.indent(),e.row(i,r),e.indent(-1)};z.prototype.format_added=Q;z.prototype.format_modified=Q;z.prototype.format_deleted=Q;z.prototype.format_moved=Q;z.prototype.format_textdiff=Q;var x={add:"add",remove:"remove",replace:"replace",move:"move"};(function(u){Y(e,u);function e(){L(this,e);var n=J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.includeMoveDestinations=!0,n}return H(e,[{key:"prepareContext",value:function(t){de(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.result=[],t.path=[],t.pushCurrentOp=function(a){var r=a.op,i=a.value,o={op:r,path:this.currentPath()};typeof i<"u"&&(o.value=i),this.result.push(o)},t.pushMoveOp=function(a){var r=this.currentPath();this.result.push({op:x.move,from:r,path:this.toPath(a)})},t.currentPath=function(){return"/"+this.path.join("/")},t.toPath=function(a){var r=this.path.slice();return r[r.length-1]=a,"/"+r.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(t,a){t.out("[ERROR] "+a)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(t,a,r){var i=t.path;i.push(r)}},{key:"nodeEnd",value:function(t){var a=t.path;a.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(t,a,r){this.formatDeltaChildren(t,a,r)}},{key:"format_added",value:function(t,a){t.pushCurrentOp({op:x.add,value:a[0]})}},{key:"format_modified",value:function(t,a){t.pushCurrentOp({op:x.replace,value:a[1]})}},{key:"format_deleted",value:function(t){t.pushCurrentOp({op:x.remove})}},{key:"format_moved",value:function(t,a){var r=a[1];t.pushMoveOp(r)}},{key:"format_textdiff",value:function(){throw new Error("Not implemented")}},{key:"format",value:function(t,a){var r={};return this.prepareContext(r),this.recurse(r,t,a),r.result}}]),e})(ae);function $(u){return ye&&ye[u]||function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n}}var X={added:$("green"),deleted:$("red"),movedestination:$("gray"),moved:$("yellow"),unchanged:$("gray"),error:$("white.bgRed"),textDiffLine:$("gray")};(function(u){Y(e,u);function e(){L(this,e);var n=J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.includeMoveDestinations=!1,n}return H(e,[{key:"prepareContext",value:function(t){de(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepareContext",this).call(this,t),t.indent=function(a){this.indentLevel=(this.indentLevel||0)+(typeof a>"u"?1:a),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},t.outLine=function(){this.buffer.push(`
`+(this.indentPad||""))},t.out=function(){for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];for(var o=0,s=r.length;o<s;o++){var f=r[o].split(`
`),l=f.join(`
`+(this.indentPad||""));this.color&&this.color[0]&&(l=this.color[0](l)),this.buffer.push(l)}},t.pushColor=function(a){this.color=this.color||[],this.color.unshift(a)},t.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(t,a){t.pushColor(X.error),t.out("[ERROR]"+a),t.popColor()}},{key:"formatValue",value:function(t,a){t.out(JSON.stringify(a,null,2))}},{key:"formatTextDiffString",value:function(t,a){var r=this.parseTextDiff(a);t.indent();for(var i=0,o=r.length;i<o;i++){var s=r[i];t.pushColor(X.textDiffLine),t.out(s.location.line+","+s.location.chr+" "),t.popColor();for(var f=s.pieces,l=0,h=f.length;l<h;l++){var p=f[l];t.pushColor(X[p.type]),t.out(p.text),t.popColor()}i<o-1&&t.outLine()}t.indent(-1)}},{key:"rootBegin",value:function(t,a,r){t.pushColor(X[a]),a==="node"&&(t.out(r==="array"?"[":"{"),t.indent())}},{key:"rootEnd",value:function(t,a,r){a==="node"&&(t.indent(-1),t.out(r==="array"?"]":"}")),t.popColor()}},{key:"nodeBegin",value:function(t,a,r,i,o){t.pushColor(X[i]),t.out(r+": "),i==="node"&&(t.out(o==="array"?"[":"{"),t.indent())}},{key:"nodeEnd",value:function(t,a,r,i,o,s){i==="node"&&(t.indent(-1),t.out(o==="array"?"]":"}"+(s?"":","))),s||t.outLine(),t.popColor()}},{key:"format_unchanged",value:function(t,a,r){typeof r>"u"||this.formatValue(t,r)}},{key:"format_movedestination",value:function(t,a,r){typeof r>"u"||this.formatValue(t,r)}},{key:"format_node",value:function(t,a,r){this.formatDeltaChildren(t,a,r)}},{key:"format_added",value:function(t,a){this.formatValue(t,a[0])}},{key:"format_modified",value:function(t,a){t.pushColor(X.deleted),this.formatValue(t,a[0]),t.popColor(),t.out(" => "),t.pushColor(X.added),this.formatValue(t,a[1]),t.popColor()}},{key:"format_deleted",value:function(t,a){this.formatValue(t,a[0])}},{key:"format_moved",value:function(t,a){t.out("==> "+a[1])}},{key:"format_textdiff",value:function(t,a){this.formatTextDiffString(t,a[0])}}]),e})(ae);function pe(u){return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(u)}function ce(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ce=function(){return u};var u={},e=Object.prototype,n=e.hasOwnProperty,t=Object.defineProperty||function(_,m,y){_[m]=y.value},a=typeof Symbol=="function"?Symbol:{},r=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function s(_,m,y){return Object.defineProperty(_,m,{value:y,enumerable:!0,configurable:!0,writable:!0}),_[m]}try{s({},"")}catch{s=function(y,E,R){return y[E]=R}}function f(_,m,y,E){var R=m&&m.prototype instanceof p?m:p,O=Object.create(R.prototype),I=new P(E||[]);return t(O,"_invoke",{value:N(_,y,I)}),O}function l(_,m,y){try{return{type:"normal",arg:_.call(m,y)}}catch(E){return{type:"throw",arg:E}}}u.wrap=f;var h={};function p(){}function c(){}function v(){}var d={};s(d,r,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(j([])));b&&b!==e&&n.call(b,r)&&(d=b);var w=v.prototype=p.prototype=Object.create(d);function k(_){["next","throw","return"].forEach(function(m){s(_,m,function(y){return this._invoke(m,y)})})}function T(_,m){function y(R,O,I,S){var B=l(_[R],_,O);if(B.type!=="throw"){var U=B.arg,G=U.value;return G&&pe(G)=="object"&&n.call(G,"__await")?m.resolve(G.__await).then(function(V){y("next",V,I,S)},function(V){y("throw",V,I,S)}):m.resolve(G).then(function(V){U.value=V,I(U)},function(V){return y("throw",V,I,S)})}S(B.arg)}var E;t(this,"_invoke",{value:function(O,I){function S(){return new m(function(B,U){y(O,I,B,U)})}return E=E?E.then(S,S):S()}})}function N(_,m,y){var E="suspendedStart";return function(R,O){if(E==="executing")throw new Error("Generator is already running");if(E==="completed"){if(R==="throw")throw O;return M()}for(y.method=R,y.arg=O;;){var I=y.delegate;if(I){var S=A(I,y);if(S){if(S===h)continue;return S}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(E==="suspendedStart")throw E="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);E="executing";var B=l(_,m,y);if(B.type==="normal"){if(E=y.done?"completed":"suspendedYield",B.arg===h)continue;return{value:B.arg,done:y.done}}B.type==="throw"&&(E="completed",y.method="throw",y.arg=B.arg)}}}function A(_,m){var y=_.iterator[m.method];if(y===void 0){if(m.delegate=null,m.method==="throw"){if(_.iterator.return&&(m.method="return",m.arg=void 0,A(_,m),m.method==="throw"))return h;m.method="throw",m.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var E=l(y,_.iterator,m.arg);if(E.type==="throw")return m.method="throw",m.arg=E.arg,m.delegate=null,h;var R=E.arg;return R?R.done?(m[_.resultName]=R.value,m.next=_.nextLoc,m.method!=="return"&&(m.method="next",m.arg=void 0),m.delegate=null,h):R:(m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,h)}function D(_){var m={tryLoc:_[0]};1 in _&&(m.catchLoc=_[1]),2 in _&&(m.finallyLoc=_[2],m.afterLoc=_[3]),this.tryEntries.push(m)}function C(_){var m=_.completion||{};m.type="normal",delete m.arg,_.completion=m}function P(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(D,this),this.reset(!0)}function j(_){if(_){var m=_[r];if(m)return m.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var y=-1,E=function R(){for(;++y<_.length;)if(n.call(_,y))return R.value=_[y],R.done=!1,R;return R.value=void 0,R.done=!0,R};return E.next=E}}return{next:M}}function M(){return{value:void 0,done:!0}}return c.prototype=v,t(w,"constructor",{value:v,configurable:!0}),t(v,"constructor",{value:c,configurable:!0}),c.displayName=s(v,o,"GeneratorFunction"),u.isGeneratorFunction=function(_){var m=typeof _=="function"&&_.constructor;return!!m&&(m===c||(m.displayName||m.name)==="GeneratorFunction")},u.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,v):(_.__proto__=v,s(_,o,"GeneratorFunction")),_.prototype=Object.create(w),_},u.awrap=function(_){return{__await:_}},k(T.prototype),s(T.prototype,i,function(){return this}),u.AsyncIterator=T,u.async=function(_,m,y,E,R){R===void 0&&(R=Promise);var O=new T(f(_,m,y,E),R);return u.isGeneratorFunction(m)?O:O.next().then(function(I){return I.done?I.value:O.next()})},k(w),s(w,o,"Generator"),s(w,r,function(){return this}),s(w,"toString",function(){return"[object Generator]"}),u.keys=function(_){var m=Object(_),y=[];for(var E in m)y.push(E);return y.reverse(),function R(){for(;y.length;){var O=y.pop();if(O in m)return R.value=O,R.done=!1,R}return R.done=!0,R}},u.values=j,P.prototype={constructor:P,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!m)for(var y in this)y.charAt(0)==="t"&&n.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var y=this;function E(U,G){return I.type="throw",I.arg=m,y.next=U,G&&(y.method="next",y.arg=void 0),!!G}for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R],I=O.completion;if(O.tryLoc==="root")return E("end");if(O.tryLoc<=this.prev){var S=n.call(O,"catchLoc"),B=n.call(O,"finallyLoc");if(S&&B){if(this.prev<O.catchLoc)return E(O.catchLoc,!0);if(this.prev<O.finallyLoc)return E(O.finallyLoc)}else if(S){if(this.prev<O.catchLoc)return E(O.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return E(O.finallyLoc)}}}},abrupt:function(m,y){for(var E=this.tryEntries.length-1;E>=0;--E){var R=this.tryEntries[E];if(R.tryLoc<=this.prev&&n.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var O=R;break}}O&&(m==="break"||m==="continue")&&O.tryLoc<=y&&y<=O.finallyLoc&&(O=null);var I=O?O.completion:{};return I.type=m,I.arg=y,O?(this.method="next",this.next=O.finallyLoc,h):this.complete(I)},complete:function(m,y){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&y&&(this.next=y),h},finish:function(m){for(var y=this.tryEntries.length-1;y>=0;--y){var E=this.tryEntries[y];if(E.finallyLoc===m)return this.complete(E.completion,E.afterLoc),C(E),h}},catch:function(m){for(var y=this.tryEntries.length-1;y>=0;--y){var E=this.tryEntries[y];if(E.tryLoc===m){var R=E.completion;if(R.type==="throw"){var O=R.arg;C(E)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(m,y,E){return this.delegate={iterator:j(m),resultName:y,nextLoc:E},this.method==="next"&&(this.arg=void 0),h}},u}function Oe(u,e,n,t,a,r,i){try{var o=u[r](i),s=o.value}catch(f){n(f);return}o.done?e(s):Promise.resolve(s).then(t,a)}function Ar(u){return function(){var e=this,n=arguments;return new Promise(function(t,a){var r=u.apply(e,n);function i(s){Oe(r,t,a,i,o,"next",s)}function o(s){Oe(r,t,a,i,o,"throw",s)}i(void 0)})}}function Dr(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(u,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(u,t.key,t)}}function Nr(u,e,n){return e&&Te(u.prototype,e),n&&Te(u,n),Object.defineProperty(u,"prototype",{writable:!1}),u}function Ae(u,e,n){return e in u?Object.defineProperty(u,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):u[e]=n,u}var Mr=function(){function u(){Dr(this,u),Ae(this,"diffPatcher",new wr({arrays:{detectMove:!1,includeValueOnMove:!1},textDiff:{minLength:1}})),Ae(this,"scheduler",new ze)}return Nr(u,[{key:"diff",value:function(){var e=Ar(ce().mark(function t(a){return ce().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.scheduler.request();case 2:return i.abrupt("return",{id:a.id,delta:this.diffPatcher.diff(a.a,a.b)});case 3:case"end":return i.stop()}},t,this)}));function n(t){return e.apply(this,arguments)}return n}()}]),u}();export{Mr as JsonDiffMain};
